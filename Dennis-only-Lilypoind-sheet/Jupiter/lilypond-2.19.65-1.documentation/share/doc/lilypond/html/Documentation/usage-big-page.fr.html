<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2015 par les auteurs.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

La traduction de la notice de droits d'auteur ci-dessous vise à
faciliter sa compréhension par le lecteur non anglophone, mais seule la
notice en anglais a valeur légale.

Vous avez le droit de copier, distribuer et/ou modifier ce document
selon les termes de la Licence GNU de documentation libre, version 1.1
ou tout autre version ultérieure publiée par la Free Software
Foundation, "sans aucune section invariante".
Une copie de la licence est fournie à la section "Licence GNU de documentation libre".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on le 6 ao&ucirc;t 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond &ndash; Utilisation des programmes</title>

<meta name="description" content="GNU LilyPond &ndash; Utilisation des programmes">
<meta name="keywords" content="GNU LilyPond &ndash; Utilisation des programmes">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#index" rel="start" title="LilyPond &mdash; Utilisation des programmes">
<link href="#lilypond-index" rel="index" title="B. Index de LilyPond">
<link href="#SEC_Contents" rel="contents" title="Table des mati&egrave;res">
<link href="#SEC_About" rel="help" title="A propos de ce document">
<link rel="stylesheet" type="text/css" title="Default style" href="../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="fr" class="usage devStatus">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td></tr></table>
<a name="index"></a>
<h1 class="settitle">LilyPond &mdash; Utilisation des programmes</h1>

<table class="cartouche" border="1"><tr><td>
<p>Ce document constitue le manuel d&rsquo;utilisation des programmes de GNU
LilyPond&nbsp;2.19.65.  De plus, ce manuel suggère des « bonnes
pratiques » pour une utilisation plus efficace.
</p></td></tr></table>






<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#running-lilypond" accesskey="1">1. Exécution de <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       mode d&rsquo;emploi.
</td></tr>
<tr><td align="left" valign="top"><a href="#updating-files-with-convert_002dly" accesskey="2">2. Mise à jour avec <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> mise à jour d&rsquo;anciens fichiers.
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook" accesskey="3">3. Association musique-texte avec <code>lilypond-book</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               intégration de texte et musique.
</td></tr>
<tr><td align="left" valign="top"><a href="#external-programs" accesskey="4">4. Programmes externes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         associer LilyPond à d&rsquo;autres programmes.
</td></tr>
<tr><td align="left" valign="top"><a href="#suggestions-for-writing-files" accesskey="5">5. Suggestions pour la saisie de fichiers LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  comment agencer un fichier.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Annexes

</pre></th></tr><tr><td align="left" valign="top"><a href="#gnu-free-documentation-license" accesskey="6">A. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> licence de ce document.
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-index" accesskey="7">B. Index de LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<table class="cartouche" border="1"><tr><td>
<p>Pour connaître la place qu&rsquo;occupe ce manuel dans la
documentation, consultez la page <a name="index-Manuels"></a>
<a href="web-big-page.fr.html#manuals">Manuels</a>.
</p>
<p>Si vous ne disposez pas de certains manuels, la documentation complète
se trouve sur <a href="http://lilypond.org">http://lilypond.org/</a>.
</p></td></tr></table>









<hr size="1">
<a name="Ex_00e9cution-de-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#index" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#index" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#normal-usage" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation habituelle &gt; </a>]</td></tr></table>
<a name="running-lilypond"></a>
<h1 class="chapter">1. Exécution de <code>lilypond</code></h1>

<p>Ce chapitre passe en revue ce qui se passe lorsque vous lancez LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#normal-usage" accesskey="1">1.1 Utilisation habituelle</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command_002dline-usage" accesskey="2">1.2 Utilisation en ligne de commande</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-messages" accesskey="3">1.3 Messages d&rsquo;erreur</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#common-errors" accesskey="4">1.4 Quelques erreurs des plus courantes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Utilisation-habituelle"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#running-lilypond" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command_002dline-usage" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation en ligne de commande &gt; </a>]</td></tr></table>
<a name="normal-usage"></a>
<h2 class="section">1.1 Utilisation habituelle</h2>

<p>La plupart des utilisateurs de LilyPond le font au travers d&rsquo;une
interface graphique (<em>GUI</em> pour <em>graphical user interface</em>).
Si vous ne l&rsquo;avez pas encore parcouru, lisez le <a name="index-Tutoriel"></a>
<a href="learning-big-page.fr.html#tutorial">Tutoriel</a>.
Si vous utilisez un éditeur alternatif pour rédiger vos fichiers
LilyPond, référez-vous à la documentation de celui-ci.
</p>

<hr size="6">
<a name="Utilisation-en-ligne-de-commande"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#normal-usage" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation habituelle&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Lancement de LilyPond &gt; </a>]</td></tr></table>
<a name="command_002dline-usage"></a>
<h2 class="section">1.2 Utilisation en ligne de commande</h2>

<p>Nous nous intéresserons ici aux spécificités de LilyPond employé en
ligne de commande.  La ligne de commande permet de faire appel à
certaines options particulières.  D&rsquo;autre part, certains utilitaires
associés, tel que <code>midi2ly</code>, ne sont disponibles qu&rsquo;en ligne de
commande.
</p>
<p>Par « ligne de commande », nous entendons l&rsquo;interface de commande du
système.  Les utilisateurs de Windows seront certainement plus familiers
des termes « fenêtre DOS » ou « invite de commande ».  Quant aux
utilisateurs de MacOS X, ils connaissent assurément les termes
« console » et « terminal ».  Les paramétrages spécifiques au système
MacOS font l&rsquo;objet d&rsquo;un <a name="index-MacOS-X"></a>
<a href="web-big-page.fr.html#macos-x">chapitre particulier</a>.
</p>
<p>Notre propos n&rsquo;est pas ici d&rsquo;expliquer ce qu&rsquo;est l&rsquo;interface de
commande pour un système informatique ni comment elle fonctionne.
Aussi, si vous ne savez de quoi il retourne, nous vous renvoyons aux
nombreuses documentations que vous pourrez trouver sur ce sujet.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-lilypond" accesskey="1">Lancement de LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#basic-command-line-options-for-lilypond" accesskey="2">Options basiques de <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#advanced-command-line-options-for-lilypond" accesskey="3">Options avancées de <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#environment-variables" accesskey="4">Variables d&rsquo;environnement</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-in-chroot-jail" accesskey="5">Exécution de LilyPond en mode protégé</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Lancement-de-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command_002dline-usage" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="invoking-lilypond"></a>
<h3 class="unnumberedsubsec">Lancement de LilyPond</h3>

<p>L&rsquo;exécutable <code>lilypond</code> en ligne de commande se lance ainsi :
</p>
<blockquote><pre class="example">lilypond [<var>option</var>]&hellip; <var>fichier</var>&hellip;
</pre></blockquote>

<p>Lorsque le fichier est fourni sans extension, LilyPond présume qu&rsquo;il
s&rsquo;agit de &lsquo;<tt>.ly</tt>&rsquo;.  Pour interpréter directement l&rsquo;entrée standard
(<em>stdin</em>), fournissez un tiret (<code>-</code>) en lieu et place de
<var>fichier</var>.
</p>
<p>Le traitement de &lsquo;<tt>monfichier.ly</tt>&rsquo; produira &lsquo;<tt>monfichier.ps</tt>&rsquo; et
&lsquo;<tt>monfichier.pdf</tt>&rsquo;.  Vous pouvez spécifier plusieurs fichiers à la
fois ; ils seront traités indépendamment les uns des
autres.<sup><a name="DOCF1" href="#FOOT1">1</a></sup>
</p>
<p>Lorsque &lsquo;<tt>monfichier.ly</tt>&rsquo; contient plus d&rsquo;une section <code>\book</code>,
les fichiers produits &ndash; à partir du deuxième &ndash; seront numérotés.  Par
ailleurs, la valeur affectée à <code>output-suffix</code> sera insérée entre la
racine et le numéro.  Par exemple, un fichier <var>racine</var> qui
contiendrait
</p>
<blockquote><pre class="example">#(define output-suffix &quot;violon&quot;)
\score { &hellip; }
#(define output-suffix &quot;cello&quot;)
\score { &hellip; }
</pre></blockquote>

<p>fournira grâce à LilyPond &lsquo;<tt><var>racine</var>-violon.pdf</tt>&rsquo; et
&lsquo;<tt><var>racine</var>-cello-1.pdf</tt>&rsquo;.
</p>

<hr size="6">
<a name="invoking-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Lancement de LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#invoking-lilypond" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Lancement de LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Options basiques de lilypond &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Utilisation de LilyPond avec les fonctionnalités standard de l&rsquo;interpréteur</h4>

<p>Dans la mesure où LilyPond est une application qui fonctionne en ligne
de commande, les fonctionnalités de l&rsquo;interpréteur utilisé pour lancer
LilyPond peuvent se révéler utiles.
</p>
<p>Par exemple,
</p>
<blockquote><pre class="example">lilypond *.ly
</pre></blockquote>

<p>traitera tous les fichiers LilyPond présents dans le répertoire en
cours.
</p>
<p>Rediriger, par exemple dans un fichier, ce qui est émis à l&rsquo;écran peut
s&rsquo;avérer utile.
</p>
<blockquote><pre class="example">lilypond fichier.ly 1&gt; stdout.log

lilypond fichier.ly 2&gt; stderr.log

lilypond fichier.ly &amp;&gt; tous.log
</pre></blockquote>

<p>redirigeront respectivement le « verbiage normal », les erreurs ou tout,
dans un fichier texte.
</p>
<p>Consultez avant tout la documentation de votre interpréteur habituel
&ndash; terminal, console, etc. &ndash; pour vérifier qu&rsquo;il prend en charge les
options dans cette syntaxe.
</p>
<p>Voici comment traiter un jeu de fichiers répartis dans un répertoire
donné ainsi que tous ses différents sous-répertoires.  Les fichiers
résultants seront regroupés dans le répertoire à partir duquel la
commande a été exécutée, non selon l&rsquo;emplacement des fichiers sources.
</p>
<blockquote><pre class="example">find . -name '*.ly' -exec lilypond '{}' \;
</pre></blockquote>

<p>Cette commande, bien qu&rsquo;effective uniquement dans un terminal, devrait
être fonctionnelle aussi pour les utilisateurs de MacOS X.
</p>
<p>Les utilisateurs de windows utiliseront l&rsquo;instruction
</p>
<blockquote><pre class="example">forfiles /s /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>

<p>dans l&rsquo;<code>interpréteur de commandes</code>, qui se trouve normalement sous
<code>Démarrer &gt; Accessoires &gt; Interpréteur de commandes</code> ou, pour la
version 8, en faisant une recherche sur « interpréteur de commande ».
</p>
<p>Par ailleurs, il est possible de spécifier de manière explicite le chemin
d&rsquo;accès au dossier comportant des sous-répertoires où se trouvent les
fichiers sources, à l&rsquo;aide de l&rsquo;option <code>/p</code> :
</p>
<blockquote><pre class="example">forfiles /s /p C:\Documents\MesPartitions /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>

<p>Dans le cas où ce chemin d&rsquo;accès comporte des espaces, l&rsquo;intégralité de
ce chemin devra être borné par des guillemets informatiques :
</p>
<blockquote><pre class="example">forfiles /s /p &quot;C:\Documents\Mes Partitions&quot; /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>


<hr size="6">
<a name="Options-basiques-de-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Options avancées de lilypond &gt; </a>]</td></tr></table>
<a name="basic-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">Options basiques de <code>lilypond</code></h3>

<a name="index-lancement-de-lilypond"></a>
<a name="index-ligne-de-commande_002c-options-pour-lilypond"></a>
<a name="index-options_002c-ligne-de-commande"></a>
<a name="index-switches"></a>
<a name="index-commutateurs"></a>

<p>Différentes options sont disponibles en ligne de commande :
</p>
<dl compact="compact">
<dt> <code>-b, --bigpdfs</code></dt>
<dd><a name="index-bigpdfs"></a>

<p>Les fichiers PDF générés peuvent être beaucoup plus lourd que la normale
selon le degré d&rsquo;optimisation des fontes.  Néanmoins, lorsque plusieurs
fichiers PDF sont inclus dans un document <code>pdftex</code>, <code>xetex</code> ou
<code>luatex</code>, ils peuvent faire l&rsquo;objet d&rsquo;un traitement supplémentaire
par <code>ghostscript</code> afin de fusionner les données de fontes
redondantes et ainsi obtenir un fichier PDF <em>significativement</em>
plus léger.
</p>
<blockquote><pre class="example">lilypond -b monfichier
</pre></blockquote>

<p>Puis lancer <code>ghostscript</code> :
</p>
<blockquote><pre class="example">gs -q -sDEVICE=pdfwrite -o gsout.pdf monfichier.pdf
</pre></blockquote>

<p><code>pdfsizeopt.py</code> vient alors en complément pour optimiser encore la
taille du fichier :
</p>
<blockquote><pre class="example">pdfsizeopt.py --use-multivalent=no gsout.pdf final.pdf
</pre></blockquote>


</dd>
<dt> <code>-d, --define-default=<var>variable</var>=<var>valeur</var></code></dt>
<dd><p>Voir <a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a>.
</p>
<a name="index-Scheme_002c-evaluation-d_0027expression"></a>
<a name="index-expression-Scheme_002c-evaluation"></a>
</dd>
<dt> <code>-e, --evaluate=<var>expr</var></code></dt>
<dd><p>Évalue l&rsquo;expression Scheme <var>expr</var> avant d&rsquo;analyser tout fichier
&lsquo;<tt>.ly</tt>&rsquo;.  Lorsque vous spécifiez l&rsquo;option &lsquo;<samp>-e</samp>&rsquo; à plusieurs
reprises, l&rsquo;évaluation sera faite en séquence.
</p>
<p>Dans la mesure où l&rsquo;expression est évaluée par le module
<code>guile-user</code>, vous devrez, dès lors que <var>expr</var> utilise des
définitions, spécifier
</p>
<blockquote><pre class="example">lilypond -e '(define-public a 42)'
</pre></blockquote>

<p>en ligne de commande, et ajouter la ligne
</p>
<blockquote><pre class="example">#(use-modules (guile-user))
</pre></blockquote>

<p>en tête de votre fichier &lsquo;<tt>.ly</tt>&rsquo;.
</p>
<div class="warning"><p><strong>Note :</strong> Les utilisateurs de Windows doivent utiliser des guillemets
doubles <code>&quot;</code> en lieu et place des guillemets simples <code>'</code>.
</p>
</div>
<a name="index-sortie_002c-format"></a>
<a name="index-format-de-sortie"></a>
</dd>
<dt> <code>-f, --format=<var>format</var></code></dt>
<dd><p>Détermine le format à produire.  Il peut s&rsquo;agir de <code>ps</code>, <code>pdf</code>
ou <code>png</code>.
</p>
<p>Exemple : <code>lilypond -fpng <var>monfichier</var>.ly</code>
</p>
<p>Les formats <code>svg</code> et <code>eps</code> s&rsquo;obtiennent à l&rsquo;aide de
l&rsquo;option <code>-dbackend</code> &ndash; voir <a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a>.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Affiche un résumé des commandes.
</p>
</dd>
<dt> <code>-H, --header=<var>CHAMP</var></code></dt>
<dd><p>Recopie le champ d&rsquo;entête dans le fichier &lsquo;<tt>RACINE.<var>CHAMP</var></tt>&rsquo;.
</p>
</dd>
<dt> <code>-i, --init=<var>fichier</var></code></dt>
<dd><p>Définit <var>fichier</var> (par défaut &lsquo;<tt>init.ly</tt>&rsquo;) en tant que fichier
d&rsquo;initialisation.
</p>
<a name="index-recherche-de-fichier"></a>
<a name="index-chemin-de-recherche"></a>
</dd>
<dt> <code>-I, --include=<var>répertoire</var></code></dt>
<dd><p>Ajoute <var>répertoire</var> au chemin de recherche pour les inclusions.
</p>
<p>Vous pouvez mentionner plusieurs fois l&rsquo;option &lsquo;<samp>-I</samp>&rsquo;, auquel cas
la recherche commencera dans le premier répertoire inclus et, si le
fichier en question ne s&rsquo;y trouve pas, les répertoires suivants seront
examinés l&rsquo;un après l&rsquo;autre.
</p>
<a name="index-chroot-jail_002c-fonctionnement"></a>
</dd>
<dt> <code>-j, --jail=<var>user</var>,<var>group</var>,<var>jail</var>,<var>dir</var></code></dt>
<dd><p>Lance <code>lilypond</code> dans un environnement protégé.
</p>
<p>L&rsquo;option &lsquo;<samp>--jail</samp>&rsquo; est une alternative qui offre plus de
flexibilité que l&rsquo;option &lsquo;<samp>--safe</samp>&rsquo; lorsque LilyPond est installé
sur un serveur web ou traite des fichiers externes &ndash; voir
<a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a>.
</p>
<p>L&rsquo;option &lsquo;<samp>--jail</samp>&rsquo; va détourner la racine de <code>lilypond</code>
sur <var>jail</var> juste avant d&rsquo;effectuer la compilation à proprement
parler.  L&rsquo;utilisateur et le groupe sont modifiés en conséquence, et le
répertoire en cours devient <var>dir</var>.  Ces réglages assurent &ndash; du
moins en théorie &ndash; l&rsquo;impossibilité de s&rsquo;échapper de la cellule.  Notez
cependant que, pour que l&rsquo;option &lsquo;<samp>--jail</samp>&rsquo; soit fonctionnelle,
<code>lilypond</code> doit être lancé en tant qu&rsquo;administrateur &ndash; ce qui
se réalise aisément à l&rsquo;aide de la commande <code>sudo</code>.
</p>
<p>La création d&rsquo;un environnement sécurisé requiert quelques précautions
dans la mesure où LilyPond doit disposer de tout ce dont il a besoin
pour compiler le fichier source <strong>à l&rsquo;intérieur de la cellule</strong>.
L&rsquo;ermitage, avant d&rsquo;être viable, requiert donc les étapes
suivantes :
</p>
<dl compact="compact">
<dt> Création d&rsquo;un système de fichiers indépendant</dt>
<dd><p>L&rsquo;intérêt d&rsquo;un système de fichiers dédié à LilyPond réside dans le fait
qu&rsquo;on peut le brider à l&rsquo;aide des options <code>noexec</code>, <code>nodev</code> et
<code>nosuid</code>.  Il sera de fait impossible de lancer des exécutables ou
d&rsquo;écrire sur un périphérique à partir de LilyPond.  Si vous n&rsquo;avez pas
l&rsquo;intention de créer un tel système sur une partition séparée, vous
pouvez avoir recours à un pseudo-périphérique (<em>loop device</em>) monté
à partir d&rsquo;un simple fichier de taille raisonnable.  D&rsquo;autre part, le
recours à un système de fichiers indépendant permet de limiter l&rsquo;espace
dévolu à LilyPond.
</p>
</dd>
<dt> Création d&rsquo;un utilisateur spécifique</dt>
<dd><p>L&rsquo;utilisation de LilyPond au sein de la cellule devrait être réservé à
un utilisateur aux droits restreints.  Il faudra donc créer un
utilisateur et un groupe spécifiques &ndash; disons
<code>lily</code>/<code>lily</code> &ndash; qui n&rsquo;aura accès en écriture qu&rsquo;à un
unique répertoire déterminé par la valeur de <var>dir</var>.
</p>
</dd>
<dt> Agencement des lieux</dt>
<dd><p>LilyPond a besoin d&rsquo;un certain nombre de fichiers pour pouvoir tourner
correctement.  Ces fichiers devront donc tous se retrouver dans
l&rsquo;environnement protégé, distribués selon la même arborescence que dans
le système d&rsquo;origine.  Ainsi l&rsquo;intégralité de l&rsquo;installation de LilyPond
(en principe &lsquo;<tt>/usr/share/lilypond</tt>&rsquo;) doit y être dupliquée.
</p>
<p>En cas de problème, lancer LilyPond en utilisant <code>strace</code>
devrait vous permettre de déterminer quels fichiers manquent à l&rsquo;appel.
</p>
</dd>
<dt> Lancement de LilyPond</dt>
<dd><p>Dans un environnement protégé monté avec l&rsquo;option <code>noexec</code>, il
est impossible de lancer un quelconque programme extérieur.  LilyPond ne
saurait donc avoir recours à un moteur de traitement qui le mettrait
dans cette situation.  Comme nous l&rsquo;avons vu plus haut, LilyPond sera
lancé avec les privilèges de l&rsquo;administrateur &ndash; privilèges qu&rsquo;il perdra
aussitôt &ndash;, ce qui peut nécessiter le recours à la commande
<code>sudo</code>.  Il est par ailleurs judicieux de limiter le temps
processeur alloué à LilyPond &ndash; grâce à <code>ulimit -t</code> par
exemple &ndash; ainsi que, si votre système le permet, la taille de la
mémoire.  Voir aussi <a href="#lilypond-in-chroot-jail">Exécution de LilyPond en mode protégé</a>.
</p></dd>
</dl>

<a name="index-loglevel"></a>
<a name="index-verbosite_002c-definir-le-degre-de"></a>
</dd>
<dt> <code>-l, --loglevel=<var>DEGRÉ</var></code></dt>
<dd><p>Règle le niveau de verbosité des messages console à <var>DEGRÉ</var>.  Les
différentes valeurs sont :
</p>
<dl compact="compact">
<dt> <code>NONE</code></dt>
<dd><p>Aucun verbiage, même pas les messages d&rsquo;erreur.
</p>
</dd>
<dt> <code>ERROR</code></dt>
<dd><p>Uniquement les messages d&rsquo;erreur ; pas de message d&rsquo;avertissement
ni de progression.
</p>
</dd>
<dt> <code>WARN</code></dt>
<dd><p>Messages d&rsquo;avertissement ou d&rsquo;erreur ; pas d&rsquo;information de
progression.
</p>
</dd>
<dt> <code>BASIC_PROGRESS</code></dt>
<dd><p>Information de progression basique (réussite) et avertissements ou
erreurs.
</p>
</dd>
<dt> <code>PROGRESS</code></dt>
<dd><p>Toutes les informations de progression, avertissements et erreurs.
</p>
</dd>
<dt> <code>INFO (par défaut)</code></dt>
<dd><p>Informations de progression, avertissements et erreurs, ainsi que
d&rsquo;autres informations relatives à l&rsquo;exécution.
</p>
</dd>
<dt> <code>DEBUG</code></dt>
<dd><p>Tout ce qui peut être affiché, y compris le verbiage utile au débogage.
</p>
</dd>
</dl>

<a name="index-redirection"></a>
<a name="index-repertoire-de-destination"></a>
<a name="index-fichier-de-destination"></a>
</dd>
<dt> <code>-o, --output=<var>FICHIER</var> ou <var>RÉPERTOIRE</var></code></dt>
<dd><p>Détermine le nom par défaut du fichier résultant à <var>FICHIER</var> ;
lorsque l&rsquo;argument <var>RÉPERTOIRE</var> correspond à un répertoire déjà
existant, c&rsquo;est là que les fichiers résultants seront déposés.  Le
suffixe adéquat sera ajouté (par ex. <code>.pdf</code> pour du pdf) dans tous
les cas.
</p>
<a name="index-PostScript_002c-output"></a>
<a name="index-PS-_0028PostScript_0029_002c-output"></a>
</dd>
<dt> <code>--ps</code></dt>
<dd><p>Génère du PostScript.
</p>
<a name="index-Portable-Network-Graphics-_0028PNG_0029_002c-output"></a>
<a name="index-PNG-_0028Portable-Network-Graphics_0029_002c-output"></a>
</dd>
<dt> <code>--png</code></dt>
<dd><p>Génère une image par page, au format PNG ; ceci sous-entend
l&rsquo;utilisation de &lsquo;<samp>--ps</samp>&rsquo;.  La résolution de l&rsquo;image, en DPI, peut
se régler en ajoutant par exemple
</p><blockquote><pre class="example">-dresolution=110
</pre></blockquote>

<a name="index-Portable-Document-Format-_0028PDF_0029_002c-output"></a>
<a name="index-PDF-_0028Portable-Document-Format_0029_002c-output"></a>
</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Génère du PDF.  Ceci sous-entend l&rsquo;utilisation de &lsquo;<samp>--ps</samp>&rsquo;.
</p>
</dd>
<dt> <code>-v, --version</code></dt>
<dd><p>Affiche le numéro de version.
</p>
</dd>
<dt> <code>-V, --verbose</code></dt>
<dd><p>Active le mode verbeux : affichage de l&rsquo;intégralité du chemin
d&rsquo;accès de chaque fichier, et information des temps de traitement.
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>Affiche les informations de garantie applicables à GNU LilyPond &ndash; il
est livré <strong>SANS GARANTIE</strong> !
</p>
</dd>
</dl>


<hr size="6">
<a name="Options-avanc_00e9es-de-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Options basiques de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#environment-variables" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Variables d'environnement &gt; </a>]</td></tr></table>
<a name="advanced-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">Options avancées de <code>lilypond</code></h3>

<dl compact="compact">
<dt> <code>-d<var>[nom-option]</var>=<var>[valeur]</var>,</code></dt>
<dd><p>&ndash;define-default=<var>[nom-option]</var>=<var>[valeur]</var>
Affecte la valeur Scheme <var>valeur</var> à l&rsquo;option interne
<var>nom-option</var> du programme, comme par exemple
</p>
<blockquote><pre class="example">-dbackend=svg
</pre></blockquote>

<p>En l&rsquo;absence de <var>valeur</var>, le programme utilisera <var>#t</var>.
Préfixer <var>nom-option</var> d&rsquo;un <code>no-</code> vous permet de
désactiver une option.  Ainsi,
</p>
<a name="index-point-and-click_002c-ligne-de-commande"></a>
<a name="index-pointer_002dcliquer_002c-ligne-de-commande"></a>

<blockquote><pre class="example">-dno-point-and-click
</pre></blockquote>

<p>revient au même que
</p><blockquote><pre class="example">-dpoint-and-click=#f
</pre></blockquote>
</dd>
</dl>

<p>Voici les différentes options disponibles, ainsi que leur
valeur par défaut.
</p>
<table>
<tr><td width="33%"><strong>Symbole</strong></td><td width="16%"><strong>Valeur</strong></td><td width="51%"><strong>Observations</strong></td></tr>
<tr><td width="33%"><code>anti-alias-factor</code></td><td width="16%"><code>1</code></td><td width="51%">Adopte une résolution supérieure (selon le facteur donné),puis
réduit au niveau du résultat afin d&rsquo;éviter les « distorsions » des
images <code>PNG</code>.</td></tr>
<tr><td width="33%"><code>aux-files</code></td><td width="16%"><code>#t</code></td><td width="51%">Génère les fichiers <code>.tex</code>, <code>.texi</code> et <code>.count</code>
pour le moteur de rendu <code>EPS</code>.</td></tr>
<tr><td width="33%"><code>backend</code></td><td width="16%"><code>ps</code></td><td width="51%">Détermine le format de sortie à utiliser par le moteur de
traitement.  Les fichiers PostScript (format par défaut) incluent les
fontes <code>TTF</code>, <code>Type1</code> et <code>OTF</code>, et aucune substitution ne
sera opérée pour ces fontes.  Si vous utilisez des jeux de caractères
orientaux, le fichier aura vite fait d&rsquo;atteindre une taille conséquente.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>eps</code></td><td width="51%">Génère du PostScript encapsulé.  Chaque page (système) fera l&rsquo;objet
d&rsquo;un fichier &lsquo;<tt>EPS</tt>&rsquo; particulier, sans fontes, auquel sera associé un
fichier &lsquo;<tt>EPS</tt>&rsquo; qui, lui, contiendra toutes les pages (systèmes) et
les fontes.  Notez qu&rsquo;il s&rsquo;agit du mode que <code>lilypond-book</code>
utilise par défaut.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>null</code></td><td width="51%">Ne génère aucun fichier imprimable.  Cette option est équivalente à
<code>-dno-print-pages</code>.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>scm</code></td><td width="51%">Recopie littéralement les commandes Scheme internes de formatage.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>svg</code></td><td width="51%">Génère du <em>Scalable Vector Graphics</em>.  Cette option permet de
créer un fichier SVG par page.  Les glyphes musicaux sont codés en tant
que graphiques vectoriels mais les fontes textuelles <b>ne sont pas</b>
incorporées aux fichiers &lsquo;<tt>SVG</tt>&rsquo; résultants.  Quel que soit le
programme utilisé pour visionner ces fichiers, il devra avoir accès aux
fontes en question pour pouvoir afficher correctement les textes et
paroles.  Il est préférable de ne pas recourir aux « alias de police »
ni aux listes de fontes si la visionneuse de fichier SVG ne peut le
traîter correctement.  L&rsquo;option supplémentaire <code>--svg-woff</code> &ndash; voir
ci-après &ndash; permet d&rsquo;utiliser les fontes WOFF (<em>Web Open Font
Format</em>) avec le moteur SVG.</td></tr>
</table>

<p><strong>Note à propos des sorties SVG :</strong>
Par défaut, LilyPond utilise des valeurs de <code>font-family</code>
génériques &ndash; <code>Serif</code>, <code>Sans Serif</code> et <code>Monospace</code>.  Le
recours au moteur <code>svg</code> requiert donc que ces polices par défaut
soient explicitement définies dans le fichier source :
</p>
<blockquote><pre class="verbatim">\paper  {
  #(define fonts
    (make-pango-font-tree &quot;TeX Gyre Schola&quot;
                          &quot;TeX Gyre Heros&quot;
                          &quot;TeX Gyre Cursor&quot;
                          (/ staff-height pt 20)))
}
</pre></blockquote>

<p>Voir aussi <a name="index-Choix-des-fontes-par-defaut"></a>
<a href="notation-big-page.fr.html#entire-document-fonts">Choix des fontes par défaut</a>.
</p>
<table>
<tr><td width="33%"><code>check-internal-types</code></td><td width="16%"><code>#f</code></td><td width="51%">Vérifie qu&rsquo;à chaque propriété est bien affecté un type.</td></tr>
<tr><td width="33%"><code>clip-systems</code></td><td width="16%"><code>#f</code></td><td width="51%">Extrait des fragments musicaux d&rsquo;une partition.  Ceci requiert que
la fonction <code>clip-regions</code> a été définie au sein du bloc
<code>\layout</code> &ndash; voir <a name="index-Extraction-de-fragments-musicaux"></a>
<a href="notation-big-page.fr.html#extracting-fragments-of-music">Extraction de fragments musicaux</a>.  Bien
entendu, aucun fragment ne sera extrait si l&rsquo;on utilise l&rsquo;option
&lsquo;<samp>-dno-print-pages</samp>&rsquo;</td></tr>
<tr><td width="33%"><code>datadir</code></td><td width="16%"></td><td width="51%">Détermine le préfixe des fichiers de données (lecture seule).</td></tr>
<tr><td width="33%"><code>debug-gc</code></td><td width="16%"><code>#f</code></td><td width="51%">Génère une copie brute de la mémoire, aux fins de débogage.</td></tr>
<tr><td width="33%"><code>debug-gc-assert-parsed-dead</code></td><td width="16%"><code>#f</code></td><td width="51%">Pour débogage de la mémoire : s&rsquo;assure que toute référence à
des objets analysés est effacée.  Il s&rsquo;agit d&rsquo;une option interne qui
est automatiquement activée par l&rsquo;option <code>`-ddebug-gc'</code>.</td></tr>
<tr><td width="33%"><code>debug-lexer</code></td><td width="16%"><code>#f</code></td><td width="51%">Débogage de l&rsquo;analyseur lexical <em>flex</em>.</td></tr>
<tr><td width="33%"><code>debug-page-breaking-scoring</code></td><td width="16%"><code>#f</code></td><td width="51%">Purge les calculs des configurations de saut de page.</td></tr>
<tr><td width="33%"><code>debug-parser</code></td><td width="16%"><code>#f</code></td><td width="51%">Débogage de l&rsquo;analyseur <em>bison</em>.</td></tr>
<tr><td width="33%"><code>debug-property-callbacks</code></td><td width="16%"><code>#f</code></td><td width="51%">Débogage des chaînes de <em>callback</em> cycliques.</td></tr>
<tr><td width="33%"><code>debug-skylines</code></td><td width="16%"><code>#f</code></td><td width="51%">Débogage des lignes d&rsquo;horizon.</td></tr>
<tr><td width="33%"><code>delete-intermediate-files</code></td><td width="16%"><code>#t</code></td><td width="51%">Supprime les fichiers <code>.ps</code> inutiles crées lors de la
compilation.</td></tr>
<tr><td width="33%"><code>dump-cpu-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">Génère une copie brute des informations de timing (dépend du
système).</td></tr>
<tr><td width="33%"><code>dump-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">Génère une copie brute de la mémoire et des temps de traitement
pour chaque fichier.</td></tr>
<tr><td width="33%"><code>dump-signatures</code></td><td width="16%"><code>#f</code></td><td width="51%">Génère une copie des signatures de chaque système.  Cette option
est utilisée pour les tests de régression.</td></tr>
<tr><td width="33%"><code>embed-source-code</code></td><td width="16%"><code>#f</code></td><td width="51%">Intègre les fichiers source LilyPond au document PDF généré.</td></tr>
<tr><td width="33%"><code>eps-box-padding</code></td><td width="16%"><code>#f</code></td><td width="51%">Décale le bord gauche du typon EPS d&rsquo;une valeur donnée en
millimètres.</td></tr>
<tr><td width="33%"><code>font-export-dir</code></td><td width="16%"><code>#f [répertoire]</code></td><td width="51%">Répertoire dans lequel exporter les fontes en tant que fichiers
PostScript.</td></tr>
<tr><td width="33%"><code>gs-load-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Charge les fontes grâce à Ghostscript.</td></tr>
<tr><td width="33%"><code>gs-load-lily-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Limite les fontes chargées par Ghostscript aux seules fontes
LilyPond.</td></tr>
<tr><td width="33%"><code>gs-never-embed-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Intime à Ghostscript d&rsquo;embarquer les fontes uniquement au format
TrueType, sans exception.</td></tr>
<tr><td width="33%"><code>gui</code></td><td width="16%"><code>#f</code></td><td width="51%">Travaille silencieusement, et redirige tout le verbiage dans un
fichier journal.</td></tr>
</table>

<p><strong>Note à l&rsquo;attention des utilisateurs de Windows :</strong> toutes
les informations concernant le traitement apparaissent au fur et à
mesure dans l&rsquo;interpréteur de commandes lorsque vous lancez le programme
<code>lilypond.exe</code>, à l&rsquo;inverse de <code>lilypond-windows.exe</code> qui
vous renvoie simplement la main.  L&rsquo;option &lsquo;<samp>-dgui</samp>&rsquo; vous permettra
alors de rediriger ces informations dans un fichier journal.
</p>
<table>
<tr><td width="33%"><code>help</code></td><td width="16%"><code>#f</code></td><td width="51%">Affiche cette aide.</td></tr>
<tr><td width="33%"><code>include-book-title-preview</code></td><td width="16%"><code>#t</code></td><td width="51%">Inclut les titres de l&rsquo;ouvrage dans les images de prévisualisation.</td></tr>
<tr><td width="33%"><code>include-eps-fonts</code></td><td width="16%"><code>#t</code></td><td width="51%">Inclut les fontes dans chaque fichier EPS contenant un système.</td></tr>
<tr><td width="33%"><code>include-settings</code></td><td width="16%"><code>#f</code></td><td width="51%">Inclut un fichier contenant les réglages globaux.  Ce fichier sera
inclus avant traitement de la partition.</td></tr>
<tr><td width="33%"><code>job-count</code></td><td width="16%"><code>#f</code></td><td width="51%">Traite plusieurs fichiers en parallèle, selon le nombre de
<em>jobs</em>.</td></tr>
<tr><td width="33%"><code>log-file</code></td><td width="16%"><code>#f [fichier]</code></td><td width="51%">Fournir <code>TOTO</code> en second argument redirigera la sortie dans le
fichier journal <code>TOTO.log</code>.</td></tr>
<tr><td width="33%"><code>max-markup-depth</code></td><td width="16%"><code>1024</code></td><td width="51%">Profondeur maximale de l&rsquo;arborescence de <em>markups</em>.  Si un
<em>markup</em> était plus profond, part du principe qu&rsquo;on aboutira pas,
émet un avertissement et renvoie alors un <em>markup</em> vide.</td></tr>
<tr><td width="33%"><code>midi-extension</code></td><td width="16%"><code>&quot;midi&quot;</code></td><td width="51%">Détermine l&rsquo;extension par défaut des fichiers MIDI, selon la chaîne
donnée en argument.</td></tr>
<tr><td width="33%"><code>music-strings-to-paths</code></td><td width="16%"><code>#f</code></td><td width="51%">Convertit les chaînes textuelles en chemins lorsque les glyphes
font partie d&rsquo;une fonte musicale.

<a name="index-paper_002dsize_002c-ligne-de-commande"></a></td></tr>
<tr><td width="33%"><code>paper-size</code></td><td width="16%"><code>\&quot;a4\&quot;</code></td><td width="51%">Détermine la taille par défaut du papier.  Veillez à ne pas oublier
d&rsquo;encadrer la valeur par des guillemets échappés (<code>\&quot;</code>).</td></tr>
<tr><td width="33%"><code>pixmap-format</code></td><td width="16%"><code>png16m</code></td><td width="51%">Détermine le format de sortie en images pixélisées pour
Ghostscript.</td></tr>
<tr><td width="33%"><code>point-and-click</code></td><td width="16%"><code>#t</code></td><td width="51%">Ajoute les liens « point &amp; click » à la sortie PDF ou SVG.  Voir
<a href="#point-and-click">Pointer-cliquer</a>.

<a name="index-format-de-sortie_002c-definition"></a>
<a name="index-preview_002c-ligne-de-commande"></a></td></tr>
<tr><td width="33%"><code>preview</code></td><td width="16%"><code>#f</code></td><td width="51%">Génère une prévisualisation en plus de la sortie normale.</td></tr>
</table>

<p>Cette option, disponible dans tous les formats de sortie imprimables &ndash;
<code>pdf</code>, <code>png</code>, <code>ps</code>, <code>eps</code> et <code>svg</code> &ndash; génère
un fichier de la forme <code>monFichier.preview.extension</code> comprenant le
titrage et le premier système.  S&rsquo;il existe plusieurs sections
<code>\book</code>, <code>\bookpart</code>, ce fichier contiendra les titrage et
premier système de chacun des <code>\book</code>, <code>\bookpart</code> et
<code>\score</code>, dès lors que la variable <code>print-all-headers</code> du bloc
<code>\paper</code> est activée.
</p>
<p>Pour l&rsquo;éviter, utilisez conjointement l&rsquo;une des options
&lsquo;<samp>-dprint-pages</samp>&rsquo; ou &lsquo;<samp>-dno-print-pages</samp>&rsquo; selon vos besoins.
</p>
<table>
<tr><td width="33%"><code>print-pages</code></td><td width="16%"><code>#t</code></td><td width="51%">Génère l&rsquo;intégralité des pages de la partition.  L&rsquo;option
&lsquo;<samp>-dno-print-pages</samp>&rsquo; est particulièrement utile lorsqu&rsquo;utilisée
conjointement avec l&rsquo;option &lsquo;<samp>-dpreview</samp>&rsquo;.</td></tr>
<tr><td width="33%"><code>profile-property-accesses</code></td><td width="16%"><code>#f</code></td><td width="51%">Enregistre des statistiques des appels à la fonction
<code>get_property()</code>.</td></tr>
<tr><td width="33%"><code>protected-scheme-parsing</code></td><td width="16%"><code>#t</code></td><td width="51%">Continue en dépit des erreurs que l&rsquo;analyseur syntaxique
détecterait dans du code Scheme inclus.  Lorsque basculé sur <code>#f</code>,
stoppe le traitement s&rsquo;il y a erreur et affiche une trace de la pile.</td></tr>
<tr><td width="33%"><code>read-file-list</code></td><td width="16%"><code>#f [fichier]</code></td><td width="51%">Spécifie un fichier listant les différents fichiers sources à
traiter.</td></tr>
<tr><td width="33%"><code>relative-includes</code></td><td width="16%"><code>#f</code></td><td width="51%">Face à une instruction <code>\include</code>, recherche les fichiers à
inclure relativement à l&rsquo;endroit où se trouve le fichier en cours de
traitement plutôt que par rapport au fichier maître.</td></tr>
<tr><td width="33%"><code>resolution</code></td><td width="16%"><code>101</code></td><td width="51%">Détermine, en <code>dpi</code>, la résolution des pixmaps <code>PNG</code> à
générer selon la valeur donnée.</td></tr>
<tr><td width="33%"><code>safe</code></td><td width="16%"><code>#f</code></td><td width="51%">Ne pas avoir une confiance aveugle dans le code &lsquo;<tt>.ly</tt>&rsquo;.</td></tr>
</table>

<p>Lorsque LilyPond est accessible au travers d&rsquo;un serveur web, il est
<strong>impératif</strong> d&rsquo;utiliser les options &lsquo;<samp>--safe</samp>&rsquo; ou
&lsquo;<samp>--jail</samp>&rsquo;.  L&rsquo;option &lsquo;<samp>--safe</samp>&rsquo; aura pour effet d&rsquo;empêcher
tout code Scheme inclus de mettre en péril votre installation grâce à
quelque chose du style
</p>
<blockquote><pre class="verbatim">#(s ystem &quot;rm -rf /&quot;) % trop dangeureux à écrire sans faute
{
  c4^$(ly:gulp-file &quot;/etc/passwd&quot;) % malveillant mais pas destructeur
}
</pre></blockquote>

<p>L&rsquo;option <code>-dsafe</code> forcera l&rsquo;évaluation, au fil de l&rsquo;eau et par un
module sécurisé, des expressions Scheme contenues dans le fichier
source.  Ce module sécuritaire, dérivé du module GUILE &lsquo;<tt>safe-r5rs</tt>&rsquo;,
ajoute un certain nombre de fonctions &ndash; listées dans
&lsquo;<tt>scm/safe-lily.scm</tt>&rsquo; &ndash; à l&rsquo;API de LilyPond.
</p>
<p>De plus, le mode <em>safe</em> ne permet ni l&rsquo;utilisation de directives
<code>\include</code> ni le recours aux obliques inversées (<em>backslash</em>)
dans les chaînes TeX.  L&rsquo;import de variables LilyPond dans du code
Scheme n&rsquo;est pas possible en mode sécurisé.
</p>
<p>L&rsquo;option <code>-dsafe</code> <strong>ne détecte pas</strong> l&rsquo;utilisation abusive des
ressources.  Il est donc possible que le programme finisse par rester
sans réponse si on lui envoie une boucle sans fin.  C&rsquo;est la raison pour
laquelle nous recommandons, lorsque LilyPond tourne sur un serveur
accessible au public, d&rsquo;en limiter aussi bien les ressources processeur
que mémoire.
</p>
<p>Notez bien que l&rsquo;utilisation du mode sécuritaire empêchera aussi la
compilation d&rsquo;un certain nombre de fragments LilyPond.  L&rsquo;option
<code>--jail</code> est dans ce cas une excellente alternative en terme de
sécurité, même si elle requiert plus de temps à mettre en place &ndash; voir
<a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a>.
</p>
<table>
<tr><td width="33%"><code>separate-log-files</code></td><td width="16%"><code>#f</code></td><td width="51%">Pour les fichiers <code>FICHIER1.ly</code>, <code>FICHIER2.ly</code>, etc.
enregistre le déroulement dans les journaux <code>FICHIER1.log</code>,
<code>FICHIER2.log</code>&hellip;</td></tr>
<tr><td width="33%"><code>show-available-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Liste le nom des fontes disponibles.</td></tr>
<tr><td width="33%"><code>strict-infinity-checking</code></td><td width="16%"><code>#f</code></td><td width="51%">Force le crash en présence des points d&rsquo;exception de virgule
flottante <code>Inf</code> ou <code>NaN</code> &ndash; infini ou non-nombre.</td></tr>
<tr><td width="33%"><code>strip-output-dir</code></td><td width="16%"><code>#t</code></td><td width="51%">Supprime, lors du nommage des fichiers résultant, la partie
correspondant au répertoire des fichiers sources.</td></tr>
<tr><td width="33%"><code>strokeadjust</code></td><td width="16%"><code>#f</code></td><td width="51%">Force l&rsquo;ajustement des traits PostScript.  Cette option trouve
toute son utilité pour générer du PDF à partir de PostScript &ndash;
l&rsquo;ajustement des traits est en principe automatiquement activé pour les
périphériques bitmap à faible résolution.  Sans cette option, les
visionneurs de PDF ont tendance à ne pas rendre de manière constante
l&rsquo;épaisseur des hampes dans les résolutions habituelles des écrans.
Bien que n&rsquo;affectant pas notoirement la qualité d&rsquo;impression, cette
option accroit notablement la taille des fichiers PDF.</td></tr>
<tr><td width="33%"><code>svg-woff</code></td><td width="16%"><code>#f</code></td><td width="51%">Cette option est obligatoire dès lors que sont utilisées, avec le
moteur SVG, les fontes <em>Web Open Font Format</em> (WOFF).  Un fichier
SVG sera généré pour chacune des pages produites.  En dehors des glyphes
musicaux propres à LilyPond, aucune autre information ne sera incluse.
Quelque soir le visionneur de SVG utilisé, il devra avoir à disposition
les fontes requises pour pouvoir afficher les éléments textuels et les
paroles.  Dans la mesure où le visionneur pourrait ne pas savoir le
gérer, mieux vaut s&rsquo;abstenir derecourir aux alias ou listes de fontes.


Lorsque celles-ci sont utilisées correctement, nul n&rsquo;est besoin
d&rsquo;installer les fontes que les fichiers SVG utiliseront dans
l&rsquo;environnement du visionneur.  Néanmoins, LilyPond ne dispose pas de
fichier de fonte <code>woff</code> textuelle.  La présence du fichier de fonte
<code>woff</code> est un prérequis.</td></tr>
<tr><td width="33%"><code>trace-memory-frequency</code></td><td width="16%"><code>#f</code></td><td width="51%">Enregistre l&rsquo;utilisation de la cellule Scheme plusieurs fois par
seconde, dans les fichiers <code>FICHIER.stacks</code> et
<code>FICHIER.graph</code>.</td></tr>
<tr><td width="33%"><code>trace-scheme-coverage</code></td><td width="16%"><code>#f</code></td><td width="51%">Enregistre la couverture des fichiers Scheme dans <code>FILE.cov</code>.</td></tr>
<tr><td width="33%"><code>verbose</code></td><td width="16%"><code>#f</code></td><td width="51%">Passe en mode verbeux, ce qui correspond à un niveau de
journalisation <code>DEBUG</code> (lecture seule).</td></tr>
<tr><td width="33%"><code>warning-as-error</code></td><td width="16%"><code>#f</code></td><td width="51%">Considère tous les messages d&rsquo;avertissement et « erreur de
programmation » comme étant de véritables erreurs.</td></tr>
</table>


<hr size="6">
<a name="Variables-d_0027environnement"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Options avancées de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-in-chroot-jail" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Exécution de LilyPond en mode protégé &gt; </a>]</td></tr></table>
<a name="environment-variables"></a>
<h3 class="unnumberedsubsec">Variables d&rsquo;environnement</h3>

<a name="index-LANG"></a>
<a name="index-LILYPOND_005fDATADIR"></a>

<p><code>lilypond</code> reconnaît les variables d&rsquo;environnement
suivantes :
</p>
<dl compact="compact">
<dt> <code>LILYPOND_DATADIR</code></dt>
<dd><p>Cette variable spécifie le répertoire où seront recherchés par défaut
les différentes versions des messages ainsi qu&rsquo;un certain nombre de
fichiers nécessaires au traitement.  Il devrait contenir les
sous-répertoires &lsquo;<tt>ly/</tt>&rsquo;, &lsquo;<tt>ps/</tt>&rsquo;, &lsquo;<tt>tex/</tt>&rsquo;, etc.
</p>
</dd>
<dt> <code>LANG</code></dt>
<dd><p>Cette variable détermine la langue dans laquelle seront émis les
messages.
</p>
</dd>
<dt> <code>LILYPOND_LOGLEVEL</code></dt>
<dd><p>Cette variable détermine le niveau par défaut de verbosité.  En
l&rsquo;absence de niveau explicite &ndash; autrement dit la ligne de commande ne
comporte pas de &lsquo;<samp>--loglevel</samp>&rsquo; &ndash; c&rsquo;est cette valeur qui sera
utilisée.
</p>
</dd>
<dt> <code>LILYPOND_GC_YIELD</code></dt>
<dd><p>Cette variable permet d&rsquo;ajuster l&rsquo;empreinte mémoire et le rendement de
la machine.  Il s&rsquo;agit en fait d&rsquo;un pourcentage d&rsquo;allocation de
mémoire : lorsqu&rsquo;il est élevé, le programme favorisera
l&rsquo;utilisation de la mémoire ; une faible valeur consommera plus de
temps processeur.  Par défaut, cette valeur est fixée à <code>70</code>.
</p>
</dd>
</dl>


<hr size="6">
<a name="Ex_00e9cution-de-LilyPond-en-mode-prot_00e9g_00e9"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#environment-variables" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Variables d'environnement&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Utilisation en ligne de commande&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-messages" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Messages d'erreur &gt; </a>]</td></tr></table>
<a name="lilypond-in-chroot-jail"></a>
<h3 class="unnumberedsubsec">Exécution de LilyPond en mode protégé</h3>

<p>Paramétrer un serveur afin qu&rsquo;il puisse faire fonctionner LilyPond en
mode protégé sur un pseudo-périphérique est une tâche sensible.  Les
différentes étapes à suivre sont répertoriées ci-dessous.  Les exemples
qu&rsquo;elle comportent proviennent d&rsquo;une distribution GNU/Linux Ubuntu et
nécessiteront l&rsquo;utilisation de <code>sudo</code> autant que de besoin.
</p>
<ul>
<li> Installation des paquetages nécessaires : LilyPond, Ghostscript et
ImageMagick.

</li><li> Création de l&rsquo;utilisateur <code>lily</code> :

<blockquote><pre class="example">adduser lily
</pre></blockquote>

<p>Ceci, par la même occasion, créera un groupe spécifique pour
l&rsquo;utilisateur <code>lily</code> ainsi que son répertoire personnel
<code>/home/lily</code>.
</p>
</li><li> Création, dans le répertoire personnel de l&rsquo;utilisateur
<code>lily</code>, d&rsquo;un espace agissant en tant que système de fichiers :

<blockquote><pre class="example">dd if=/dev/zero of=/home/lily/loopfile bs=1k count= 200000
</pre></blockquote>

<p>Cette commande a créé un fichier de 200 MB utilisable par le
« système protégé ».
</p>
</li><li> Création d&rsquo;un pseudo-périphérique, génération d&rsquo;un système de
fichiers et chargement de celui-ci, puis création d&rsquo;un répertoire
accessible en écriture pour l&rsquo;utilisateur <code>lily</code> :

<blockquote><pre class="example">mkdir /mnt/lilyloop
losetup /dev/loop0 /home/lily/loopfile
mkfs -t ext3 /dev/loop0 200000
mount -t ext3 /dev/loop0 /mnt/lilyloop
mkdir /mnt/lilyloop/lilyhome
chown lily /mnt/lilyloop/lilyhome
</pre></blockquote>

</li><li> Affectation, au niveau configuration du serveur, de
<code>/mnt/lilyloop</code> en tant que JAIL et <code>/lilyhome</code> en tant que
DIR.

</li><li> Création d&rsquo;une arborescence, dans l&rsquo;espace protégé, et recopie de
tous les fichiers nécessaires &ndash; voir le script plus loin.

<p>Le recours à l&rsquo;utilitaire <code>sed</code> permet de créer les commandes de
copie de tout ce qui est nécessaire à un exécutable :
</p>
<blockquote><pre class="example">for i in &quot;/usr/local/lilypond/usr/bin/lilypond&quot; &quot;/bin/sh&quot; &quot;/usr/bin/;  \
  do ldd $i | sed 's/.*=&gt; \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp;  \
    cp -L \/\1\2 \1\2/' | sed 's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p  \
      \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed '/.*=&gt;.*/d'; done
</pre></blockquote>

</li></ul>

<a name="Exemple-de-script-fonctionnel-en-32_002dbit-sur-Ubuntu-8_002e04"></a>
<h3 class="subheading">Exemple de script fonctionnel en 32-bit sur Ubuntu 8.04</h3>

<blockquote><pre class="example">#!/bin/sh
## les réglages par défaut

username=lily
home=/home
loopdevice=/dev/loop0
jaildir=/mnt/lilyloop
# le préfixe (sans slash au début !)
lilyprefix=usr/local
# le répertoire du système où lilypond est installé
lilydir=/$lilyprefix/lilypond/

userhome=$home/$username
loopfile=$userhome/loopfile
adduser $username
dd if=/dev/zero of=$loopfile bs=1k count=200000
mkdir $jaildir
losetup $loopdevice $loopfile
mkfs -t ext3 $loopdevice 200000
mount -t ext3 $loopdevice $jaildir
mkdir $jaildir/lilyhome
chown $username $jaildir/lilyhome
cd $jaildir

mkdir -p bin usr/bin usr/share usr/lib usr/share/fonts $lilyprefix tmp
chmod a+w tmp

cp -r -L $lilydir $lilyprefix
cp -L /bin/sh /bin/rm bin
cp -L /usr/bin/convert /usr/bin/gs usr/bin
cp -L /usr/share/fonts/truetype usr/share/fonts

# la formule magique de recopie des bibliothèques
for i in &quot;$lilydir/usr/bin/lilypond&quot; &quot;$lilydir/usr/bin/guile&quot; &quot;/bin/sh&quot;  \
  &quot;/bin/rm&quot; &quot;/usr/bin/gs&quot; &quot;/usr/bin/convert&quot;; do ldd $i | sed 's/.*=&gt;  \
    \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed  \
      's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/'  \
        | sed '/.*=&gt;.*/d'; done | sh -s

# les fichiers partagés pour ghostscript...
      cp -L -r /usr/share/ghostscript usr/share
# les fichiers partagés pour ImageMagick
      cp -L -r /usr/lib/ImageMagick* usr/lib

### Partant du principe que test.ly est dans /mnt/lilyloop/lilyhome,
### on devrait pouvoir lancer :
### Attention : /$lilyprefix/bin/lilypond est un script qui
### définit LD_LIBRARY_PATH - c'est primordial
      /$lilyprefix/bin/lilypond -jlily,lily,/mnt/lilyloop,/lilyhome test.ly
</pre></blockquote>


<hr size="6">
<a name="Messages-d_0027erreur"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-in-chroot-jail" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Exécution de LilyPond en mode protégé&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#common-errors" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Quelques erreurs des plus courantes &gt; </a>]</td></tr></table>
<a name="error-messages"></a>
<h2 class="section">1.3 Messages d&rsquo;erreur</h2>

<a name="index-erreur_002c-messages"></a>

<p>Différents messages d&rsquo;erreur sont susceptibles d&rsquo;apparaître au cours de
la compilation d&rsquo;un fichier :
</p>
<dl compact="compact">
<dt> <em>Warning &ndash; Avertissement</em></dt>
<dd><a name="index-warning"></a>
<a name="index-avertissement"></a>
<p>Ce type de message est émis lorsque LilyPond détecte quelque chose de
suspect.  Si vous avez demandé quelque chose qui sort de l&rsquo;ordinaire,
vous saurez probablement ce à quoi il est fait référence et ignorerez de
tels messages sans remord.  Néanmoins, les messages d&rsquo;avertissement
indiquent la plupart du temps une incohérence dans le fichier source.
</p>
</dd>
<dt> <em>Error &ndash; Erreur</em></dt>
<dd><a name="index-error"></a>
<p>LilyPond a détecté une erreur.  L&rsquo;étape en cours, qu&rsquo;il s&rsquo;agisse de
l&rsquo;analyse, de l&rsquo;interprétation des données ou bien du formatage, sera
menée à son terme, puis LilyPond s&rsquo;arrêtera.
</p>
</dd>
<dt> <em>Fatal error &ndash; Erreur fatale</em></dt>
<dd><a name="index-fatal-error"></a>
<p>LilyPond est confronté à une anomalie bloquante.  Ceci ne se produit que
très rarement, et la plupart du temps en raison d&rsquo;une installation
défectueuse des fontes.
</p>
</dd>
<dt> <em>Scheme error &ndash; Erreur Scheme</em></dt>
<dd><a name="index-trace_002c-Scheme"></a>
<a name="index-call-trace"></a>
<a name="index-Scheme-error"></a>
<p>Les erreurs qui interviennent lors de l&rsquo;exécution de code Scheme sont
gérées par l&rsquo;interpréteur Scheme.  L&rsquo;utilisation du mode verbeux
(options &lsquo;<samp>-V</samp>&rsquo; ou &lsquo;<samp>--verbose</samp>&rsquo;) vous permettra de localiser
l&rsquo;appel de fonction délictueux.
</p>
</dd>
<dt> <em>Programming error &ndash; Erreur de programmation</em></dt>
<dd><a name="index-Programming-error"></a>
<a name="index-Erreur-de-programmation"></a>
<p>LilyPond est confronté à une incohérence interne.  Ce type de message
est destiné à venir en aide aux développeurs et débogueurs.  En règle
générale, vous pouvez tout simplement les ignorer.  Parfois, il y en a
tant qu&rsquo;ils masquent ce qui pourrait vous intéresser&hellip;
</p>
</dd>
<dt> <em>Aborted (core dumped) &ndash; Abandon</em></dt>
<dd><a name="index-Aborted-_0028core-dumped_0029"></a>
<p>Ce type de message indique que LilyPond a planté en raison d&rsquo;une grave
erreur de programmation.  La survenance d&rsquo;un tel message est considérée
comme de la plus haute importance.  Si vous y étiez confronté,
transmettez un rapport de bogue.
</p></dd>
</dl>

<a name="index-errors_002c-message-format"></a>
<p>Lorsque l&rsquo;avertissement ou l&rsquo;erreur est directement lié au fichier
source, le message est libellé sous la forme
</p>
<blockquote><pre class="example"><var>fichier</var>:<var>ligne</var>:<var>colonne</var>: <var>message</var>
<var>contenu de la ligne litigieuse</var>
</pre></blockquote>

<p>Un saut de ligne est placé dans la ligne de code, indiquant l&rsquo;endroit
précis du problème, comme ici :
</p>
<blockquote><pre class="example">test.ly:2:19: erreur: n'est pas une durée: 5
  { c'4 e'
           5 g' }
</pre></blockquote>

<p>Notez que ces coordonnées constituent l&rsquo;approximation au mieux par
LilyPond dans le code ayant déclenché l&rsquo;avertissement ou l&rsquo;erreur.  En
règle générale, erreurs et avertissements surviennent lorsque LilyPond
rencontre quelque chose d&rsquo;inattendu.  Lorsque la ligne indiquée ne vous
semble pas comporter d&rsquo;élément litigieux, remontez de quelques lignes
dans votre code.
</p>
<p>Par ailleurs, des diagnostics peuvent être déclenchés à n&rsquo;importe quel
moment au cours des différentes étapes du traitement.  Par exemple,
lorsque certaines parties de la source sont traitées plusieurs fois &ndash;
sortie MIDI et sortie imprimable &ndash; ou qu&rsquo;une même variable musicale est
utilisée dans plusieurs contextes, peut apparaître le même message à
plusieurs reprises.  Les diagnostics effectués à une étape avancée du
traitement, tels que les contrôles de mesure, sont aussi susceptibles
d&rsquo;apparaître plusieurs fois.
</p>
<p>Vous trouverez d&rsquo;autres informations sur les erreurs au chapitre
<a href="#common-errors">Quelques erreurs des plus courantes</a>.
</p>

<hr size="6">
<a name="Quelques-erreurs-des-plus-courantes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-messages" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Messages d'erreur&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-runs-off-the-page" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;La musique déborde de la page &gt; </a>]</td></tr></table>
<a name="common-errors"></a>
<h2 class="section">1.4 Quelques erreurs des plus courantes</h2>

<p>Les conditions amenant aux erreurs qui suivent sont fréquentes, bien
qu&rsquo;elles ne soient pas évidentes ni facilement localisables.  Nous
espérons que ces explications vous aideront à les résoudre plus
facilement.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#music-runs-off-the-page" accesskey="1">La musique déborde de la page</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#an-extra-staff-appears" accesskey="2">Apparition d&rsquo;une portée supplémentaire</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unbound-variable-_0025" accesskey="3">Message d&rsquo;erreur <code>Unbound variable %</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname" accesskey="4">Message d&rsquo;erreur <code>FT_Get_Glyph_Name</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#warning-staff-affinities-should-only-decrease" accesskey="5"><em>staff-affinities</em> devraient aller en ordre décroissant</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unexpected-new" accesskey="6">Message d&rsquo;erreur unexpected <code>\new</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" accesskey="7">Cette voix requiert un <code>\voiceXx</code> ou un réglage <code>\shiftXx</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="La-musique-d_00e9borde-de-la-page"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#common-errors" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-extra-staff-appears" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Apparition d'une portée supplémentaire &gt; </a>]</td></tr></table>
<a name="music-runs-off-the-page"></a>
<h3 class="unnumberedsubsec">La musique déborde de la page</h3>

<p>Lorsque la musique s&rsquo;épanche au delà de la marge droite ou bien semble
anormalement comprimée, la raison en est le plus souvent une note à la
durée erronée ; cela finit par provoquer le débordement de la
dernière note d&rsquo;une mesure.  Rien ne s&rsquo;oppose à ce que la dernière note
d&rsquo;une mesure ne s&rsquo;arrête avant la barre de mesure ; on considère
simplement qu&rsquo;elle se prolonge sur la mesure suivante.  Des débordements
à répétition finissent par générer une musique comprimée ou qui sort de
la page, pour la simple et bonne raison que les sauts de ligne
automatiques ne peuvent intervenir qu&rsquo;à la fin d&rsquo;une mesure complète,
autrement dit lorsque toutes les notes sont terminées avant la fin de la
mesure.
</p>
<div class="warning"><p><strong>Note :</strong> Une durée erronée peut empêcher les sauts de ligne, ce qui
conduit à une musique compressée, voire à un débordement de la page.
</p>
</div>
<p>Une erreur de durée sera bien plus facilement localisable si vous
positionnez régulièrement des contrôles de barre de mesure &ndash; voir
<a name="index-Verification-des-limites-et-numeros-de-mesure"></a>
<a href="notation-big-page.fr.html#bar-and-bar-number-checks">Vérification des limites et numéros de mesure</a>.
</p>
<p>Si vous tenez absolument à enchaîner de tels débordements, vous devrez
insérer des barres de mesure invisibles là où vous souhaitez positionner
un saut de ligne.  Consultez le chapitre <a name="index-Barres-de-mesure"></a>
<a href="notation-big-page.fr.html#bar-lines">Barres de mesure</a> pour
plus de détails.
</p>

<hr size="6">
<a name="Apparition-d_0027une-port_00e9e-suppl_00e9mentaire"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-runs-off-the-page" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; La musique déborde de la page&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Message d'erreur Unbound variable % &gt; </a>]</td></tr></table>
<a name="an-extra-staff-appears"></a>
<h3 class="unnumberedsubsec">Apparition d&rsquo;une portée supplémentaire</h3>

<p>Lorsque les contextes ne sont pas créés explicitement par la commande
<code>\new</code>, ils le seront si la commande à exécuter n&rsquo;est pas censée
s&rsquo;appliquer au contexte en cours.  Pour des partitions simples, le fait
que les contextes soient automatiquement créés rend bien des services,
et c&rsquo;est d&rsquo;ailleurs le cas pour la majorité des exemples contenus dans
les manuels de LilyPond.  Cependant, la création implicite d&rsquo;un contexte
peut aboutir à l&rsquo;apparition d&rsquo;une portée « parasite ».  On s&rsquo;attend par
exemple, en lisant le code qui suit, à ce que toutes les têtes de note
soient en rouge, alors que le résultat nous présente deux portées et que
les notes, placées sur la portée inférieure, restent en noir.
</p>
<blockquote><pre class="verbatim">\override Staff.NoteHead.color = #red
\new Staff { a' }
</pre><p>
 <a href="a3/lily-8a95f028.ly">
  <img align="middle"
       border="0"
       src="a3/lily-8a95f028.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Étant donné qu&rsquo;aucun contexte <code>Staff</code> n&rsquo;existe lorsque la
dérogation est introduite, LilyPond le crée implicitement pour lui
appliquer la directive considérée.  Survient alors la commande
<code>\new Staff</code> qui, à son tour, crée une nouvelle portée pour
contenir les notes qui suivent.  Voici la syntaxe correcte pour obtenir
ces notes en rouge :
</p>
<blockquote><pre class="verbatim">\new Staff {
  \override Staff.NoteHead.color = #red
  a'
}
</pre><p>
 <a href="1a/lily-c0a863c0.ly">
  <img align="middle"
       border="0"
       src="1a/lily-c0a863c0.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<hr size="6">
<a name="Message-d_0027erreur-Unbound-variable-_0025"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-extra-staff-appears" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Apparition d'une portée supplémentaire&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Message d'erreur FT_Get_Glyph_Name &gt; </a>]</td></tr></table>
<a name="error-message-unbound-variable-_0025"></a>
<h3 class="unnumberedsubsec">Message d&rsquo;erreur <code>Unbound variable %</code></h3>

<p>Ce message d&rsquo;erreur, qu&rsquo;il apparaisse sur le terminal ou en fin de
fichier journal, est associé à un message du type « GUILE a signalé
une erreur&hellip; ». Il survient à chaque fois qu&rsquo;un commentaire
<em>LilyPond</em> est indûment placé dans une routine <em>Scheme</em>.
</p>
<p>Un commentaire LilyPond est introduit par le signe pourcent (<code>%</code>)
et ne doit en aucun cas se trouver dans une routine Scheme.  En Scheme,
les commentaires s&rsquo;introduisent par un point-virgule (<code>;</code>).
</p>

<hr size="6">
<a name="Message-d_0027erreur-FT_005fGet_005fGlyph_005fName"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Message d'erreur Unbound variable %&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;staff-affinities devraient aller en ordre décroissant &gt; </a>]</td></tr></table>
<a name="error-message-ft_005fget_005fglyph_005fname"></a>
<h3 class="unnumberedsubsec">Message d&rsquo;erreur <code>FT_Get_Glyph_Name</code></h3>

<p>Ce message d&rsquo;erreur, qu&rsquo;il apparaisse sur le terminal ou en fin de
fichier journal, survient lorsqu&rsquo;un fichier source contient des
caractères non ASCII et qu&rsquo;il n&rsquo;a pas été enregistré avec un encodage
UTF-8.  Pour plus de détails, reportez-vous au chapitre
<a name="index-Caracteres-speciaux"></a>
<a href="notation-big-page.fr.html#special-characters">Caractères spéciaux</a>.
</p>

<hr size="6">
<a name="staff_002daffinities-devraient-aller-en-ordre-d_00e9croissant"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Message d'erreur FT_Get_Glyph_Name&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unexpected-new" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Message d'erreur unexpected new &gt; </a>]</td></tr></table>
<a name="warning-staff-affinities-should-only-decrease"></a>
<h3 class="unnumberedsubsec"><em>staff-affinities</em> devraient aller en ordre décroissant</h3>

<p>Cet avertissement est émis lorsque la partition ne comporte pas de
portée, comme par exemple une feuille de chant avec un contexte
<code>ChordName</code> et un contexte <code>Lyrics</code>.  Ce message disparaîtra
dès lors que vous autoriserez l&rsquo;un de ces contextes à se comporter comme
une portée, à l&rsquo;aide de l&rsquo;instruction
</p>
<blockquote><pre class="example">\override VerticalAxisGroup.staff-affinity = ##f
</pre></blockquote>

<p>que vous insérerez dès sa création.  Pour plus d&rsquo;information,
reportez-vous à la rubrique
<a name="index-Espacement-des-lignes-rattachees-a-des-portees"></a>
<a href="notation-big-page.fr.html#spacing-of-non_002dstaff-lines">Espacement des lignes rattachées à des portées</a>.
</p>

<hr size="6">
<a name="Message-d_0027erreur-unexpected-new"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; staff-affinities devraient aller en ordre décroissant&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Cette voix requiert un voiceXx ou un réglage shiftXx &gt; </a>]</td></tr></table>
<a name="error-message-unexpected-new"></a>
<h3 class="unnumberedsubsec">Message d&rsquo;erreur unexpected <code>\new</code></h3>

<p>Un bloc <code>\score</code> ne peut contenir qu&rsquo;<strong>une seule</strong> expression
musicale. Si, par contre, il comporte plusieurs <code>\new Staff</code>,
<code>\new StaffGroup</code> ou autres contextes introduits par une commande
<code>\new</code> qui ne seraient pas bornés par des accolades
<code>{ &hellip; }</code> ou des doubles chevrons <code>&lt;&lt; &hellip; &gt;&gt;</code> comme
ici :
</p>
<blockquote><pre class="example">\score {
  % Invalide ! Génère l'erreur : syntax error, unexpected \new
  % en français : erreur de syntaxe : \new inattendu
  \new Staff { &hellip; }
  \new Staff { &hellip; }
}
</pre></blockquote>

<p>vous obtiendrez ce message d&rsquo;erreur.
</p>
<p>Cette erreur sera évitée dès lors que toutes les instances de
<code>\new</code> sont bornées par des accolades ou des doubles chevrons.
</p>
<p>Des accolades placeront ces clauses <code>\new</code> en séquence :
</p>
<blockquote><pre class="verbatim">\score {
  {
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  }
}
</pre><p>
 <a href="2e/lily-9b22173f.ly">
  <img align="middle"
       border="0"
       src="2e/lily-9b22173f.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>alors que des doubles chevrons les placeront en parallèle ; autrement
dit, LilyPond les traitera simultanément :
</p>
<blockquote><pre class="verbatim">\score {
  &lt;&lt;
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  &gt;&gt;
}
</pre><p>
 <a href="06/lily-77b293ac.ly">
  <img align="middle"
       border="0"
       src="06/lily-77b293ac.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<hr size="6">
<a name="Cette-voix-requiert-un-voiceXx-ou-un-r_00e9glage-shiftXx"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Chapitre suivant">&nbsp;Mise à jour avec convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unexpected-new" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Message d'erreur unexpected new&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Quelques erreurs des plus courantes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#updating-files-with-convert_002dly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Mise à jour avec convert-ly &gt; </a>]</td></tr></table>
<a name="warning-this-voice-needs-a-voicexx-or-shiftxx-setting"></a>
<h3 class="unnumberedsubsec">Cette voix requiert un <code>\voiceXx</code> ou un réglage <code>\shiftXx</code></h3>

<p>Lorsque des notes affectées à des voix différentes et ayant la même
orientation de hampe interviennent au même instant musical et qu&rsquo;aucun
décalage spécifique à la voix n&rsquo;a été spécifié, LilyPond émet
<code>Avertissement : Cette voix requiert un voiceXx ou un réglage
shiftXx</code> (<em>warning: this voice needs a \voiceXx or \shiftXx
setting</em>).  Cet avertissement est émis même lorsque ces notes n&rsquo;ont pas
de hampe visible, comme par exemple des rondes, si les hampes des durées
inférieures à ces même hauteurs avaient la même orientation.
</p>
<p>N&rsquo;oublions pas que l&rsquo;orientation des hampes dépend de la position des
notes sur la portée à moins que cette orientation n&rsquo;ait été spécifiée,
par exemple à l&rsquo;aide d&rsquo;un <code>\voiceOne</code> ou autre clause.  En pareil
cas, l&rsquo;avertissement ne sera émis que lorsque les hampes auront la même
orientation, autrement dit lorsque les notes seront dans la même moitié
de la portée.
</p>
<p>Le fait de placer les notes dans des voix auxquelles sont attachés
orientation de hampe et décalage, comme <code>\voiceOne</code> ou autre, peut
permettre d&rsquo;éviter ces avertissements.
</p>
<p>Les notes se trouvant dans des voix au numéro plus élévé &ndash;
<code>\voiceThree</code> ou <code>\voiceFour</code> &ndash; sont automatiquement décalées
pour éviter que les empilements se chevauchent.  Ceci aura pour résultat
de visuellement décaler les notes affublées de hampe sans toutefois
bouger les rondes, hormis dans le cas d&rsquo;un réel chevauchement ou lorsque
ces voix se croisent (<code>\voiceThree</code> au dessus de<code>\voiceOne</code>).
</p>
<a name="Voir-aussi-1"></a>
<h4 class="subsubheading">Voir aussi</h4>
<p>Manuel d&rsquo;initiation :
<a name="index-Instanciation-explicite-des-voix"></a>
<a href="learning-big-page.fr.html#explicitly-instantiating-voices">Instanciation explicite des voix</a>,
<a name="index-Exemple-concret"></a>
<a href="learning-big-page.fr.html#real-music-example">Exemple concret</a>.
</p>
<p>Manuel de notation :
<a name="index-Polyphonie-sur-une-portee"></a>
<a href="notation-big-page.fr.html#single_002dstaff-polyphony">Polyphonie sur une portée</a>,
<a name="index-Resolution-des-collisions"></a>
<a href="notation-big-page.fr.html#collision-resolution">Résolution des collisions</a>.
</p>



<hr size="6">
<a name="Mise-_00e0-jour-avec-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Exécution de lilypond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Cette voix requiert un voiceXx ou un réglage shiftXx&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;LilyPond est une langue vivante &gt; </a>]</td></tr></table>
<a name="updating-files-with-convert_002dly"></a>
<h1 class="chapter">2. Mise à jour avec <code>convert-ly</code></h1>

<a name="index-mise-a-jour-de-fichiers-LilyPond"></a>
<a name="index-convert_002dly"></a>

<p>Au fur et à mesure des améliorations de LilyPond, la syntaxe ou façon de
libeller les fonctions et commandes peut être amenée à évoluer.  Ceci
peut avoir pour effet de générer des erreurs ou avertissements
intempestifs, voire une sortie erronée, lorsque des fichiers créés avec
une version antérieure sont traités par une version plus récente du
progamme.
</p>
<p>L&rsquo;utilitaire <code>convert-ly</code> permet alors de mettre ces fichiers en
conformité au fur et à mesure que de nouvelles versions de LilyPond sont
disponibles.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#why-does-the-syntax-change_003f" accesskey="1">2.1 LilyPond est une langue vivante</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-convert_002dly" accesskey="2">2.2 Exécution de <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command-line-options-for-convert_002dly" accesskey="3">2.3 Options en ligne de commande pour <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#problems-running-convert_002dly" accesskey="4">2.4 Problèmes d&rsquo;exécution de <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#manual-conversions" accesskey="5">2.5 Conversions manuelles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#writing-code-to-support-multiple-versions" accesskey="6">2.6 Écriture de code supportant différentes versions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="LilyPond-est-une-langue-vivante"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#updating-files-with-convert_002dly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-convert_002dly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Exécution de convert-ly &gt; </a>]</td></tr></table>
<a name="why-does-the-syntax-change_003f"></a>
<h2 class="section">2.1 LilyPond est une langue vivante</h2>

<a name="index-convert_002dly-1"></a>
<a name="index-mise-a-jour-d_0027anciens-fichiers"></a>

<p>La syntaxe de LilyPond change de temps en temps, que ce soit pour rendre
les fichiers plus faciles à lire et à écrire, ou pour intégrer de
nouvelles fonctionnalités.
</p>
<p>En voici un exemple flagrant :
</p>
<p>Tous les noms des propriétés de <code>\paper</code> et <code>\layout</code> sont
libellés sous la forme <code>premier-deuxième-troisième</code>.  Nous
avons constaté, une fois la version 2.11.60 mise à disposition, que la
propriété <code>printallheaders</code> ne respectait pas cette convention.
Aurions-nous dû la laisser telle que, au risque de dérouter les nouveaux
utilisateurs par cette exception au formatage, ou bien la modifier &ndash; ce
qui allait obliger ceux qui l&rsquo;avaient déjà utilisée à se mettre en
chasse ?
</p>
<p>Pour ce cas d&rsquo;espèce, nous avons décidé de changer le nom de cette
propriété en <code>print-all-headers</code> et de permettre à ceux qui
avaient utilisé l&rsquo;ancienne syntaxe de modifier automatiquement leurs
fichiers à l&rsquo;aide de notre utilitaire <code>convert-ly</code>.
</p>
<p>Malheureusement, <code>convert-ly</code> ne peut pas réaliser toutes les
modifications.  Par exemple, dans les versions de LilyPond antérieures à
la  2.4.2, les accents et les lettres non anglaises étaient entrées en
utilisant LaTeX &ndash; par exemple, <code>No\&quot;el</code>.  À partir de la
version 2.6, le caractère <code>ë</code> doit être entré directement dans
le fichier LilyPond comme caractère UTF-8.   <code>convert-ly</code> ne
peut pas changer tous les caractères LaTeX en caractères UTF-8 ; vous
devez mettre à jour vos vieux fichiers LilyPond manuellement.
</p>
<p>Les règles de conversion de <code>convert-ly</code> reposent sur la
recherche et le remplacement de motifs textuels plutôt que sur les
capacités intellectuelles de LilyPond, en conséquence de quoi :
</p>
<ul>
<li>
La fiabilité de la conversion dépend de la qualité même de chaque jeu de
règles ainsi que sur la complexité des modifications respectives à
apporter.  Certaines conversions peuvent donc requérir une intervention
manuelle ; la version de « départ » devrait toujours rester disponible
pour comparaison.

</li><li>
Seules des conversions à une syntaxe plus récente sont possibles ;
aucune règle ne permet de revenir en arrière.  La copie de travail d&rsquo;un
fichier LilyPond ne devrait donc être mise à jour que lorsque la version
sur laquelle il repose n&rsquo;est plus maintenue.  Des système de gestion de
version tels que Git permettent de se tenir à jour sur plusieurs
versions.

</li><li>
LilyPond, ainsi que Scheme, gèrent plutôt bien l&rsquo;emplacement ou
l&rsquo;absence d&rsquo;espaces ; les règles utilisées par <code>convert-ly</code>
tendent cependant à effectuer certains postulats en matière de style.
Suivre le style adopté dans les différent manuels est un gage de mise à
jour sans problème si l&rsquo;on considère que ces manuels sont eux-même mis à
jour avec <code>convert-ly</code>.
</li></ul>


<hr size="6">
<a name="Ex_00e9cution-de-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; LilyPond est une langue vivante&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Options en ligne de commande pour convert-ly &gt; </a>]</td></tr></table>
<a name="invoking-convert_002dly"></a>
<h2 class="section">2.2 Exécution de <code>convert-ly</code></h2>

<p>La commande <code>convert-ly</code> utilise les mentions de <code>\version</code>
&ndash; que vous n&rsquo;avez sûrement pas oublié de porter dans vos fichiers &ndash;  pour
déterminer le numéro de l&rsquo;ancienne version.  Mettre à jour votre fichier
ne vous demande que de lancer
</p>
<blockquote><pre class="example">convert-ly -e monfichier.ly
</pre></blockquote>

<p>dans le dossier où il se trouve.  &lsquo;<tt>monfichier.ly</tt>&rsquo; sera mis à jour,
avec un nouveau buméro en argument à <code>\version</code>, et vous aurez une
copie de l&rsquo;original : &lsquo;<tt>monfichier.ly~</tt>&rsquo;.
</p>
<div class="warning"><p><strong>Note :</strong> <code>convert-ly</code> effectuera les conversions jusqu&rsquo;aux
modifications de syntaxe les plus récentes qu&rsquo;il contient.  C&rsquo;est la
raison pour laquelle le numéro de <code>\version</code> modifié est la
plupart du temps inférieur au propre numéro de version de
<code>convert-ly</code>.
</p>
</div>
<p>Vous pouvez convertir tous les fichiers d&rsquo;un dossier en lançant
</p>
<blockquote><pre class="example">convert-ly -e *.ly
</pre></blockquote>

<p>Les utilisatuers de Gnu/Linux ou de MacOS X peuvent lancer cette
commande dans un terminal.  Les utilisateurs de MacOS X disposent d&rsquo;une
entrée spécifique dans le menu : <code>Compile &gt; Update syntax</code>.
</p>
<p>Un utilisateur de Windows lancera la commande
</p>
<blockquote><pre class="example">convert-ly.py -e *.ly
</pre></blockquote>

<p>dans l&rsquo;<code>interpréteur de commandes</code>, qui se trouve normalement sous
<code>Démarrer &gt; Accessoires &gt; Interpréteur de commandes</code> ou, pour la
version 8, en faisant une recherche sur « interpréteur de commande ».
</p>
<p>La conversion d&rsquo;un jeu de fichiers répartis dans différents
sous-répertoires s&rsquo;obtient en lançant
</p>
<blockquote><pre class="example">find . -name '*.ly' -exec convert-ly -e '{}' \;
</pre></blockquote>

<p>Ceci aura pour effet de rechercher et convertir tous les fichiers
sources dans le répertoire en cours et dans tous ses sous-répertoires.
les fichiers convertis se trouveront à leur emplacement d&rsquo;orignie, tout
comme les fichiers originels après renommage.  Cette commande, bien
qu&rsquo;effective uniquement dans un terminal, devrait etre fonctnionnelle
aussi pour les utilisateurs de MacOS X.
</p>

<p>Les utilisateurs de windows utiliseront l&rsquo;instruction
</p>
<blockquote><pre class="example">forfiles /s /M *.ly /c &quot;cmd /c convert-ly.py -e @fichier&quot;
</pre></blockquote>

<p>Par ailleurs, il est possible de spécifier de manière explicite le chemin
d&rsquo;accès au dossier comportant des sous-répertoires où se trouvent les
fichiers sources, à l&rsquo;aide de l&rsquo;option <code>/p</code> :
</p>
<blockquote><pre class="example">forfiles /s /p C:\Documents\MesPartitions /M *.ly /c &quot;cmd /c convert-ly.py -e @fichier&quot;
</pre></blockquote>

<p>Dans le cas où ce chemin d&rsquo;accès comporte des espaces, l&rsquo;intégralité de
ce chemin devra être borné par des guillemets informatiques :
</p>
<blockquote><pre class="example">forfiles /s /p &quot;C:\Documents\Mes Partitions&quot; /M *.ly /c &quot;cmd /c convert-ly.py -e @fichier&quot;
</pre></blockquote>


<hr size="6">
<a name="Options-en-ligne-de-commande-pour-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-convert_002dly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Exécution de convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#problems-running-convert_002dly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Problèmes d'exécution de convert-ly &gt; </a>]</td></tr></table>
<a name="command-line-options-for-convert_002dly"></a>
<h2 class="section">2.3 Options en ligne de commande pour <code>convert-ly</code></h2>

<p>L&rsquo;utilitaire <code>convert-ly</code> se lance de la manière suivante :
</p>
<blockquote><pre class="example">convert-ly [<var>option</var>]&hellip; <var>fichier</var>&hellip;
</pre></blockquote>

<p>Vous pouvez utiliser les options :
</p>
<dl compact="compact">
<dt> <code>-d, --diff-version-update</code></dt>
<dd><p>actualise la valeur de <code>\version</code>, uniquement si le fichier a été
effectivement modifié.  Un numéro de version instable sera « arrondi »
au niveau de la version stable suivante à moins que celui-ci ne
soit supérieur à la version cible.  En l&rsquo;absence de cette option,
ou bien si une conversion quelle qu&rsquo;elle soit a modifié le
fichier, la mention de version est porté à la valeur de la règle
appliquée la plus récente.
</p>
</dd>
<dt> <code>-e, --edit</code></dt>
<dd><p>pour éditer directement le fichier d&rsquo;origine.  Le fichier originel est
renommé en que &lsquo;<tt>monfichier.ly~</tt>&rsquo;.  Ce fichier de sauvegarde, selon
le système d&rsquo;exploitation, peut être « caché ».
</p>
<p>Vous pouvez aussi affecter un autre nom au fichier mis à jour et
conserver votre fichier original en l&rsquo;état :
</p>
<blockquote><pre class="example">convert-ly monfichier.ly &gt; monnouveaufichier.ly
</pre></blockquote>

<p>et, pour les utilisateurs de windows :
</p>
<blockquote><pre class="example">convert-ly.py monfichier.ly &gt; monnouveaufichier.ly
</pre></blockquote>

</dd>
<dt> <code>-b, --backup-numbered</code></dt>
<dd><p>combine à l&rsquo;option &lsquo;<samp>-e</samp>&rsquo;, pour numéroter les sauvegardes de telle
sorte qu&rsquo;aucune version antérieure ne soit écrasée.  Les fichiers de
sauvegarde, selon le système d&rsquo;exploitation, peuvent être « cachés ».
</p>
</dd>
<dt> <code>-f, --from=<var>from-patchlevel</var></code></dt>
<dd><p>pour définir le numéro de version à partir duquel vous voulez effectuer
les conversions.  Lorsque cette option n&rsquo;est pas activée,
<code>convert-ly</code> tentera de le déterminer sur la foi de la mention
de <code>\version</code> contenue dans le fichier.  Cette option s&rsquo;utilise
sous la forme : <code>--from=2.10.25</code>
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>visualiser l&rsquo;aide et quitter.
</p>
</dd>
<dt> <code>-l <var>loglevel</var>, --loglevel=<var>loglevel</var></code></dt>
<dd><p>pour régler le degré de verbosité à <var>loglevel</var>.  Les différentes
valeurs sont <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>, <code>PROGRESS</code>
(par défaut) et <code>DEBUG</code>.
</p>
</dd>
<dt> <code>-n, --no-version</code></dt>
<dd><p>Normalement, <code>convert-ly</code> ajoutera une indication de
<code>\version</code> à votre fichier s&rsquo;il n&rsquo;en comporte pas.  Cette option
permet de passer outre.
</p>
</dd>
<dt> <code>-s, --show-rules</code></dt>
<dd><p>pour afficher les conversions applicables.
</p>
</dd>
<dt> <code>-t, --to=<var>to-patchlevel</var></code></dt>
<dd><p>pour n&rsquo;appliquer les conversions que jusqu&rsquo;à une version déterminée.  Il
s&rsquo;agit par défaut de la dernière version disponible.  Le niveau demandé
doit être supérieur à la version de départ.
</p>
<blockquote><pre class="example">convert-ly --to=2.14.1 monfichier.ly
</pre></blockquote>

</dd>
</dl>

<p>Lorsqu&rsquo;il s&rsquo;agit de fragments inclus dans un fichier texinfo, il
vous faudra lancer
</p>
<blockquote><pre class="example">convert-ly --from=&hellip; --to=&hellip; --no-version *.itely
</pre></blockquote>

<p>Lorsque vous désirez savoir quels changements de syntaxe sont intervenus
entre deux versions de LilyPond, lancez
</p>
<blockquote><pre class="example">convert-ly --from=<var>ancienne</var> --to=<var>récente</var> -s
</pre></blockquote>


<hr size="6">
<a name="Probl_00e8mes-d_0027ex_00e9cution-de-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Options en ligne de commande pour convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#manual-conversions" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Conversions manuelles &gt; </a>]</td></tr></table>
<a name="problems-running-convert_002dly"></a>
<h2 class="section">2.4 Problèmes d&rsquo;exécution de <code>convert-ly</code></h2>

<p>Sous Windows, lorsque le nom du fichier original ou le chemin qui y mène
comporte des espaces, l&rsquo;interpréteur de commande requiert qu&rsquo;il soit
entouré de triples guillemets comme ci-dessous :
</p>
<blockquote><pre class="example">convert-ly &quot;&quot;&quot;D:/Mes Partitions/Ode.ly&quot;&quot;&quot; &gt; &quot;D:/Mes Partitions/nouveau Ode.ly&quot;
</pre></blockquote>

<p>Lorsque la commande <code>convert-ly -e *.ly</code> échoue parce que
son expansion dépasse la taille maximale d&rsquo;une ligne, vous pouvez lancer
<code>convert-ly</code> dans une boucle.  L&rsquo;exemple suivant permet, sous
Unix, de convertir tous les fichiers &lsquo;<tt>.ly</tt>&rsquo; d&rsquo;un même répertoire :
</p>
<blockquote><pre class="example">for f in *.ly; do convert-ly -e $f; done;
</pre></blockquote>

<p>Avec l&rsquo;interpréteur de commandes de Windows, la syntaxe consacrée est :
</p>
<blockquote><pre class="example">for %x in (*.ly) do convert-ly -e &quot;&quot;&quot;%x&quot;&quot;&quot;
</pre></blockquote>

<p>Toutes les évolutions du langage ne sont pas forcément prises en charge.
<code>convert-ly</code> ne tolère qu&rsquo;une seule option de sortie à la fois.
La mise à jour automatique du code Scheme inclus dans les fichiers
LilyPond est plus qu&rsquo;hasardeuse ; attendez-vous à devoir mettre les
mains dans le cambouis.
</p>

<hr size="6">
<a name="Conversions-manuelles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#problems-running-convert_002dly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Problèmes d'exécution de convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#writing-code-to-support-multiple-versions" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Écriture de code supportant différentes versions &gt; </a>]</td></tr></table>
<a name="manual-conversions"></a>
<h2 class="section">2.5 Conversions manuelles</h2>

<p>En théorie, un programme tel que <code>convert-ly</code> devrait pouvoir
traiter n&rsquo;importe quel changement de syntaxe.  En effet, si un programme
informatique sait interpréter aussi bien une version que l&rsquo;autre, un
autre programme informatique doit alors être capable de traduire un
fichier donné<sup><a name="DOCF2" href="#FOOT2">2</a></sup>.
</p>
<p>Le projet LilyPond ne dispose cependant que de ressources limitées : les
conversions ne sont pas toutes automatisées.  Voici une liste de
problèmes clairement identifiés :
</p>

<pre class="verbatim">1.6-&gt;2.0:
 Doesn't always convert figured bass correctly, specifically things like {&lt;
&gt;}.  Mats' comment on working around this:
   To be able to run convert-ly
   on it, I first replaced all occurrences of '{&lt;' to some dummy like '{#'
   and similarly I replaced '&gt;}' with '&amp;}'.  After the conversion, I could
   then change back from '{ #' to '{ &lt;' and from '&amp; }' to '&gt; }'.
 Doesn't convert all text markup correctly.  In the old markup syntax,
 it was possible to group a number of markup commands together within
parentheses, e.g.
   -#'((bold italic) &quot;string&quot;)
   This will incorrectly be converted into
   -\markup{{\bold italic} &quot;string&quot;}
   instead of the correct
   -\markup{\bold \italic &quot;string&quot;}
2.0-&gt;2.2:
 Doesn't handle \partcombine
 Doesn't do \addlyrics =&gt; \lyricsto, this breaks some scores with multiple
stanzas.
2.0-&gt;2.4:
 \magnify isn't changed to \fontsize.
    - \magnify #m =&gt; \fontsize #f, where f = 6ln(m)/ln(2)
 remove-tag isn't changed.
    - \applyMusic #(remove-tag '. . .) =&gt; \keepWithTag #'. . .
 first-page-number isn't changed.
    - first-page-number no =&gt; print-first-page-number = ##f
 Line breaks in header strings aren't converted.
    - \\\\  as line break in \header strings =&gt; \markup \center-align &lt;
      &quot;First Line&quot; &quot;Second Line&quot; &gt;
 Crescendo and decrescendo terminators aren't converted.
    - \rced =&gt; \!
    - \rc =&gt; \!
2.2-&gt;2.4:
 \turnOff (used in \set Staff.VoltaBracket = \turnOff) is not properly
converted.
2.4.2-&gt;2.5.9
 \markup{ \center-align &lt;{ ... }&gt; } should be converted to:
 \markup{ \center-align {\line { ... }} }
 but now, \line is missing.
2.4-&gt;2.6
 Special LaTeX characters such as $~$ in text are not converted to UTF8.
2.8
 \score{} must now begin with a music expression.  Anything else
 (particularly \header{}) must come after the music.
</pre>

<hr size="6">
<a name="g_t_00c9criture-de-code-supportant-diff_00e9rentes-versions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Chapitre suivant">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#manual-conversions" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Conversions manuelles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;lilypond-book &gt; </a>]</td></tr></table>
<a name="writing-code-to-support-multiple-versions"></a>
<h2 class="section">2.6 Écriture de code supportant différentes versions</h2>

<p>Dans certains cas, et tout particulièrement lorsque l&rsquo;on se contitue une
<em>bibliothèque</em> de code, il est souhaitable de pouvoir supporter
différentes versions de LilyPond indépendamment des changements de
syntaxe.  Il est possible d&rsquo;y parvenir à l&rsquo;aide de portions de code
englobées dans une expression conditionnelle et dont l&rsquo;exécution se fera
relativement à la version utilisée de LilyPond.  La fonction
<code>ly:version?</code> requiert un opérateur de comparaison <var>op</var> et une
version de référence <var>ver</var> sous forme de liste d&rsquo;entiers jusqu&rsquo;à
trois éléments.  Les éléments absents sont ignorés, de telle sorte que
<code>'(2 20)</code> est équivalent à <em>toute</em> version de la série 2.20.
On peut donc en arriver à des constructions telles que :
</p>
<pre class="verbatim">#(cond
  ((ly:version? &gt; '(2 20))
   (ly:message &quot;Ce code sera exécuté avec un LilyPond postérieur à 2.20&quot;))
  ((ly:version? = '(2 19 57))
   (ly:message &quot;Ce code ne sera exécuté qu'avec LilyPond 2.19.57&quot;))
  (else (ly:message &quot;Ceci sera exécuté pour toutes les autres versions&quot;)))
</pre>
<p>Ceci viendra naturellement s&rsquo;intégrer aux fonctions de bibliothèques
pour permettre l&rsquo;utilisation de syntaxes différentes.  Une comparaison
peut aussi apparaître au sein même de la musique comme ici :
</p>
<pre class="verbatim">{
  c' d' e' f'
  #(if (ly:version? = '(2 21))
       #{ \override NoteHead.color = #red #}
       #{ \override NoteHead.color = #blue #})
  g' a' b' c''
}
</pre>
<p><strong>Note :</strong> Cette fonction ayant été introduite avec LilyPond
2.19.57, il n&rsquo;est pas possible d&rsquo;établir des comparaisons avec des
versions qui lui sont antérieures.
</p>




<hr size="6">
<a name="lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Mise à jour avec convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#writing-code-to-support-multiple-versions" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Écriture de code supportant différentes versions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-example-of-a-musicological-document" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Exemple de document musicologique &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook"></a>
<h1 class="chapter">3. Association musique-texte avec <code>lilypond-book</code></h1>

<p>Vous pouvez inclure des partitions dans un document tout comme vous
feriez pour n&rsquo;importe quelle image.  Ces images sont générées séparément
&ndash; que ce soit sous forme de description PostScript ou au format PNG &ndash;
puis incluses dans votre document LaTeX ou HTML.
</p>
<p><code>lilypond-book</code> permet d&rsquo;automatiser ces opérations : le
programme extrait de votre document les fragments de musique, les
traite grâce à <code>lilypond</code> puis en restitue la partition dans
votre document.  Largeur de ligne et taille de la fonte sont adaptées
pour correspondre à la mise en forme de votre document.
</p>
<p><code>lilypond-book</code> est un script indépendant de <code>lilypond</code>
et se lance en ligne de commande &ndash; pour plus de précisions, consultez
<a href="#command_002dline-usage">Utilisation en ligne de commande</a>.  Si vous utilisez MacOS ou
Windows et rencontrez quelque difficulté avec <code>lilypond-book</code>,
référez-vous à <a name="index-MacOS-X-1"></a>
<a href="web-big-page.fr.html#macos-x">MacOS X</a> ou <a name="index-Windows"></a>
<a href="web-big-page.fr.html#windows">Windows</a>.
</p>
<p><code>lilypond-book</code> s&rsquo;applique aux documents LaTeX, HTML, Texinfo
et DocBook.
</p>
<a name="index-texinfo"></a>
<a name="index-LaTex"></a>
<a name="index-texinfo-1"></a>
<a name="index-texi"></a>
<a name="index-HTML"></a>
<a name="index-docbook"></a>
<a name="index-documents_002c-ajout-de-musique"></a>
<a name="index-HTML_002c-musique-et"></a>
<a name="index-Texinfo_002c-musique-et"></a>
<a name="index-DocBook_002c-musique-et"></a>
<a name="index-LaTeX_002c-musique-et"></a>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#an-example-of-a-musicological-document" accesskey="1">3.1 Exemple de document musicologique</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#integrating-music-and-text" accesskey="2">3.2 Association musique-texte</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#music-fragment-options" accesskey="3">3.3 Options applicables aux fragments de musique</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-lilypond_002dbook" accesskey="4">3.4 Utilisation de <code>lilypond-book</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#filename-extensions" accesskey="5">3.5 Extensions de nom de fichier</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook-templates" accesskey="6">3.6 Modèles pour lilypond-book</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#sharing-the-table-of-contents" accesskey="7">3.7 Gestion de la table des matières</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#alternate-methods-of-mixing-text-and-music" accesskey="8">3.8 Autres méthodes d&rsquo;association texte-musique</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Exemple-de-document-musicologique"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#integrating-music-and-text" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Association musique-texte &gt; </a>]</td></tr></table>
<a name="an-example-of-a-musicological-document"></a>
<h2 class="section">3.1 Exemple de document musicologique</h2>

<a name="index-musicologie"></a>

<p>Un certain nombre d&rsquo;ouvrages peuvent être illustrés par des extraits
musicaux, qu&rsquo;il s&rsquo;agisse d&rsquo;un traité de musicologie, d&rsquo;un carnet de
chant ou d&rsquo;un manuel à l&rsquo;exemple de celui que vous consultez
actuellement.  Cet agencement peut se faire &laquo;&nbsp;à la main&nbsp;&raquo; par
importation d&rsquo;un graphique PostScript dans le traitement de texte.  Les
développeurs de LilyPond ont cependant créé un outil permettant
d&rsquo;automatiser ces opérations pour ce qui concerne les documents HTML,
LaTeX, Texinfo et DocBook.
</p>
<p>Un script &ndash; <code>lilypond-book</code> &ndash; se charge d&rsquo;extraire les fragments
de musique, puis de les mettre en forme avant de renvoyer la
&laquo;&nbsp;partition&nbsp;&raquo; correspondante.  Voici un court exemple utilisable avec
LaTeX.  Dans la mesure où il est suffisamment parlant, nous nous
abstiendrons de le commenter.
</p>

<a name="Fichier-d_0027entree"></a>
<h3 class="subheading">Fichier d&rsquo;entrée</h3>

<blockquote><pre class="verbatim">\documentclass[a4paper]{article}

\begin{document}

Un document destiné à être traité par \verb+lilypond-book+ peut tout à
fait mélanger de la musique et du texte.
Par exemple,

\begin{lilypond}
\relative {
  c'2 e2 \tuplet 3/2 { f8 a b } a2 e4
}
\end{lilypond}

Les options sont indiquées entre crochets.

\begin{lilypond}[fragment,quote,staffsize=26,verbatim]
  c'4 f16
\end{lilypond}

Des extraits plus conséquents peuvent faire l'objet d'un fichier
indépendant, alors inclus avec \verb+\lilypondfile+.

\lilypondfile[quote,noindent]{screech-and-boink.ly}

(Si besoin, remplacez @file{screech-and-boink.ly} par
n'importe quel fichier @file{.ly} qui se trouve dans
le même répertoire que le présent fichier.)

\end{document}
</pre></blockquote>


<a name="Traitement"></a>
<h3 class="subheading">Traitement</h3>

<p>Enregistrez ces lignes dans un fichier nommé &lsquo;<tt>lilybook.lytex</tt>&rsquo; puis,
dans un terminal, lancez
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf lilybook.lytex
<em>lilypond-book (GNU LilyPond) 2.19.65 </em>
<em>Lecture de lilybook.lytex...</em>
<em>&hellip;nous vous épargnons le verbiage de la console&hellip;</em>
<em>Compilation de lilybook.tex...</em>
cd out
pdflatex lilybook
<em>&hellip;nous vous épargnons le verbiage de la console&hellip;</em>
xpdf lilybook
<em>(remplacez <code>xpdf</code> par votre lecteur de PDF habituel)</em>
</pre></blockquote>

<p>Le traitement par <code>lilypond-book</code> puis <code>latex</code> va
générer un certain nombre de fichiers temporaires susceptibles
d&rsquo;encombrer inutilement votre répertoire de travail, aussi nous vous
recommandons d&rsquo;utiliser l&rsquo;option &lsquo;<samp>--output=<var>répertoire</var></samp>&rsquo; afin
que les fichiers créés soient isolés dans le sous-répertoire
&lsquo;<tt>répertoire</tt>&rsquo;.
</p>
<p>Pour terminer, voici le résultat de cet exemple pour
LaTeX.<sup><a name="DOCF3" href="#FOOT3">3</a></sup>
</p>



<a name="Resultat"></a>
<h3 class="subheading">Résultat</h3>

<p>Un document destiné à être traité par <code>lilypond-book</code> peut tout à
fait mélanger de la musique et du texte.
Par exemple,
</p>
<p>
 <a href="a5/lily-9a0b8bc2.ly">
  <img align="middle"
       border="0"
       src="a5/lily-9a0b8bc2.png"
       alt="[image of music]">
 </a>
</p>



<p>Les options sont indiquées entre crochets.
</p>
<blockquote><pre class="verbatim">c'4 f16
</pre><p>
 <a href="b7/lily-82a2c89b.ly">
  <img align="middle"
       border="0"
       src="b7/lily-82a2c89b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Des extraits plus conséquents peuvent faire l&rsquo;objet d&rsquo;un fichier
indépendant, alors inclus avec <code>\lilypondfile</code>.
</p>
<blockquote><p>
 <a href="0a/lily-80d132fa.ly">
  <img align="middle"
       border="0"
       src="0a/lily-80d132fa.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Lorsque vous désirez y inclure un <code>tagline</code>, personnalisé ou non,
l&rsquo;intégralité de l&rsquo;extrait devra apparaître dans une construction de
type <code>\book { }</code>.
</p>
<pre class="verbatim">\book{
  \header{
    title = &quot;LilyPond fait ses gammes&quot;
  }

  \relative {
    c' d e f g a b c
  }
}
</pre><p>
 <a href="8e/lily-928dbb8a.ly">
  <img align="middle"
       border="0"
       src="8e/lily-928dbb8a.png"
       alt="[image of music]">
 </a>
</p>





<hr size="6">
<a name="Association-musique_002dtexte"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-example-of-a-musicological-document" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Exemple de document musicologique&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#latex" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;LaTeX &gt; </a>]</td></tr></table>
<a name="integrating-music-and-text"></a>
<h2 class="section">3.2 Association musique-texte</h2>

<p>Nous allons nous intéresser, dans les lignes qui suivent, à la manière
d&rsquo;intégrer LilyPond selon différents types de format.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#latex" accesskey="1">3.2.1 LaTeX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#texinfo" accesskey="2">3.2.2 Texinfo</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#html" accesskey="3">3.2.3 HTML</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#docbook" accesskey="4">3.2.4 DocBook</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#integrating-music-and-text" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Association musique-texte&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Association musique-texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#texinfo" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="latex"></a>
<h3 class="subsection">3.2.1 LaTeX</h3>

<p>LaTeX peut être considéré comme le standard de publication dans le
domaine des sciences exactes.  Il repose sur le moteur typographique
TeX, le <em>nec plus ultra</em> en la matière.
</p>
<p>Consultez
<a href="http://www.ctan.org/tex-archive/info/lshort/french"><em>The Not So Short Introduction to LaTeX</em> en français</a> pour un
aperçu des possibilités de LaTeX.
</p>
<p>Afin d&rsquo;insérer de la musique dans vos fichiers LaTeX,
<code>lilypond-book</code> dispose des environnements et commandes
suivantes :
</p>
<ul>
<li>
la commande <code>\lilypond{&hellip;}</code> qui permet de directement saisir
du code LilyPond simple ;

</li><li>
l&rsquo;environnement <code>\begin{lilypond}&hellip;\end{lilypond}</code> qui
permet de saisir directement du code LilyPond plus élaboré ;

</li><li>
la commande <code>\lilypondfile{&hellip;}</code> qui permet d&rsquo;insérer un
fichier LilyPond ;

</li><li>
la commande <code>\musicxmlfile{&hellip;}</code> qui permet d&rsquo;insérer un
fichier MusicXML qui sera alors traité par <code>musicxml2ly</code> puis
<code>lilypond</code>.

</li></ul>


<p>Il suffit, pour inclure de la musique, d&rsquo;utiliser l&rsquo;une des instructions
suivantes :
</p>
<blockquote><pre class="example">\begin{lilypond}[liste,des,options]
  VOTRE CODE LILYPOND
\end{lilypond}

\lilypond[liste,des,options]{ VOTRE CODE LILYPOND }

\lilypondfile[liste,des,options]{<var>fichier</var>}

\musicxmlfile[liste,des,options]{<var>fichier</var>}
</pre></blockquote>


<p>Par ailleurs, la commande <code>\lilypondversion</code> vous permet d&rsquo;afficher
le numéro de version de LilyPond.
Lancer <code>lilypond-book</code> produira un fichier qui sera ensuite
traité par LaTeX.
</p>
<p>Voici quelques exemples.  L&rsquo;environnement <code>lilypond</code>
</p>
<blockquote><pre class="example">\begin{lilypond}[quote,fragment,staffsize=26]
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>produit
</p>
<blockquote><p>
 <a href="5a/lily-d67e1e90.ly">
  <img align="middle"
       border="0"
       src="5a/lily-d67e1e90.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>La version abrégée
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produit
</p>
<blockquote><p>
 <a href="d9/lily-f0683194.ly">
  <img align="middle"
       border="0"
       src="d9/lily-f0683194.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Dans l&rsquo;état actuel des choses, il n&rsquo;est pas possible d&rsquo;inclure des
accolades &ndash; <code>{</code> ou <code>}</code> &ndash; dans un
<code>\lilypond{}</code> ; cette commande n&rsquo;est donc pertinente que
lorsque conjuguée à l&rsquo;option &lsquo;<samp>fragment</samp>&rsquo;.
</p>
<p>La longueur par défaut des portées sera ajustée en fonction des
commandes contenues dans le préambule du document &ndash; ce qui précède la
ligne <code>\begin{document}</code>.  La commande <code>lilypond-book</code> les
transmet à LaTeX afin de connaître la largeur du texte, et par voie
de conséquence déterminer la longueur des portées.  Notez bien que cet
algorithme heuristique n&rsquo;est pas infaillible ; vous devrez alors
recourir à l&rsquo;option <code>line-width</code>.
</p>
<a name="index-titrage-et-lilypond_002dbook"></a>
<a name="index-_005cheader-et-document-LaTeX"></a>

<p>Dès lors qu&rsquo;elles auront été définies dans votre document, les macros
suivantes seront appelées avant chaque extrait musical :
</p>
<ul>
<li> <code>\preLilyPondExample</code> avant la musique,

</li><li> <code>\postLilyPondExample</code> après la musique,

</li><li> <code>\betweenLilyPondSystem[1]</code> entre les systèmes, si tant est
que <code>lilypond-book</code> a découpé la partition en plusieurs fichiers
PostScript.  Elle requiert un paramètre et reçoit le nombre de fichiers
inclus dans l&rsquo;extrait.  Par défaut, elle insère simplement un
<code>\linebreak</code>.
</li></ul>


<a name="Morceaux-choisis"></a>
<h4 class="subsubheading">Morceaux choisis</h4>

<p>Lorsque, pour les besoins de la démonstration, certains éléments
musicaux tels que des liaisons &ndash; de phrasé ou de prolongation &ndash;
continuent après le fragment qui vous intéresse, il suffit d&rsquo;insérer un
saut de ligne et de limiter le nombre de systèmes à inclure.
</p>
<p>En ce qui concerne LaTeX, vous devrez définir
<code>\betweenLilyPondSystem</code> de telle sorte que l&rsquo;inclusion cesse dès
que le nombre de systèmes requis est atteint.  Dans la mesure où
<code>\betweenLilyPondSystem</code> n&rsquo;est appelé qu&rsquo;<strong>après</strong> le premier
système, inclure un seul système est un jeu d&rsquo;enfant :
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin{lilypond}[fragment]
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>Pour un plus grand nombre de systèmes, il suffit d&rsquo;insérer un test
conditionnel TeX avant le <code>\endinput</code>.  À partir de l&rsquo;exemple
qui suit, remplacez le &laquo;&nbsp;2&nbsp;&raquo; par le nombre de systèmes dont vous aurez
besoin :
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum##1&lt;2\else\expandafter\endinput\fi
}
</pre></blockquote>

<p>Étant donné que <code>\endinput</code> arrête immédiatement le traitement du
fichier source en cours, l&rsquo;insertion du <code>\expandafter</code> permet de
repousser ce <code>\endinput</code> après le <code>\fi</code> ; la clause
<code>\if-\fi</code> sera alors respectée.
</p>
<p>Gardez à l&rsquo;esprit que <code>\betweenLilyPondSystem</code> est effectif tant
que TeX n&rsquo;est pas sorti du groupe en cours &ndash; tel que
l&rsquo;environnement LaTeX &ndash; ou écrasé par une nouvelle définition pour
la suite du document la plupart du temps.  Pour réinitialiser cette
définition, insérez
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>dans votre document LaTeX.
</p>
<p>La création d&rsquo;une macro TeX permet de se simplifier la vie :
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{%
      \ifnum##1&lt;#1\else\expandafter\endinput\fi}
}
</pre></blockquote>

<p>Il suffit alors, avant chacun des fragments à inclure, de spécifier le
nombre de systèmes requis :
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}&hellip;\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}&hellip;\end{lilypond}
</pre></blockquote>


<a name="Voir-aussi"></a>
<h4 class="subsubheading">Voir aussi</h4>
<p><code>lilypond-book</code> dispose d&rsquo;options en ligne de commande
particulières.  Elles sont consultables, ainsi que d&rsquo;autres détails
spécifiques au traitement de documents LaTeX, au chapitre
<a href="#invoking-lilypond_002dbook">Utilisation de <code>lilypond-book</code></a>.
</p>

<hr size="6">
<a name="Texinfo"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#latex" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; LaTeX&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Association musique-texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#html" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;HTML &gt; </a>]</td></tr></table>
<a name="texinfo"></a>
<h3 class="subsection">3.2.2 Texinfo</h3>

<p>Texinfo est le format standard pour toute la documentation du projet
GNU.  À titre d&rsquo;exemple, toute la documentation de LilyPond &ndash; qu&rsquo;il
s&rsquo;agisse des versions HTML, PDF ou info &ndash; est générée à partir de
documents Texinfo.
</p>
<p>Afin d&rsquo;insérer de la musique dans vos fichiers Texinfo,
<code>lilypond-book</code> dispose des environnements et commandes
suivantes :
</p>
<ul>
<li>
la commande <code>@lilypond{&hellip;}</code> qui permet de directement
saisir du code LilyPond simple ;

</li><li>
l&rsquo;environnement <code>@lilypond&hellip;@end lilypond</code> qui permet
de saisir directement du code LilyPond plus élaboré ;

</li><li>
la commande <code>@lilypondfile{&hellip;}</code> qui permet d&rsquo;insérer un
fichier LilyPond ;

</li><li>
la commande <code>@musicxmlfile{&hellip;}</code> qui permet d&rsquo;insérer un
fichier MusicXML qui sera alors traité par <code>musicxml2ly</code> puis
<code>lilypond</code>.

</li></ul>


<p>Il suffit, pour inclure de la musique, d&rsquo;utiliser l&rsquo;une des instructions
suivantes dans votre fichier source :
</p>
<blockquote><pre class="example">@lilypond[liste,des,options]
  VOTRE CODE LILYPOND
@end lilypond

@lilypond[liste,des,options]{ VOTRE CODE LILYPOND }

@lilypondfile[liste,des,options]{<var>fichier</var>}

@musicxmlfile[liste,des,options]{<var>fichier</var>}
</pre></blockquote>

<p>Par ailleurs, l&rsquo;utilisation d&rsquo;un <code>@lilypondversion</code> permet
d&rsquo;afficher la version de LilyPond utilisée.
</p>
<p>Le traitement du fichier source par <code>lilypond-book</code> génère un
fichier Texinfo (extension &lsquo;<tt>.itexi</tt>&rsquo;) qui contiendra les balises
<code>@image</code> pour les formats HTML, Info ou imprimable.  Les images
générées par <code>lilypond-book</code> sont au format EPS et PDF en vue
d&rsquo;une impression, et au format PNG pour leur utilisation en HTML ou
Info.
</p>
<p>En voici deux exemples.  Un environnement <code>lilypond</code>
</p>
<blockquote><pre class="example">@lilypond[fragment]
c' d' e' f' g'2 g'
@end lilypond
</pre></blockquote>

<p>produit
</p>
<p>
 <a href="49/lily-84022578.ly">
  <img align="middle"
       border="0"
       src="49/lily-84022578.png"
       alt="[image of music]">
 </a>
</p>



<p>La version abrégée
</p>
<blockquote><pre class="example">@lilypond[fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produit
</p>
<p>
 <a href="0c/lily-92b92a6d.ly">
  <img align="middle"
       border="0"
       src="0c/lily-92b92a6d.png"
       alt="[image of music]">
 </a>
</p>



<p>Contrairement à LaTeX, <code>@lilypond{&hellip;}</code> ne va pas
intégrer d&rsquo;image dans le document, mais générer un paragraphe.
</p>

<hr size="6">
<a name="HTML"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#texinfo" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Texinfo&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Association musique-texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#docbook" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;DocBook &gt; </a>]</td></tr></table>
<a name="html"></a>
<h3 class="subsection">3.2.3 HTML</h3>

<p>Afin d&rsquo;insérer de la musique dans vos fichiers HTML,
<code>lilypond-book</code> dispose des environnements et commandes
suivantes :
</p>
<ul>
<li>
la commande <code>&lt;lilypond &hellip; /&gt;</code> qui permet de directement saisir
du code LilyPond simple ;

</li><li>
l&rsquo;environnement <code>&lt;lilyond&gt;&hellip;&lt;/lilypond&gt;</code> qui permet de saisir
directement du code LilyPond plus élaboré ;

</li><li>
la commande <code>&lt;lilypondfile&gt;&hellip;&lt;/lilypondfile&gt;</code> qui permet
d&rsquo;insérer un fichier LilyPond ;

</li><li>
la commande <code>&lt;musicxmlfile&gt;&hellip;&lt;/musicxmlfile&gt;</code> qui permet
d&rsquo;insérer un fichier MusicXML qui sera alors traité par
<code>musicxml2ly</code> puis <code>lilypond</code>.

</li></ul>


<p>Il suffit, pour inclure de la musique, d&rsquo;utiliser l&rsquo;une des instructions
suivantes dans votre fichier source :
</p>
<blockquote><pre class="example">&lt;lilypond liste des options&gt;
  VOTRE CODE LILYPOND
&lt;/lilypond&gt;

&lt;lilypond liste des options: VOTRE CODE LILYPOND /&gt;

&lt;lilypondfile liste des options&gt;<var>fichier</var>&lt;/lilypondfile&gt;

&lt;musicxmlfile liste des options&gt;<var>fichier</var>&lt;/musicxmlfile&gt;
</pre></blockquote>

<p>Il suffit, pour inclure de la musique, d&rsquo;utiliser
</p>
<blockquote><pre class="example">&lt;lilypond fragment relative=2&gt;
\key c \minor c4 es g2
&lt;/lilypond&gt;
</pre></blockquote>

<p><code>lilypond-book</code> produira alors un fichier HTML contenant les
balises d&rsquo;image pour les fragments de musique :
</p>
<p>
 <a href="c9/lily-7a8f0874.ly">
  <img align="middle"
       border="0"
       src="c9/lily-7a8f0874.png"
       alt="[image of music]">
 </a>
</p>



<p>Pour insérer l&rsquo;image au fil du texte, il suffit d&rsquo;utiliser
<code>&lt;lilypond &hellip; /&gt;</code>, tout en séparant options et musique par un
caractère deux points, comme ici :
</p>
<blockquote><pre class="example">De la musique &lt;lilypond relative=2: a b c/&gt; au milieu d'une ligne de texte.
</pre></blockquote>

<p>Lorsque l&rsquo;inclusion concerne des fichiers indépendants, utilisez
</p>
<blockquote><pre class="example">&lt;lilypondfile <var>option1</var> <var>option2</var>&hellip;&gt;<var>fichier</var>&lt;/lilypondfile&gt;
</pre></blockquote>

<p>La syntaxe pour <code>&lt;musicXmlfile&gt;</code> est identique à celle de
<code>&lt;lilypondfile&gt;</code>, à ceci près qu&rsquo;elle fait référence à un fichier
MusicXML plutôt qu&rsquo;à un fichier LilyPond.
</p>
<p>Une liste des différentes options utilisables avec les balises
<code>lilypond</code> et <code>lilypondfile</code> est disponible, à la rubrique
<a href="#music-fragment-options">Options applicables aux fragments de musique</a>.
</p>
<p>Par ailleurs, la commande <code>&lt;lilypondversion/&gt;</code> vous permet
d&rsquo;afficher le numéro de version de LilyPond.
</p>
<a name="index-titrage-et-HTML"></a>
<a name="index-previsualisation-d_0027image"></a>
<a name="index-thumbnail"></a>


<hr size="6">
<a name="DocBook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#html" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; HTML&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Association musique-texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-fragment-options" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Options applicables aux fragments de musique &gt; </a>]</td></tr></table>
<a name="docbook"></a>
<h3 class="subsection">3.2.4 DocBook</h3>

<p>L&rsquo;inclusion de documents LilyPond ne doit nuire en rien à la conformité
du document DocBooK ; l&rsquo;utilisation d&rsquo;éditeurs spécialisés ainsi
que d&rsquo;outils de validation en sera ainsi préservée.  C&rsquo;est la raison
pour laquelle nous ne définirons pas de balise spécifique ; nous
respecterons plutôt les conventions des éléments standard de DocBook.
</p>

<a name="Conventions-communes"></a>
<h3 class="subheading">Conventions communes</h3>

<p>Quel que soit le type d&rsquo;extrait à inclure, nous utiliserons les
éléments <code>mediaobject</code> et <code>inlinemediaobject</code>, de telle sorte
que ces inclusions soient incorporées directement ou non dans le
document final.  Les options de formatage des extraits en question sont
fournies par la propriété <code>role</code> de l&rsquo;élément central &ndash; voir les
paragraphes suivants.  Les balises sont déterminées de manière à ce que
les éditeurs DocBook prennent en charge du mieux possible leur contenu.
Les fichiers DocBook destinés à un traitement par
<code>lilypond-book</code> doivent avoir une extension &lsquo;<tt>.lyxml</tt>&rsquo;.
</p>

<a name="Inclusion-d_0027un-fichier-LilyPond"></a>
<h3 class="subheading">Inclusion d&rsquo;un fichier LilyPond</h3>

<p>Il s&rsquo;agit en fait du cas le plus simple.  Le fichier à inclure doit
avoir une extension &lsquo;<tt>.ly</tt>&rsquo; et sera inséré comme n&rsquo;importe quel
<code>imageobject</code>, en respectant la structure suivante :
</p>
<blockquote><pre class="example">&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref=&quot;music1.ly&quot; role=&quot;printfilename&quot; /&gt;
  &lt;/imageobject&gt;
&lt;/mediaobject&gt;
</pre></blockquote>

<p>Vous pouvez utiliser, en tant que balise externe, aussi bien
<code>mediaobject</code> que <code>inlinemediaobject</code>.
</p>

<a name="Inclusion-de-code-LilyPond"></a>
<h3 class="subheading">Inclusion de code LilyPond</h3>

<p>L&rsquo;inclusion de code LilyPond se réalise à l&rsquo;aide d&rsquo;un
<code>programlisting</code> auquel on associe le langage <code>lilypond</code>.  En
voici la syntaxe :
</p>
<blockquote><pre class="example">&lt;inlinemediaobject&gt;
  &lt;textobject&gt;
    &lt;programlisting language=&quot;lilypond&quot; role=&quot;fragment verbatim staffsize=16 ragged-right relative=2&quot;&gt;
\context Staff \with {
  \remove &quot;Time_signature_engraver&quot;
  \remove &quot;Clef_engraver&quot;}
  { c4( fis) }
    &lt;/programlisting&gt;
  &lt;/textobject&gt;
&lt;/inlinemediaobject&gt;
</pre></blockquote>

<p>Comme vous le remarquez, la balise externe &ndash; qu&rsquo;il s&rsquo;agisse d&rsquo;un
<code>mediaobject</code> ou d&rsquo;un <code>inlinemediaobject</code> &ndash; comporte un bloc
<code>textobject</code> qui contiendra le <code>programlisting</code>.
</p>

<a name="Generation-du-document-DocBook"></a>
<h3 class="subheading">Génération du document DocBook</h3>

<p><code>lilypond-book</code> génère, à partir d&rsquo;un fichier &lsquo;<tt>.lyxml</tt>&rsquo;, un
document DocBook tout à fait valide &ndash; extension &lsquo;<tt>.xml</tt>&rsquo; &ndash; que vous
pourrez ensuite traiter avec votre application habituelle.  Dans le cas
de <a href="http://dblatex.sourceforge.net">dblatex</a>, vous
obtiendrez alors automatiquement un fichier PDF.  Les feuilles de style
XSL DocBook officielles permettent de générer du HTML (HTML Help,
JavaHelp, etc.) ; vous pourriez néanmoins devoir y apporter quelques
adaptations.
</p>

<hr size="6">
<a name="Options-applicables-aux-fragments-de-musique"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#docbook" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond_002dbook" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation de lilypond-book &gt; </a>]</td></tr></table>
<a name="music-fragment-options"></a>
<h2 class="section">3.3 Options applicables aux fragments de musique</h2>

<p>Dans les lignes qui suivent, l&rsquo;appellation &laquo;&nbsp;commande LilyPond&nbsp;&raquo; fait
référence à toutes celles vues plus haut et qui font appel à
<code>lilypond-book</code> pour produire un extrait musical.  Pour plus de
simplicité, nous ne parlerons que de la syntaxe applicable à LaTeX.
</p>
<p>Nous attirons votre attention sur le fait que les différentes options
sont lues de la gauche vers la droite.  Si une option est transmise
plusieurs fois, seule la dernière sera prise en compte.
</p>
<p>Les commandes LilyPond acceptent les options suivantes :
</p>
<dl compact="compact">
<dt> <code>staffsize=<var>hauteur</var></code></dt>
<dd><p>Définit la taille de portée à <var>hauteur</var> exprimée en points.
</p>
</dd>
<dt> <code>ragged-right</code></dt>
<dd><p>Produit des lignes en pleine largeur avec un espacement naturel.  En
d&rsquo;autres termes, sera ajoutée la commande de mise en forme
<code>ragged-right = ##t</code>.  Il s&rsquo;agit de l&rsquo;option par défaut de la
commande <code>\lilypond{}</code> en l&rsquo;absence d&rsquo;option <code>line-width</code>.
C&rsquo;est aussi l&rsquo;option par défaut pour l&rsquo;environnement <code>lilypond</code>
lorsque l&rsquo;option &lsquo;<samp>fragment</samp>&rsquo; est activée sans avoir défini
explicitement de longueur de ligne.
</p>
</dd>
<dt> <code>noragged-right</code></dt>
<dd><p>Dans le cas où l&rsquo;extrait tient sur une seule ligne, la portée sera
étirée pour correspondre à la longueur de ligne du texte.  Autrement
dit, la commande de mise en forme <code>ragged-right = ##f</code> s&rsquo;ajoute à
l&rsquo;extrait LilyPond.
</p>
</dd>
<dt> <code>line-width</code></dt>
<dt> <code>line-width=<var>taille</var>\<var>unité</var></code></dt>
<dd><p>Détermine la longueur de ligne à <var>taille</var>, exprimée en <var>unité</var>.
<var>unité</var> peut prendre les valeurs <code>cm</code>, <code>mm</code>, <code>in</code> ou
<code>pt</code>.  Cette option n&rsquo;affectera que le résultat de LilyPond &ndash; la
longueur de la portée &ndash; et en aucun cas la mise en forme du texte.
</p>
<p>En l&rsquo;absence d&rsquo;argument, la longueur de ligne sera définie à une valeur
par défaut telle que calculée par un algorithme heuristique.
</p>
<p>Lorsque l&rsquo;option <code>line-width</code> n&rsquo;est pas utilisée,
<code>lilypond-book</code> tentera de déterminer des valeurs par défaut
pour les cas où les environnements <code>lilypond</code> ne font pas appel à
&lsquo;<samp>ragged-right</samp>&rsquo;.
</p>
</dd>
<dt> <code>papersize=<var>chaîne</var></code></dt>
<dd><p>Détermine le format du papier à <var>chaîne</var> tel que défini dans le
fichier &lsquo;<tt>scm/paper.scm</tt>&rsquo; &ndash; <code>a5</code>, <code>quarto</code>,
<code>11x17</code>, etc.
</p>
<p>Toute valeur non mentionnée dans &lsquo;<tt>scm/paper.scm</tt>&rsquo; sera rejetée.
<code>lilypond-book</code> émettra un message d&rsquo;avertissement et l&rsquo;extrait
utilisera le format par défaut, à savoir <code>a4</code>.
</p>
</dd>
<dt> <code>notime</code></dt>
<dd><p>Désactive l&rsquo;impression des métriques et barres de mesure pour
l&rsquo;intégralité de la partition.
</p>
</dd>
<dt> <code>fragment</code></dt>
<dd><p>Laisse à <code>lilypond-book</code> le soin d&rsquo;ajouter ce qui est
indispensable, de telle sorte que vous pouvez vous contenter d&rsquo;un
</p>
<blockquote><pre class="example">c'4
</pre></blockquote>

<p>sans <code>\layout</code>, <code>\score</code>, etc.
</p>
</dd>
<dt> <code>nofragment</code></dt>
<dd><p>N&rsquo;ajoute rien à ce qui se trouve dans l&rsquo;environnement LilyPond.  À noter
qu&rsquo;il s&rsquo;agit de l&rsquo;option par défaut.
</p>
</dd>
<dt> <code>indent=<var>taille</var>\<var>unité</var></code></dt>
<dd><p>Définit l&rsquo;indentation du premier système à <var>taille</var>, exprimée en
<var>unité</var> &ndash; <code>cm</code>, <code>mm</code>, <code>in</code> ou <code>pt</code>.  Cette
option n&rsquo;affecte que LilyPond, et en aucun cas la mise en forme du
texte.
</p>
</dd>
<dt> <code>noindent</code></dt>
<dd><p>Ramène l&rsquo;indentation du premier système à zéro.  Cette option n&rsquo;affecte
que LilyPond, et en aucun cas la mise en forme du texte.  Dans la mesure
où il s&rsquo;agit du comportement par défaut, point n&rsquo;est besoin de spécifier
<code>noindent</code>.
</p>
</dd>
<dt> <code>quote</code></dt>
<dd><p>Réduit la longueur des lignes musicales de <em>2*0.4</em>in (soit
<em>2 * 10,16</em> mm) pour renvoyer l&rsquo;extrait dans un bloc de
citation.  La valeur &laquo;&nbsp;0,4 pouce&nbsp;&raquo; est contrôlée par l&rsquo;option
&lsquo;<samp>exampleindent</samp>&rsquo;.
</p>
</dd>
<dt> <code>exampleindent</code></dt>
<dd><p>Détermine la valeur de l&rsquo;indentation qui sera utilisée par l&rsquo;option
&lsquo;<samp>quote</samp>&rsquo;.
</p>
</dd>
<dt> <code>relative</code></dt>
<dt> <code>relative=<var>n</var></code></dt>
<dd><p>Utilise le mode d&rsquo;octave relative.  Les notes sont donc par défaut
positionnées relativement au do central.  L&rsquo;argument &ndash; un nombre entier
&ndash; fourni à l&rsquo;option <code>relative</code> spécifie l&rsquo;octave de départ de
l&rsquo;extrait ; <code>1</code> correspond au do central.  Cette option
&lsquo;<samp>relative</samp>&rsquo; n&rsquo;a d&rsquo;effet que si elle est utilisée en combinaison
avec l&rsquo;option &lsquo;<samp>fragment</samp>&rsquo; ; autrement dit, l&rsquo;option
&lsquo;<samp>fragment</samp>&rsquo; est implicite dès lors que <code>relative</code> est
explicité.
</p></dd>
</dl>


<p>La documentation de LilyPond, comme nous l&rsquo;avons déjà vu, use
abondamment de <code>lilypond-book</code>.  Elle utilise à cet effet
quelques options particulières.
</p>
<dl compact="compact">
<dt> <code>verbatim</code></dt>
<dd><p>L&rsquo;argument de la commande LilyPond est recopié textuellement dans le
fichier généré, avant l&rsquo;image de la partition.  Cependant, cette option
n&rsquo;est pas pleinement opérationnelle lorsqu&rsquo;un <code>\lilypond{}</code> se
trouve au milieu d&rsquo;un paragraphe.
</p>
<p>L&rsquo;utilisation conjointe d&rsquo;un &lsquo;<samp>verbatim</samp>&rsquo; et de la commande
<code>lilypondfile</code> permet de n&rsquo;inclure textuellement qu&rsquo;une seule
partie du fichier source.  <code>lilypond-book</code> reproduira alors
textuellement la partie du fichier source comprise entre les
commentaires <code>begin verbatim</code> et éventuellement
<code>end verbatim</code>.  Si l&rsquo;on considère le fichier source suivant,
la musique sera interprétée en mode relatif, mais la recopie du code ne
comportera pas l&rsquo;assertion du bloc <code>relative</code> :
</p>
<blockquote><pre class="example">\relative { % begin verbatim
  c'4 e2 g4
  f2 e % end verbatim
}
</pre></blockquote>

<p>donnera dans un bloc <em>verbatim</em> précédant la partition :
</p>
<blockquote><pre class="example">  c4 e2 g4
  f2 e
</pre></blockquote>

<p>Si d&rsquo;aventure vous désirez traduire les commentaires et noms de
variable dans le rendu textuel plutôt que dans le fichier source, vous
devrez définir la variable d&rsquo;environnement <code>LYDOC_LOCALEDIR</code> qui
pointera vers un répertoire contenant l&rsquo;arborescence des catalogues de
messages &ndash; fichiers d&rsquo;extension <code>.mo</code> &ndash; du domaine
<code>lilypond-doc</code>.
</p>
</dd>
<dt> <code>addversion</code></dt>
<dd><p>Cette option, effective uniquement avec Texinfo, permet d&rsquo;ajouter une
ligne <code>\version @w{&quot;@version{}&quot;}</code> au <code>verbatim</code>.
</p>
</dd>
<dt> <code>texidoc</code></dt>
<dd><p>Option disponible uniquement avec Texinfo.<br>
Dès lors qu&rsquo;un fichier &lsquo;<tt>toto.ly</tt>&rsquo; contient dans sa section
<code>\header</code> un champ <code>texidoc</code>, l&rsquo;appel de <code>lilypond</code>
avec l&rsquo;option &lsquo;<samp>--header=texidoc</samp>&rsquo; créera le fichier
&lsquo;<tt>toto.texidoc</tt>&rsquo;.  Par ailleurs, c&rsquo;est le contenu de ce
&lsquo;<tt>toto.texidoc</tt>&rsquo; qui sera ensuite recopié par
<code>lilypond-book</code> en préambule de l&rsquo;extrait de partition &ndash; soit
avant l&rsquo;environnement <code>example</code> créé par un <code>quote</code>.
</p>
<p>Prenons par exemple le fichier &lsquo;<tt>toto.ly</tt>&rsquo; dont le contenu est
</p>
<blockquote><pre class="example">\header {
  texidoc = &quot;This file demonstrates a single note.&quot;
}
{ c'4 }
</pre></blockquote>

<p>et quelque part dans notre document Texinfo &lsquo;<tt>test.texinfo</tt>&rsquo;
</p>
<blockquote><pre class="example">@lilypondfile[texidoc]{toto.ly}
</pre></blockquote>

<p>La ligne de commande suivante produira le résultat escompté.
</p>
<blockquote><pre class="example">lilypond-book --pdf --process=&quot;lilypond \
  -dbackend=eps --header=texidoc&quot; test.texinfo
</pre></blockquote>

<p>La plupart des fichiers de test contenus dans le répertoire &lsquo;<tt>input</tt>&rsquo;
de la distribution est constituée de la sorte.
</p>
<p>Cette option est fort utile dans le cadre de l&rsquo;adaptation en langue
étrangère.  En effet, s&rsquo;il est spécifié dans le document Texinfo une
clause <code>@documentlanguage <var>LANGUE</var></code>, la présence d&rsquo;une
variable <code>texidoc<var>LANGUE</var></code> dans l&rsquo;entête du fichier
&lsquo;<tt>toto.ly</tt>&rsquo; entraînera la reproduction &ndash; par l&rsquo;appel
<code>lilypond</code> &lsquo;<samp>--header=texidoc<var>LANGUE</var></samp>&rsquo; &ndash; du
contenu de &lsquo;<tt>toto.texidoc<var>LANGUE</var></tt>&rsquo; en lieu et place de celui de
&lsquo;<tt>toto.texidoc</tt>&rsquo;.
</p>
</dd>
<dt> <code>doctitle</code></dt>
<dd><p>Option disponible uniquement avec Texinfo.<br>
Cette option fonctionne selon le même principe que l&rsquo;option
<code>texidoc</code> : lorsqu&rsquo;un fichier &lsquo;<tt>toto.ly</tt>&rsquo; contient dans
son <code>\header</code> une variable <code>doctitle</code> et que <code>lilypond</code>
est appelé avec l&rsquo;option <code>doctitle</code>, le contenu de cette variable
&ndash; une simple ligne de <var>texte</var> &ndash; sera recopié dans un fichier
&lsquo;<tt>toto.doctitle</tt>&rsquo; puis inséré dans le document Texinfo sous la
forme <code>@lydoctitle <var>texte</var></code>.  <code>@lydoctitle</code> doit
faire l&rsquo;objet d&rsquo;une macro, définie dans le document Texinfo.
</p>
<p>Il en va de l&rsquo;option <code>doctitle</code> comme de l&rsquo;option <code>texidoc</code> en
matière d&rsquo;adaptation en langue étrangère.
</p>
</dd>
<dt> <code>nogettext</code></dt>
<dd><p>Option disponible uniquement pour Texinfo.<br>
Commentaires et noms de variable ne seront pas traduits dans la recopie
textuelle du code.
</p>
</dd>
<dt> <code>printfilename</code></dt>
<dd><p>Lorsqu&rsquo;un fichier source LilyPond est inclus à l&rsquo;aide de
<code>\lilypondfile</code>, le nom du fichier sera reproduit juste au dessus
de l&rsquo;extrait.  Si le résultat est un fichier HTML, il s&rsquo;agira alors d&rsquo;un
lien.  Seul le nom du fichier est imprimé ; autrement dit, le
chemin d&rsquo;accès au fichier est tronqué.
</p>
</dd>
</dl>


<hr size="6">
<a name="Utilisation-de-lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-fragment-options" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Options applicables aux fragments de musique&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#filename-extensions" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Extensions de nom de fichier &gt; </a>]</td></tr></table>
<a name="invoking-lilypond_002dbook"></a>
<h2 class="section">3.4 Utilisation de <code>lilypond-book</code></h2>

<p><code>lilypond-book</code> produit un fichier qui aura, selon le format de
sortie spécifié, l&rsquo;extension &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo;, &lsquo;<tt>.html</tt>&rsquo; ou
&lsquo;<tt>.xml</tt>&rsquo;.  Les fichiers &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo; et &lsquo;<tt>.xml</tt>&rsquo;
nécessitent un traitement complémentaire.
</p>

<a name="Instructions-specifiques-a-certains-formats"></a>
<h3 class="subheading">Instructions spécifiques à certains formats</h3>


<a name="LaTeX-3"></a>
<h4 class="subsubheading">LaTeX</h4>

<p>Un document LaTeX destiné à l&rsquo;impression ou à la publication peut se
traiter de deux manières différentes :  générer directement un PDF
à l&rsquo;aide de PDFLaTeX, ou bien générer un fichier avec LaTeX
qui sera ensuite passé à un traducteur DVI-PostScript comme
<code>dvips</code>.  La première façon est de loin la plus simple et c&rsquo;est
celle que nous vous recommandons<sup><a name="DOCF4" href="#FOOT4">4</a></sup> ; quelque soit
votre préférence, sachez que vous pouvez aller du PostScript au PDF avec
des outils tels que <code>ps2pdf</code> et <code>pdf2ps</code> &ndash; tous deux
inclus dans la distribution de Ghostscript.
</p>
<p>La production d&rsquo;un PDF avec PDFLaTeX se fait en lançant les commandes
</p>
<blockquote><pre class="example">lilypond-book --pdf monfichier.lytex
pdflatex monfichier.tex
</pre></blockquote>

<a name="index-type1_002c-polices"></a>
<a name="index-dvips"></a>
<a name="index-utilisation-de-dvips"></a>

<p>La séquence LaTeX/<code>dvips</code>/<code>ps2pdf</code> suivante permet de
produire un PDF :
</p>
<blockquote><pre class="example">lilypond-book monfichier.lytex
latex monfichier.tex
dvips -Ppdf monfichier.dvi
ps2pdf monfichier.ps
</pre></blockquote>

<p>Le fichier &lsquo;<tt>.dvi</tt>&rsquo; généré lors de ce traitement ne contient aucune
tête de note, ce qui est tout à fait normal ; elles seront incluses
lors de la génération du &lsquo;<tt>.ps</tt>&rsquo; puis dans le &lsquo;<tt>.pdf</tt>&rsquo;.
</p>
<p>La commande <code>dvips</code> peut déclencher certains messages concernant
des fontes, que vous pouvez ignorer sans scrupule.<br>
Si vous utilisez <code>latex</code> en mode colonnage, n&rsquo;oubliez pas
d&rsquo;ajouter &lsquo;<samp>-t landscape</samp>&rsquo; aux options de <code>dvips</code>.
</p>
<p>Les environnements tels que
</p>
<blockquote><pre class="example">\begin{lilypond} &hellip; \end{lilypond}
</pre></blockquote>

<p>ne sont pas interprétés par LaTeX.  En fait, <code>lilypond-book</code>
extrait ces « environnements » dans des fichiers accessoires et les
traite par LilyPond.  Il récupère ensuite les graphiques résultants et
crée un fichier &lsquo;<tt>.tex</tt>&rsquo; dans lequel les macros
<code>\begin{lilypond}</code>&hellip;<code>\end{lilypond}</code> sont alors
remplacées par des commandes « d&rsquo;inclusion de graphique ».  C&rsquo;est
seulement à ce moment là que LaTeX est lancé &ndash; bien que LaTeX
aura préalablement tourné, cela aura été en fait sur un document
« vide » et pour calculer certains éléments comme <code>\linewidth</code>.
</p>
<a name="Problemes-connus-et-avertissements-5"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>
<p>La commande <code>\pageBreak</code> est inopérante dans un environnement
<code>\begin{lilypond}&hellip;\end{lilypond}</code>.
</p>
<p>Il en va de même pour un certain nombre de variables appartenant au bloc
<code>\paper</code>.  Utilisez, entre autres, un <code>\newcommand</code> avec la
macrocommande <code>\betweenLilyPondSystem</code> dans le préambule.
</p>
<blockquote><pre class="example">\newcommand{\betweenLilyPondSystem}[1]{\vspace{36mm}\linebreak}
</pre></blockquote>


<a name="Texinfo-3"></a>
<h4 class="subsubheading">Texinfo</h4>

<p>La génération d&rsquo;un document Texinfo &ndash; quel que soit le format final &ndash;
s&rsquo;obtient grâce aux commandes Texinfo habituelles, c&rsquo;est à dire
<code>texi2pdf</code>, <code>texi2dvi</code> ou <code>makeinfo</code> selon le
résultat que vous désirez obtenir.
Pour plus de détails, consultez la documentation de Texinfo.
</p>

<a name="Options-en-ligne-de-commande"></a>
<h3 class="subheading">Options en ligne de commande</h3>

<p><code>lilypond-book</code> accepte les options suivantes :
</p>
<dl compact="compact">
<dt> <code>-f <var>format</var></code></dt>
<dt> <code>--format=<var>format</var></code></dt>
<dd><p>Spécifie le type de document à traiter : <code>html</code>, <code>latex</code>,
<code>texi</code> (valeur par défaut) ou <code>docbook</code>.  Lorsque cette
option n&rsquo;est pas mentionnée, <code>lilypond-book</code> tente de déterminer
automatiquement le format &ndash; voir <a href="#filename-extensions">Extensions de nom de fichier</a>.  À
l&rsquo;heure actuelle, <code>texi</code> est équivalant à <code>texi-html</code>.
</p>

</dd>
<dt> <code>-F <var>filtre</var></code></dt>
<dt> <code>--filter=<var>filtre</var></code></dt>
<dd><p>Passe les extrait au travers de <var>filtre</var> avant de traiter le
fichier.  Cette option permet de, par exemple, appliquer les mises à
jour de LilyPond aux extraits avant de traiter le fichier :
</p>
<blockquote><pre class="example">lilypond-book --filter='convert-ly --from=2.0.0 -' mon-book.tely
</pre></blockquote>

</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Affiche un bref résumé des options.
</p>
</dd>
<dt> <code>-I <var>dir</var></code></dt>
<dt> <code>--include=<var>répertoire</var></code></dt>
<dd><p>Ajoute <var>répertoire</var> au chemin des inclusions.  Si des extraits ont
déjà été compilés dans l&rsquo;un des répertoires inclus,
<code>lilypond-book</code> ne les réécrira pas dans le répertoire de
sortie ; il sera donc nécessaire, dans la suite du traitement par
<code>makeinfo</code> ou <code>latex</code>, de penser à utiliser cette même
option <code>-I <var>répertoire</var></code>.
</p>
</dd>
<dt> <code>-l <var>loglevel</var></code></dt>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>Détermine le degré de verbosité à <var>loglevel</var>. Les différentes
valeurs admises sont <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>,
<code>PROGRESS</code> (par défaut) et <code>DEBUG</code>. Lorsque cette option n&rsquo;est
pas activée, c&rsquo;est le niveau déterminé par la variable d&rsquo;environnement
<code>LILYPOND_BOOK_LOGLEVEL</code> qui sera utilisé.
</p>
</dd>
<dt> <code>-o <var>dir</var></code></dt>
<dt> <code>--output=<var>répertoire</var></code></dt>
<dd><p>Regroupe les fichiers générés dans <var>répertoire</var>.
<code>lilypond-book</code> crée un certain nombre de fichiers à l&rsquo;usage de
LilyPond.  Afin d&rsquo;éviter de polluer votre répertoire source, nous vous
conseillons d&rsquo;utiliser l&rsquo;option &lsquo;<samp>--output</samp>&rsquo;, puis de vous rendre
dans ce répertoire pour y lancer les commandes <code>latex</code> ou
<code>makeinfo</code>.
</p>
<blockquote><pre class="example">lilypond-book --output=out monfichier.lytex
cd out
&hellip;
</pre></blockquote>

</dd>
<dt> <code>--skip-lily-check</code></dt>
<dd><p>Désactive la mise en échec en l&rsquo;absence de sortie de lilypond.<br>
Option utilisée pour la documentation au format Info sans images.
</p>
</dd>
<dt> <code>--skip-png-check</code></dt>
<dd><p>Désactive la mise en échec en l&rsquo;absence d&rsquo;images PNG correspondant aux
fichiers EPS.<br>
Option utilisée pour la documentation au format Info sans images.
</p>
</dd>
<dt> <code>--lily-output-dir=<var>rép</var></code></dt>
<dd><p>Écrit les fichiers lily-XXX dans <var>rép</var> et crée un lien vers le
répertoire spécifié par <code>--output</code>.  Cette option permet
d&rsquo;économiser du temps lors de la génération de documents qui se trouvent
dans différents répertoires et partagent un certain nombre d&rsquo;extraits
identiques.
</p>
</dd>
<dt> <code>--lily-loglevel=<var>loglevel</var></code></dt>
<dd><p>Détermine le degré de verbosité lors des appels à <code>lilypond</code>.
Les valeurs autorisée de <var>loglevel</var> sont : <code>NONE</code>,
<code>ERROR</code>, <code>WARNING</code>, <code>BASIC_PROGRESS</code>, <code>PROGRESS</code>,
<code>INFO</code> (par défaut) et <code>DEBUG</code>.  Lorsque cette option n&rsquo;est
pas activée, c&rsquo;est le niveau déterminé par la variable d&rsquo;environnement
<code>LILYPOND_LOGLEVEL</code> qui sera utilisé.
</p>
</dd>
<dt> <code>--info-images-dir=<var>répertoire</var></code></dt>
<dd><p>Formate la sortie Texinfo de telle sorte que Info cherche les images
de musique dans <var>répertoire</var>.
</p>
</dd>
<dt> <code>--latex-program=<var>programme</var></code></dt>
<dd><p>Utilise l&rsquo;exécutable <code>programme</code> en lieu et place de
<code>latex</code>.  C&rsquo;est l&rsquo;option que vous utiliserez si vous préférez
<code>xelatex</code> par exemple.
</p>
</dd>
<dt> <code>--left-padding=<var>distance</var></code></dt>
<dd><p>Décale les figures EPS de <var>distance</var> &ndash; exprimée en millimètres
(3 par défaut).  Cette option est utile lorsque les lignes de musique
débordent sur la marge droite.
</p>
<p>Rappelez-vous que la largeur d&rsquo;un système dépend des élément contenus
dans sa marge gauche, tels que numéro de mesure et nom d&rsquo;instrument.
Cette option permet de &laquo;&nbsp;raccourcir&nbsp;&raquo; les lignes et de les décaler vers
la droite, de la distance donnée en argument.
</p>
</dd>
<dt> <code>-P <var>commande</var></code></dt>
<dt> <code>--process=<var>commande</var></code></dt>
<dd><p>Traite les extraits LilyPond avec <var>commande</var>.  Par défaut, il s&rsquo;agit
de <code>lilypond</code>.<br>
Rappelez-vous que <code>lilypond-book</code> ne peut en même temps traiter
l&rsquo;option &lsquo;<samp>--filter</samp>&rsquo; et l&rsquo;option &lsquo;<samp>--process</samp>&rsquo;.
</p>
</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Crée des fichiers PDF pour les retraiter avec PDFLaTeX.
</p>
</dd>
<dt> <code>--redirect-lilypond-output</code></dt>
<dd><p>Le résultat des commandes est habituellement affiché dans le terminal.
Cette option permet de rediriger tout le verbiage dans un journal situé
dans le même répertoire que le fichier source.
</p>
</dd>
<dt> <code>--use-source-file-names</code></dt>
<dd><p>Cette option permet d&rsquo;affecter aux fichiers correspondant aux extraits
de musique le même nom que leur source.  Elle n&rsquo;est fonctionnelle que
dans le cas où la partition est incluse à l&rsquo;aide de <code>lilypondfile</code>,
et que les répertoires mentionnés par les options <code>--output-dir</code> et
<code>--lily-output-dir</code> diffèrent.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--verbose</code></dt>
<dd><p><code>lilypond-book</code> sait être volubile !  Cette option est
équivalente à <code>--loglevel=DEBUG</code>.
</p>
</dd>
<dt> <code>-v</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Affiche le numéro de version.
</p></dd>
</dl>


<a name="Problemes-connus-et-avertissements-1"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>

<p><code>lilypond-book</code> ne sait pas interpréter la commande Texinfo
<code>@pagesize</code>.  Dans le même ordre d&rsquo;idée, des commandes LaTeX
modifiant les marges et longueur de ligne mentionnées après le préambule
seront ignorées.
</p>
<p>Lorsqu&rsquo;une section LilyPond contient plusieurs <code>\score</code>, seul le
premier sera traité.
</p>

<hr size="6">
<a name="Extensions-de-nom-de-fichier"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond_002dbook" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation de lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Modèles pour lilypond-book &gt; </a>]</td></tr></table>
<a name="filename-extensions"></a>
<h2 class="section">3.5 Extensions de nom de fichier</h2>

<p>Vous pouvez affecter à votre fichier source n&rsquo;importe quelle extension.
Nous vous recommandons cependant un certain nombre d&rsquo;extensions selon le
format de sortie désiré &ndash; voir <a href="#invoking-lilypond_002dbook">Utilisation de <code>lilypond-book</code></a>.  Une
extension hors du commun vous obligera à spécifier le format de sortie,
alors que <code>lilpond-book</code> est en mesure de déterminer le format de
sortie en fonction de l&rsquo;extension du fichier source.
</p>
<blockquote><table>
<tr><td width="20%"><p> <strong>extension</strong> </p></td><td width="50%"><p> <strong>format résultant</strong>
</p></td></tr>
<tr><td width="20%"></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.html</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.htmly</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.itely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.latex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lytex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lyxml</tt>&rsquo; </p></td><td width="50%"><p> DocBook
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texi</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texinfo</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.xml</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
</table>
</blockquote>

<p>Lorsque le fichier source a la même extension que celle que
<code>lilypond-book</code> affectera au fichier résultant et que vous
lancez <code>lilypond-book</code> à partir du répertoire le contenant, vous
verrez assurément un message du type &laquo;&nbsp;La sortie va écraser le fichier
d&rsquo;entrée&nbsp;&raquo;.  Aussi ne saurions-nous trop vous conseiller d&rsquo;utiliser
l&rsquo;option &lsquo;<samp>--output</samp>&rsquo;.
</p>

<hr size="6">
<a name="Mod_00e8les-pour-lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#filename-extensions" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Extensions de nom de fichier&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook-templates"></a>
<h2 class="section">3.6 Modèles pour lilypond-book</h2>

<p>Voici quelques canevas dédiés à <code>lilypond-book</code>.  Si vous ne savez
pas de quoi il retourne, lisez le chapitre <a href="#lilypond_002dbook">Association musique-texte avec <code>lilypond-book</code></a>.
</p>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Modèles pour lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Modèles pour lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.1 LaTeX</h3>

<p>Vous pouvez inclure des partitions LilyPond dans un document LaTeX.
</p>
<blockquote><pre class="example">\documentclass[]{article}

\begin{document}

Des bananes alitées sur du LaTeX.

\begin{lilypond}
\relative {
  a'4 b c d
}
\end{lilypond}

Encore des banalités LaTeX, puis quelques options entre crochets.

\begin{lilypond}[fragment,relative=2,quote,staffsize=26,verbatim]
d4 c b a
\end{lilypond}
\end{document}
</pre></blockquote>


<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Modèles pour lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.2 Texinfo</h3>

<p>Un document Texinfo est tout à fait capable de comporter des fragments
de partition LilyPond.  Si vous ne le savez pas encore, sachez que
l&rsquo;intégralité de ce manuel est rédigée en Texinfo.
</p>
<blockquote><pre class="example">\input texinfo @node Top
@top

Du verbiage à la mode Texinfo

@lilypond
\relative {
  a4 b c d
}
@end lilypond

Toujours plus de texte Texinfo, puis des options entre crochets.

@lilypond[verbatim,fragment,ragged-right]
d4 c b a
@end lilypond

@bye
</pre></blockquote>


<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Modèles pour lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.3 html</h3>

<blockquote><pre class="example">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;!-- header_tag --&gt;
&lt;HTML&gt;
&lt;body&gt;

&lt;p&gt;
Un document pour lilypond-book peut absolument mélanger musique et
texte.  Par exemple,
&lt;lilypond&gt;
\relative {
  a'4 b c d
}
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;p&gt;
Pourquoi pas un peu plus de lilypond, avec des options pour changer :

&lt;lilypond fragment quote staffsize=26 verbatim&gt;
a4 b c d
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;


</pre></blockquote>


<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Modèles pour lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#sharing-the-table-of-contents" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Gestion de la table des matières &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.4 xelatex</h3>

<pre class="verbatim">\documentclass{article}
\usepackage{ifxetex}
\ifxetex
%pour ce qui est de xetex
\usepackage{xunicode,fontspec,xltxtra}
\setmainfont[Numbers=OldStyle]{Times New Roman}
\setsansfont{Arial}
\else
%inutile en l'absence de pdftex
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{mathptmx}%Times
\usepackage{helvet}%Helvetica
\fi
%ici les paquetages que pdftex sait interpréter
\usepackage[ngerman,finnish,english]{babel}
\usepackage{graphicx}

\begin{document}
\title{Un petit document avec LilyPond et xelatex}
\maketitle

Les commandes habituelles de \textbf{fontes} sont fonctionnelles y
compris au fil du texte, étant donné qu'\textsf{elles sont prises en
charge par \LaTeX{} and XeteX.} Lorsque vous avez besoin de commandes
particulières du style \verb+\XeTeX+, pensez à les inclure dans un
environnement \verb+\ifxetex+. Vous pourrez ainsi utiliser la \ifxetex
commande \XeTeX{} \else commande XeTeX \fi qui, elle, n'est pas reconnue
par le \LaTeX traditionnel.

Vous pouvez inclure des commandes LilyPond directement dans votre texte,
comme ici~:

\begin{lilypond}
{a2 b c'8 c' c' c'}
\end{lilypond}

\noindent
puis reprendre le fil de votre discours.

Les fontes utilisées dans les extraits LilyPond  devront être définies
au sein de l'extrait. Lisez le manuel d'utilisation si vous ne
maîtrisez pas lilypond-book.

\selectlanguage{ngerman}
Auch Umlaute funktionieren ohne die \LaTeX -Befehle, wie auch alle anderen
seltsamen Zeichen: ß, æ, ł, ã, č, wenn sie von der Schriftart unterstützt
werden.

\end{document}
</pre>

<hr size="6">
<a name="Gestion-de-la-table-des-mati_00e8res"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#alternate-methods-of-mixing-text-and-music" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Autres méthodes d'association texte-musique &gt; </a>]</td></tr></table>
<a name="sharing-the-table-of-contents"></a>
<h2 class="section">3.7 Gestion de la table des matières</h2>

<p>Les fonctions ici mentionnées sont incluses dans le paquetage
OrchestralLily, disponible sur
</p>
<blockquote><pre class="example"><a href="http://repo.or.cz/w/orchestrallily.git">http://repo.or.cz/w/orchestrallily.git</a>
</pre></blockquote>

<p>Certains utilisateurs privilégient la flexibilité dans la gestion du
texte ; ils génèrent la table des matières à partir de LilyPond et
la récupèrent dans LaTeX.
</p>

<a name="Export-de-la-table-a-partir-de-LilyPond"></a>
<h4 class="subsubheading">Export de la table à partir de LilyPond</h4>

<p>Nous partons du principe que LilyPond a généré un seul fichier
comportant tous les mouvement de la partition.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#(define (oly:create-toc-file layout pages)
  (let* ((label-table (ly:output-def-lookup layout 'label-page-table)))
    (if (not (null? label-table))
      (let* ((format-line (lambda (toc-item)
             (let* ((label (car toc-item))
                    (text  (caddr toc-item))
                    (label-page (and (list? label-table)
                                     (assoc label label-table)))
                    (page (and label-page (cdr label-page))))
               (format #f &quot;~a, section, 1, {~a}, ~a&quot; page text label))))
             (formatted-toc-items (map format-line (toc-items)))
             (whole-string (string-join formatted-toc-items &quot;,\n&quot;))
             (output-name (ly:parser-output-name))
             (outfilename (format &quot;~a.toc&quot; output-name))
             (outfile (open-output-file outfilename)))
        (if (output-port? outfile)
            (display whole-string outfile)
            (ly:warning (_ &quot;Impossible d'ouvrir le fichier ~a contenant les informations de TdM&quot;) outfilename))
        (close-output-port outfile)))))

\paper {
  #(define (page-post-process layout pages) (oly:create-toc-file layout pages))
}
</pre></td></tr></table>


<a name="Import-de-la-table-dans-LaTeX"></a>
<h4 class="subsubheading">Import de la table dans LaTeX</h4>

<p>L&rsquo;entête de votre fichier LaTeX doit comporter les lignes
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">\usepackage{pdfpages}
\includescore{nomdelapartition}
</pre></td></tr></table>

<p>où <code>\includescore</code> est défini ainsi :
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \includescore{PossibleExtension}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Read in the TOC entries for a PDF file from the corresponding .toc file.
% This requires some heave latex tweaking, since reading in things from a file
% and inserting it into the arguments of a macro is not (easily) possible

% Solution by Patrick Fimml on #latex on April 18, 2009:
% \readfile{filename}{\variable}
% reads in the contents of the file into \variable (undefined if file
% doesn't exist)
\newread\readfile@f
\def\readfile@line#1{%
{\catcode`\^^M=10\global\read\readfile@f to \readfile@tmp}%
\edef\do{\noexpand\g@addto@macro{\noexpand#1}{\readfile@tmp}}\do%
\ifeof\readfile@f\else%
\readfile@line{#1}%
\fi%
}
\def\readfile#1#2{%
\openin\readfile@f=#1 %
\ifeof\readfile@f%
\typeout{No TOC file #1 available!}%
\else%
\gdef#2{}%
\readfile@line{#2}%
\fi
\closein\readfile@f%
}%


\newcommand{\includescore}[1]{
\def\oly@fname{\oly@basename\@ifmtarg{#1}{}{_#1}}
\let\oly@addtotoc\undefined
\readfile{\oly@xxxxxxxxx}{\oly@addtotoc}
\ifx\oly@addtotoc\undefined
\includepdf[pages=-]{\oly@fname}
\else
\edef\includeit{\noexpand\includepdf[pages=-,addtotoc={\oly@addtotoc}]
{\oly@fname}}\includeit
\fi
}
</pre></td></tr></table>


<hr size="6">
<a name="Autres-m_00e9thodes-d_0027association-texte_002dmusique"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Chapitre suivant">&nbsp;Programmes externes &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#sharing-the-table-of-contents" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Gestion de la table des matières&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#external-programs" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Programmes externes &gt; </a>]</td></tr></table>
<a name="alternate-methods-of-mixing-text-and-music"></a>
<h2 class="section">3.8 Autres méthodes d&rsquo;association texte-musique</h2>

<p>D&rsquo;autres moyens de mélanger musique et texte sans recourir à
<code>lilypond-book</code> sont abordés au chapitre
<a href="#lilypond-output-in-other-programs">Inclusion de partition LilyPond dans d&rsquo;autres programmes</a>.
</p>



<hr size="6">
<a name="Programmes-externes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#alternate-methods-of-mixing-text-and-music" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Autres méthodes d'association texte-musique&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Pointer-cliquer &gt; </a>]</td></tr></table>
<a name="external-programs"></a>
<h1 class="chapter">4. Programmes externes</h1>

<p>LilyPond peut interagir avec d&rsquo;autres programmes, selon différentes
manières.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#point-and-click" accesskey="1">4.1 Pointer-cliquer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#text-editor-support" accesskey="2">4.2 LilyPond et les éditeurs de texte</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#converting-from-other-formats" accesskey="3">4.3 Conversion à partir d&rsquo;autres formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-output-in-other-programs" accesskey="4">4.4 Inclusion de partition LilyPond dans d&rsquo;autres programmes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#independent-includes" accesskey="5">4.5 Inclusion du travail des autres</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Pointer_002dcliquer"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#external-programs" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Programmes externes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#configuring-the-system-for-point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Configuration du système pour le pointer-cliquer &gt; </a>]</td></tr></table>
<a name="point-and-click"></a>
<h2 class="section">4.1 Pointer-cliquer</h2>

<a name="index-pointer_002dcliquer"></a>
<a name="index-point-and-click"></a>

<p>Le pointer-cliquer (<em>point and click</em>) permet de se retrouver
directement dans le fichier source, à la note que l&rsquo;on pointe dans le
visionneur de PDF.  Ceci facilite grandement le repérage des erreurs à
partir du fichier imprimable.
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#configuring-the-system-for-point-and-click" accesskey="1">4.1.1 Configuration du système</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#enabling-point-and-click" accesskey="2">Activation du pointer-cliquer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#selective-point_002dand_002dclick" accesskey="3">Pointer-cliquer sélectif</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Configuration-du-syst_00e8me-pour-le-pointer_002dcliquer"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-xpdf-for-point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation du pointer-cliquer avec Xpdf &gt; </a>]</td></tr></table>
<a name="configuring-the-system-for-point-and-click"></a>
<h3 class="subsection">4.1.1 Configuration du système</h3>

<p>Lorsque cette fonctionnalité est active, LilyPond ajoute des hyperliens
au fichier PDF ou SVG.  Ces liens sont transmis à un « URI helper » ou
au navigateur internet, qui se charge d&rsquo;ouvrir un éditeur de texte à
l&rsquo;endroit même où le curseur pointe.
</p>
<p>Afin que cette chaîne de traitement soit pleinement opérationnelle, il
faut configurer votre visionneur de PDF de façon à ce qu&rsquo;il suive les
liens grâce au script &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; fourni avec
LilyPond.
</p>
<p>&lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; est un petit programme assistant.  Il
se charge d&rsquo;appeler un éditeur pour les identifiants de ressource
(<em>URI</em>) de type <code>textedit</code>, et un navigateur pour les autres.
Il teste en outre la variable d&rsquo;environnement <code>EDITOR</code> pour les cas
suivant :
</p>
<dl compact="compact">
<dt> <code>emacs</code></dt>
<dd><p>  sera alors lancée la commande
</p><blockquote><pre class="example">emacsclient --no-wait +<var>line</var>:<var>column</var> <var>file</var>
</pre></blockquote>

</dd>
<dt> <code>gvim</code></dt>
<dd><p>  sera alors lancée la commande
</p><blockquote><pre class="example">gvim --remote +:<var>line</var>:norm<var>column</var> <var>file</var>
</pre></blockquote>

</dd>
<dt> <code>nedit</code></dt>
<dd><p>  sera alors lancée la commande
</p><blockquote><pre class="example">  nc -noask +<var>line</var> <var>file</var>'
</pre></blockquote>
</dd>
</dl>

<p>La variable d&rsquo;environnement <code>LYEDITOR</code> permet d&rsquo;anticiper cette
affectation, puisqu&rsquo;elle contient la commande qui permet de lancer
l&rsquo;éditeur en tenant compte des valeurs respectives de <code>%(file)s</code>,
<code>%(column)s</code> et<code>%(line)s</code>.  Par exemple,
</p>
<blockquote><pre class="example">emacsclient --no-wait +%(line)s:%(column)s %(file)s
</pre></blockquote>

<p>en variable d&rsquo;environnement <code>LYEDITOR</code> revient au lancement d&rsquo;un
client emacs standard.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#using-xpdf-for-point-and-click" accesskey="1">Utilisation avec Xpdf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#using-gnome-2-for-point-and-click" accesskey="2">Utilisation avec GNOME 2</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#using-gnome-3-for-point-and-click" accesskey="3">Utilisation avec GNOME 3</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#extra-configuration-for-evince" accesskey="4">Configuration spécifique à Evince</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Utilisation-du-pointer_002dcliquer-avec-Xpdf"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#configuring-the-system-for-point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Configuration du système pour le pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Configuration du système pour le pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-gnome-2-for-point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation du pointer-cliquer avec GNOME 2 &gt; </a>]</td></tr></table>
<a name="using-xpdf-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Utilisation avec Xpdf</h4>

<a name="index-Xpdf"></a>

<p>Pour Xpdf, sous UNIX, vous devrez insérer la ligne suivante dans
le fichier &lsquo;<tt>xpdfrc</tt>&rsquo; &ndash; soit &lsquo;<tt>/etc/xpdfrc</tt>&rsquo;, soit dans votre
répertoire personnel &lsquo;<tt>$HOME/.xpdfrc</tt>&rsquo;.
</p>
<blockquote><pre class="example">urlCommand     &quot;lilypond-invoke-editor %s&quot;
</pre></blockquote>

<p>Dans un environnement Ubuntu, il est fort probable que la version de
Xpdf installée avec le système plante à l&rsquo;ouverture de tout fichier PDF
&ndash; c&rsquo;est un problème connu et persistant depuis plusieurs années et dû à
des incohérences de bibliothèques.  La solution consiste alors à
installer une version à jour des paquetages &lsquo;<samp>xpdf</samp>&rsquo; et
&lsquo;<samp>libpoppler</samp>&rsquo; directement à partir de Debian.  Une fois assuré que
tout fonctionne correctement, la commande
</p>
<blockquote><pre class="example">sudo apt-mark hold xpdf
</pre></blockquote>

<p>permet d&rsquo;empêcher Ubuntu de le remplacer par un paquetage défectueux à
la prochaine « mise à jour ».
</p>

<hr size="6">
<a name="Utilisation-du-pointer_002dcliquer-avec-GNOME-2"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-xpdf-for-point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation du pointer-cliquer avec Xpdf&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Configuration du système pour le pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-gnome-3-for-point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation du pointer-cliquer avec GNOME 3 &gt; </a>]</td></tr></table>
<a name="using-gnome-2-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Utilisation avec GNOME 2</h4>

<p>En ce qui concerne l&rsquo;environnement GNOME 2 et les lecteur de PDF
associés, la succession de commandes suivante permet de régler le
système pour la gestion des URI par &lsquo;<samp>textedit:</samp>&rsquo;
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gconftool-2 -t string -s /desktop/gnome/url-handlers/textedit/command &quot;lilypond-invoke-editor %s&quot;
gconftool-2 -s /desktop/gnome/url-handlers/textedit/needs_terminal false -t bool
gconftool-2 -t bool -s /desktop/gnome/url-handlers/textedit/enabled true
</pre></td></tr></table>

<p>Après ces invocations,
</p><blockquote><pre class="example">gnome-open textedit:///etc/issue:1:0:0
</pre></blockquote>

<p>devrait appeler &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; pour ouvrir les fichiers.
</p>

<hr size="6">
<a name="Utilisation-du-pointer_002dcliquer-avec-GNOME-3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-gnome-2-for-point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation du pointer-cliquer avec GNOME 2&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Configuration du système pour le pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#extra-configuration-for-evince" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Configuration spécifique à Evince &gt; </a>]</td></tr></table>
<a name="using-gnome-3-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Utilisation avec GNOME 3</h4>

<p>En ce qui concerne l&rsquo;environnement GNOME 3, les URI sont gérés par la
surcouche « gvfs » au lieu de « gconf ».  Il faut donc créer un fichier
dans un répertoire local tel que &lsquo;<tt>/tmp</tt>&rsquo;, que l&rsquo;on appelera
&lsquo;<tt>lilypond-invoke-editor.desktop</tt>&rsquo;. Il devra avoir le contenu
suivant :
</p>
<blockquote><pre class="example">[Desktop Entry]
Version=1.0
Name=lilypond-invoke-editor
GenericName=Textedit URI handler
Comment=URI handler for textedit:
Exec=lilypond-invoke-editor %u
Terminal=false
Type=Application
MimeType=x-scheme-handler/textedit;
Categories=Editor
NoDisplay=true
</pre></blockquote>

<p>puis exécuter les commandes
</p><blockquote><pre class="example">xdg-desktop-menu install ./lilypond-invoke-editor.desktop
xdg-mime default lilypond-invoke-editor.desktop x-scheme-handler/textedit
</pre></blockquote>

<p>Après cette invocation,
</p><blockquote><pre class="example">gnome-open textedit:///etc/issue:1:0:0
</pre></blockquote>

<p>devrait appeler &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; pour ouvrir les fichiers.
</p>

<hr size="6">
<a name="Configuration-sp_00e9cifique-_00e0-Evince"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-gnome-3-for-point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation du pointer-cliquer avec GNOME 3&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Configuration du système pour le pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#enabling-point-and-click" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Activation du pointer-cliquer &gt; </a>]</td></tr></table>
<a name="extra-configuration-for-evince"></a>
<h4 class="unnumberedsubsubsec">Configuration spécifique à Evince</h4>

<a name="index-Evince"></a>

<p>Il se peut que, bien que <code>gnome-open</code> soit fonctionnel, Evince
refuse d&rsquo;ouvir les liens pointer-cliquer pour des raisons
d&rsquo;autorisation.  S&rsquo;impose alors une modification du profil
<code>Apparmor</code> d&rsquo;Evince ; c&rsquo;est lui qui contrôle le type d&rsquo;action
qu&rsquo;Evince est autorisé à réaliser.
</p>
<p>Sur une distribution Ubuntu, cela consiste à éditer le fichier
&lsquo;<tt>/etc/apparmor.d/local/usr.bin.evince</tt>&rsquo; et lui ajouter les lignes
suivantes :
</p>
<blockquote><pre class="example"># Pour les liens Textedit
/usr/local/bin/lilypond-invoke-editor Cx -&gt; sanitized_helper,
</pre></blockquote>

<p>puis lancer la commande
</p>
<blockquote><pre class="example">sudo apparmor_parser -r -T -W /etc/apparmor.d/usr.bin.evince
</pre></blockquote>

<p>Evince devrait alors être en mesure d&rsquo;ouvrir les liens pointer-cliquer.
Une telle configuration devrait être fonctionnelle pour d&rsquo;autres
visionneurs.
</p>

<hr size="6">
<a name="Activation-du-pointer_002dcliquer"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#extra-configuration-for-evince" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Configuration spécifique à Evince&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#selective-point_002dand_002dclick" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Pointer-cliquer sélectif &gt; </a>]</td></tr></table>
<a name="enabling-point-and-click"></a>
<h3 class="unnumberedsubsec">Activation du pointer-cliquer</h3>

<a name="index-ficher-de-sortie_002c-taille"></a>
<a name="index-taille-du-ficher-de-sortie"></a>

<p>La fonctionnalité de « pointer-cliquer » est activée par défaut pour ce
qui est des fichiers PDF et SVG.
</p>
<p>L&rsquo;option pointer-cliquer accroît la taille des fichiers de manière
significative.  Afin de réduire la taille de ces fichiers (ainsi que du
PS), il est toujours possible de désactiver le pointer-cliquer en
ajoutant
</p>
<blockquote><pre class="example">\pointAndClickOff
</pre></blockquote>

<p>dans le fichier &lsquo;<tt>.ly</tt>&rsquo;.  Il peut alors être activé de manière
explicite grâce à
</p>
<blockquote><pre class="example">\pointAndClickOn
</pre></blockquote>

<p>Le pointer-cliquer peut aussi être désactivé au moment de la compilation
en ligne de commande :
</p>
<blockquote><pre class="example">lilypond -dno-point-and-click file.ly
</pre></blockquote>

<div class="warning"><p><strong>Note :</strong> Lorsqu&rsquo;un fichier LilyPond est destiné à être redistribué,
pensez à désactiver le pointer-cliquer, de telle sorte que les chemins
d&rsquo;accès et autres informations propres à votre système ne se retrouvent
pas inclus dans le fichier PDF.
</p>
</div>

<hr size="6">
<a name="Pointer_002dcliquer-s_00e9lectif"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#enabling-point-and-click" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Activation du pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Pointer-cliquer&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#text-editor-support" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;LilyPond et les éditeurs de texte &gt; </a>]</td></tr></table>
<a name="selective-point_002dand_002dclick"></a>
<h3 class="unnumberedsubsec">Pointer-cliquer sélectif</h3>

<p>Pour certaines applications interactives, il est parfois préférable de
limiter la fonctionnalité du pointer-cliquer à quelques éléments
seulement.  Par exemple, si vous avez l&rsquo;intention de créer une
application lançant l&rsquo;audio et la vidéo à partir d&rsquo;une note en
particulier, il serait mal venu qu&rsquo;un clic sur la note vous amène à
l&rsquo;altération ou une liaison qui l&rsquo;affecterait.
</p>
<p>Les événements générateurs de lien peuvent se gérer :
</p>
<ul>
<li>
En dur dans votre fichier &lsquo;<tt>.ly</tt>&rsquo; :

<blockquote><pre class="example">\pointAndClickTypes #'note-event
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>ou
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click 'note-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
En ligne de commande :

<blockquote><pre class="example">lilypond -dpoint-and-click=note-event exemple.ly
</pre></blockquote>

</li></ul>

<p>Plusieurs types d&rsquo;événement peuvent être mentionnés :
</p>
<ul>
<li>
En dur dans votre fichier &lsquo;<tt>.ly</tt>&rsquo; :

<blockquote><pre class="example">\pointAndClickTypes #'(note-event dynamic-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>ou
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click '(note-event dynamic-event))
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
En ligne de commande :

<table><tr><td>&nbsp;</td><td><pre class="smallexample">lilypond \
  -e&quot;(ly:set-option 'point-and-click '(note-event dynamic-event))&quot; \
  exemple.ly
</pre></td></tr></table>


</li></ul>


<hr size="6">
<a name="LilyPond-et-les-_00e9diteurs-de-texte"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#selective-point_002dand_002dclick" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Pointer-cliquer sélectif&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Programmes externes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#emacs-mode" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Mode Emacs &gt; </a>]</td></tr></table>
<a name="text-editor-support"></a>
<h2 class="section">4.2 LilyPond et les éditeurs de texte</h2>

<a name="index-editeurs"></a>
<a name="index-vim"></a>
<a name="index-emacs"></a>
<a name="index-modes_002c-editeur"></a>
<a name="index-syntaxe_002c-coloration"></a>
<a name="index-coloration-syntaxique"></a>

<p>Certains éditeurs de texte prennent en charge LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#emacs-mode" accesskey="1">Mode Emacs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#vim-mode" accesskey="2">Mode Vim</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#other-editors" accesskey="3">Autres éditeurs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Mode-Emacs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#text-editor-support" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; LilyPond et les éditeurs de texte&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;LilyPond et les éditeurs de texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#vim-mode" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Mode Vim &gt; </a>]</td></tr></table>
<a name="emacs-mode"></a>
<h3 class="unnumberedsubsec">Mode Emacs</h3>

<p>Emacs dispose d&rsquo;un &lsquo;<tt>lilypond-mode</tt>&rsquo; qui fournit l&rsquo;autocomplétion
des mots-clés, l&rsquo;indentation, les appariements spécifiques à LilyPond,
la coloration syntaxique, ainsi que des raccourcis pour compiler et
consulter les manuels de LilyPond en mode info.  Si le
&lsquo;<tt>lilypond-mode</tt>&rsquo; n&rsquo;était pas installé sur votre système, procédez
comme ci-dessous.
</p>
<p>Le répertoire &lsquo;<tt>elisp</tt>&rsquo; inclus dans les sources contient aussi un
mode pour saisir la musique et lancer LilyPond.  Faites
<code>make install</code> pour l&rsquo;installer dans votre <var>elispdir</var>.  Le
fichier &lsquo;<tt>lilypond-init.el</tt>&rsquo; devrait trouver sa place dans
<var>load-path</var>&lsquo;<tt>/site-start.d/</tt>&rsquo; ou bien ajouté à votre
&lsquo;<tt>~/.emacs</tt>&rsquo; ou &lsquo;<tt>~/.emacs.el</tt>&rsquo;.
</p>
<p>En tant que simple utilisateur, vous pouvez toujours ajouter votre
propre répertoire (par exemple &lsquo;<tt>~/site-lisp/</tt>&rsquo;) à votre
<var>load-path</var> en ajoutant la ligne suivante &ndash; modifiée en conséquence
&ndash; à votre &lsquo;<tt>~/.emacs</tt>&rsquo; :
</p>
<blockquote><pre class="example">(setq load-path (append (list (expand-file-name &quot;~/site-lisp&quot;)) load-path))
</pre></blockquote>


<hr size="6">
<a name="Mode-Vim"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#emacs-mode" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Mode Emacs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;LilyPond et les éditeurs de texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-editors" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Autres éditeurs &gt; </a>]</td></tr></table>
<a name="vim-mode"></a>
<h3 class="unnumberedsubsec">Mode Vim</h3>

<p>En ce qui concerne <a href="http://www.vim.org">Vim</a>, LilyPond fournit
tout le nécessaire pour gérer la coloration syntaxique et l&rsquo;indentation.
Le mode spécifique à Vim doit être indiqué dans le fichier
&lsquo;<tt>$HOME/.vimrc</tt>&rsquo;.  Localisez ce fichier, ou créez-le, et ajoutez-y
les trois lignes suivantes :
</p>
<blockquote><pre class="example">filetype off
set runtimepath+=/usr/local/share/lilypond/current/vim/
filetype on
syntax on
</pre></blockquote>

<p>Si LilyPond est installé dans un autre répertoire que
&lsquo;<tt>/usr/local/</tt>&rsquo;, modifiez ce chemin en conséquence.  Pour de plus
amples détails, consultez <a name="index-Autres-sources-de-documentation"></a>
<a href="learning-big-page.fr.html#other-sources-of-information">Autres sources de documentation</a>.
</p>

<hr size="6">
<a name="Autres-_00e9diteurs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#vim-mode" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Mode Vim&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;LilyPond et les éditeurs de texte&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#converting-from-other-formats" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Conversion à partir d'autres formats &gt; </a>]</td></tr></table>
<a name="other-editors"></a>
<h3 class="unnumberedsubsec">Autres éditeurs</h3>

<p>LilyPond est pris en charge par d&rsquo;autres éditeurs, aussi bien en mode
texte qu&rsquo;avec une interface graphique.  Dans la mesure où leurs fichiers
de configuration ne sont pas fournis avec LilyPond, nous vous invitons à
consulter leur documentation pour plus d&rsquo;information.  Certains de ces
éditeurs sont mentionnés à la page <a name="index-Facilites-d_0027edition"></a>
<a href="web-big-page.fr.html#easier-editing">Facilités d'édition</a>.
</p>

<hr size="6">
<a name="Conversion-_00e0-partir-d_0027autres-formats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-editors" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Autres éditeurs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Programmes externes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-midi2ly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation de midi2ly &gt; </a>]</td></tr></table>
<a name="converting-from-other-formats"></a>
<h2 class="section">4.3 Conversion à partir d&rsquo;autres formats</h2>

<p>La musique peut aussi être récupérée par importation d&rsquo;un autre
format.  Ce chapitre passe en revue les différents outils prévus à cet
effet et inclus dans la distribution.  Il existe d&rsquo;autres outils qui
permettent de générer du code LilyPond, comme par exemple des
séquenceurs en mode graphique ou des convertisseurs XML.  Pour plus
de détails, rendez-vous sur le <a href="http://lilypond.org">site</a>.
</p>
<p>Il s&rsquo;agit de programmes distincts de <code>lilypond</code> qui se lancent
en ligne de commande.  Pour plus de précisions, reportez-vous au
chapitre <a href="#command_002dline-usage">Utilisation en ligne de commande</a>.  Si vous utilisez MacOS
10.3 ou 10.4 et rencontrez quelque problème avec l&rsquo;un de ces scripts,
comme <code>convert-ly</code>, reportez-vous à la page <a name="index-MacOS-X-2"></a>
<a href="web-big-page.fr.html#macos-x">MacOS X</a>.
</p>

<a name="Problemes-connus-et-avertissements-4"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>
<p>Les développeurs ne sont malheureusement pas suffisamment nombreux et
disponibles pour maintenir à jour ces programmes, considérez-les donc
<em>en l&rsquo;état</em>.  Nous acceptons les patches avec plaisir, mais il y a
peu de chance pour que nous soyons en mesure de résoudre les bogues de
ces programmes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-midi2ly" accesskey="1">4.3.1 Utilisation de <code>midi2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      importation de musique au format MIDI.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-musicxml2ly" accesskey="2">4.3.2 Utilisation de <code>musicxml2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  importation de partitions au format MusicXML.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-abc2ly" accesskey="3">4.3.3 Utilisation de <code>abc2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        importation de partitions au format ABC.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-etf2ly" accesskey="4">4.3.4 Utilisation de <code>etf2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        importation de partitions Finale.
</td></tr>
<tr><td align="left" valign="top"><a href="#other-formats" accesskey="5">4.3.5 Autres formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Utilisation-de-midi2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#converting-from-other-formats" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-musicxml2ly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation de musicxml2ly &gt; </a>]</td></tr></table>
<a name="invoking-midi2ly"></a>
<h3 class="subsection">4.3.1 Utilisation de <code>midi2ly</code></h3>

<a name="index-MIDI"></a>

<p><code>midi2ly</code> traduit un fichier MIDI de Type 1 en un fichier
source LilyPond.
</p>
<p>MIDI (Music Instrument Digital Interface) constitue un standard pour
les instruments. Il spécifie le câblage, un protocole série et un
format de fichier.  Le format de fichier MIDI est de ce fait un format
standard pour exporter de la musique à partir d&rsquo;autres programmes, et
cette faculté prend tout son intérêt lorsqu&rsquo;un programme dispose d&rsquo;un
convertisseur capable d&rsquo;importer directement un fichier.
</p>
<p><code>midi2ly</code> convertit les pistes en contextes de portée
(<a name="index-Staff"></a>
<a href="internals-big-page.html#staff">Staff</a>) et les canaux en contextes de voix
(<a name="index-Voice"></a>
<a href="internals-big-page.html#voice">Voice</a>).  Les hauteurs sont rendues en mode relatif, et
les durées spécifiées lorsque nécessaire.
</p>
<p>Vous pouvez enregistrer un fichier MIDI grâce à un clavier
électronique et ensuite le convertir en fichier &lsquo;<tt>.ly</tt>&rsquo;.  Néanmoins
le rythme humain n&rsquo;a pas une précision suffisante pour qu&rsquo;une
conversion MIDI à ly ne se fasse sans surprise.  En le couplant à une
quantisation (options &lsquo;<samp>-s</samp>&rsquo; et &lsquo;<samp>-d</samp>&rsquo;), <code>midi2ly</code>
tente de compenser dans la mesure du possible ces problèmes de
temporisation.  C&rsquo;est la raison pour laquelle le recours à
<code>midi2ly</code> n&rsquo;est pas recommandé pour des fichiers midi générés
manuellement.
</p>
<p>Pour le lancer en ligne de commande, procédez ainsi :
</p>
<blockquote><pre class="example">midi2ly [<var>option</var>]&hellip; <var>fichier-midi</var>
</pre></blockquote>

<p>Notez bien que, par « ligne de commande », nous parlons de la ligne de
commande du système.  Pour plus de précisions, reportez-vous à
<a href="#converting-from-other-formats">Conversion à partir d&rsquo;autres formats</a>.
</p>
<p><code>midi2ly</code> accepte les options suivantes :
</p>
<dl compact="compact">
<dt> <code>-a, --absolute-pitches</code></dt>
<dd><p>Rendu en hauteurs absolues.
</p>
</dd>
<dt> <code>-d, --duration-quant=<var>DUR</var></code></dt>
<dd><p>Quantiser les durées à partir de <var>DUR</var>.
</p>
</dd>
<dt> <code>-e, --explicit-durations</code></dt>
<dd><p>Rendu explicite des durées.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Afficher un résumé des utilisations.
</p>
</dd>
<dt> <code>-k, --key=<var>acc</var>[:<var>minor</var>]</code></dt>
<dd><p>Déterminer la tonalité par défaut.  <em><var>acc</var> &gt; 0</em> fixe le
nombre de dièses, <em><var>acc</var> &lt; 0</em> le nombre de bémols.  Une
tonalité mineure est spécifiée par l&rsquo;emploi de <code>:1</code>.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Générer le résultat dans le fichier <var>file</var>.
</p>
</dd>
<dt> <code>-s, --start-quant=<var>DUR</var></code></dt>
<dd><p>Quantiser le début des notes sur <var>DUR</var>.
</p>
</dd>
<dt> <code>-t, --allow-tuplet=<var>DUR</var>*<var>NUM</var>/<var>DEN</var></code></dt>
<dd><p>Accepter des n-olets de valeur <var>DUR</var>*<var>NUM</var>/<var>DEN</var>.
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Mode verbeux.
</p>
</dd>
<dt> <code>-V, --version</code></dt>
<dd><p>Afficher le numéro de version.
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>Afficher les mentions de garantie et de copyright.
</p>
</dd>
<dt> <code>-x, --text-lyrics</code></dt>
<dd><p>Interpréter le texte comme des paroles.
</p></dd>
</dl>

<a name="Problemes-connus-et-avertissements"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>
<p>Le tuilage en arpège ne sera pas rendu correctement.  La première note
sera lue et les suivantes ignorées.  Affectez-leur une durée unique et
ajoutez une indication de phrasé ou de pédale.
</p>

<hr size="6">
<a name="Utilisation-de-musicxml2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-midi2ly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation de midi2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-abc2ly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation d'abc2ly &gt; </a>]</td></tr></table>
<a name="invoking-musicxml2ly"></a>
<h3 class="subsection">4.3.2 Utilisation de <code>musicxml2ly</code></h3>

<a name="index-MusicXML"></a>

<p><a href="http://www.musicxml.org">MusicXML</a> est un
dialecte XML pour représenter la notation musicale.
</p>
<p><code>musicxml2ly</code> extrait, à partir d&rsquo;un fichier MusicXML, les
notes, articulations, structure de la partition, paroles, etc. et les
écrit dans un fichier &lsquo;<tt>.ly</tt>&rsquo;.  Il se lance ainsi en ligne de
commande :
</p>
<blockquote><pre class="example">musicxml2ly [<var>option</var>]&hellip; <var>fichier-xml</var>
</pre></blockquote>

<p>Notez bien que, par « ligne de commande », nous parlons de la ligne de
commande du système.  Pour plus de précisions, reportez-vous à
<a href="#converting-from-other-formats">Conversion à partir d&rsquo;autres formats</a>.
</p>
<p>Si le nom du fichier est &lsquo;<tt>-</tt>&rsquo;, <code>musicxml2ly</code> lira
directement à partir de la ligne de commande.
</p>
<p><code>musicxml2ly</code> accepte les options suivantes :
</p>
<dl compact="compact">
<dt> <code>-a, --absolute</code></dt>
<dd><p>Rendu en hauteurs absolues.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Afficher un résumé des utilisations.
</p>
</dd>
<dt> <code>-l, --language=LANG</code></dt>
<dd><p>Utiliser une autre définition linguistique (LANG), comme par exemple
<var>deutsch</var> pour des noms de notes en allemand.
</p>
</dd>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>Détermine le degré de verbosité à <var>loglevel</var>.  Les valeurs
autorisées sont <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>,
<code>PROGRESS</code> (par défaut) et <code>DEBUG</code>.
</p>
</dd>
<dt> <code>--lxml</code></dt>
<dd><p>Utiliser le paquetage Python <code>lxml.etree</code>, moins gourmand en
mémoire et temps de calcul, pour effectuer l&rsquo;analyse XML.
</p>
</dd>
<dt> <code>-m, --midi</code></dt>
<dd><p>Ajouter un bloc <code>\midi</code>.
</p>
</dd>
<dt> <code>--nd, --no-articulation-directions</code></dt>
<dd><p>Ne pas convertir la direction (<code>^</code>, <code>_</code> ou <code>-</code>) des
articulations, nuances, etc.
</p>
</dd>
<dt> <code>--no-beaming</code></dt>
<dd><p>Ne pas convertir les informations de ligature ; laisser LilyPond
gérer les ligatures automatiquement.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Générer le résultat dans le fichier <var>fichier</var>.  S&rsquo;il n&rsquo;est pas
déterminé, ce sera <var>fichier-xml</var>&lsquo;<tt>.ly</tt>&rsquo; ; &lsquo;<tt>-</tt>&rsquo;
produira le résultat sur la sortie standard (<var>stdout</var>).
</p>
</dd>
<dt> <code>-r, --relative</code></dt>
<dd><p>Rendu en hauteurs relatives (mode par défaut).
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Mode verbeux.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Afficher le numéro de version.
</p>
</dd>
<dt> <code>-z, --compressed</code></dt>
<dd><p>Le fichier d&rsquo;entrée est un fichier MusicXML zippé.
</p></dd>
</dl>


<hr size="6">
<a name="Utilisation-d_0027abc2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-musicxml2ly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation de musicxml2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-etf2ly" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Utilisation d'etf2ly &gt; </a>]</td></tr></table>
<a name="invoking-abc2ly"></a>
<h3 class="subsection">4.3.3 Utilisation de <code>abc2ly</code></h3>

<div class="warning"><p><strong>Note :</strong> Ce programme ne bénéficie d&rsquo;aucune maintenance.  Il est
susceptible d&rsquo;être supprimé des versions futures de LilyPond.
</p>
</div>
<a name="index-ABC"></a>

<p>ABC est un format relativement simple basé sur l&rsquo;ASCII.  Sa
description est disponible sur le
<a href="http://www.walshaw.plus.com/abc/learn.html">site d&rsquo;ABC</a>.
</p>
<p><code>abc2ly</code> traduit du format ABC au format LilyPond.  Pour le
lancer en ligne de commande, procédez ainsi :
</p>
<blockquote><pre class="example">abc2ly [<var>option</var>]&hellip; <var>fichier-abc</var>
</pre></blockquote>

<p><code>abc2ly</code> accepte les options suivantes :
</p>
<dl compact="compact">
<dt> <code>-b, --beams=None</code></dt>
<dd><p>Préserver la notion de lien de croches propre à ABC.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Afficher un résumé des utilisations.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Générer le résultat dans le fichier <var>file</var>.
</p>
</dd>
<dt> <code>-s, --strict</code></dt>
<dd><p>Être strict sur la réussite.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Afficher le numéro de version.
</p></dd>
</dl>

<p>Il est possible d&rsquo;ajouter des bribes de code LilyPond dans un fichier
source ABC.  Ainsi, l&rsquo;assertion
</p>
<blockquote><pre class="example">%%LY voices \set autoBeaming = ##f
</pre></blockquote>

<p>aura pour conséquence d&rsquo;insérer le texte qui suit le mot-clé « voices »
dans la voix correspondante du fichier LilyPond.
</p>
<p>De la même manière,
</p>
<blockquote><pre class="example">%%LY slyrics more words
</pre></blockquote>

<p>placera le texte suivant le mot-clé « slyrics » dans une ligne de
paroles.
</p>
<a name="Problemes-connus-et-avertissements-2"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>
<p>Le standard ABC n&rsquo;est pas si « standard » que cela.  Pour des
fonctionnalités étendues, comme la polyphonie, existent différentes
conventions.
</p>
<p>Un fichier comportant plusieurs morceaux ne peut être converti.
</p>
<p>ABC synchronise paroles et musique en début de ligne ; <code>abc2ly</code>
ne le fait pas.
</p>
<p><code>abc2ly</code> ignore les ligatures ABC.
</p>

<hr size="6">
<a name="Utilisation-d_0027etf2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-abc2ly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation d'abc2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-formats" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Autres formats &gt; </a>]</td></tr></table>
<a name="invoking-etf2ly"></a>
<h3 class="subsection">4.3.4 Utilisation de <code>etf2ly</code></h3>

<div class="warning"><p><strong>Note :</strong> Ce programme ne bénéficie d&rsquo;aucune maintenance.  Il est
susceptible d&rsquo;être supprimé des versions futures de LilyPond.
</p>
</div>
<a name="index-Enigma-Transport-Format"></a>
<a name="index-ETF"></a>
<a name="index-enigma"></a>
<a name="index-Finale"></a>
<a name="index-Coda-Technology"></a>

<p>ETF (Enigma Transport Format) est l&rsquo;un des formats utilisés par le
logiciel Finale, édité par Coda Music Technology.  <code>etf2ly</code>
convertit partiellement les fichiers ETF en fichiers source LilyPond.
</p>
<p>Pour le lancer en ligne de commande, procédez ainsi :
</p>
<blockquote><pre class="example">etf2ly [<var>option</var>]&hellip; <var>fichier-etf</var>
</pre></blockquote>

<p>Notez bien que, par « ligne de commande », nous parlons de la ligne de
commande du système.  Pour plus de précisions, reportez-vous à
<a href="#converting-from-other-formats">Conversion à partir d&rsquo;autres formats</a>.
</p>
<p><code>etf2ly</code> accepte les options suivantes :
</p>
<dl compact="compact">
<dt> <code>-h, --help</code></dt>
<dd><p>Afficher cette aide.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Générer le résultat dans le fichier <var>file</var>.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>Afficher le numéro de version.
</p></dd>
</dl>

<a name="Problemes-connus-et-avertissements-3"></a>
<h4 class="subsubheading">Problèmes connus et avertissements</h4>
<p>La liste des scripts d&rsquo;articulation est incomplète.  Les mesures vides
perturbent <code>etf2ly</code>.  Les séquences de notes d&rsquo;ornement ne se
terminent pas de manière satisfaisante.
</p>

<hr size="6">
<a name="Autres-formats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-etf2ly" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Utilisation d'etf2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Conversion à partir d'autres formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-output-in-other-programs" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Inclusion de partition LilyPond dans d'autres programmes &gt; </a>]</td></tr></table>
<a name="other-formats"></a>
<h3 class="subsection">4.3.5 Autres formats</h3>

<a name="index-programmes-externes-generant-des-fichiers-LilyPond"></a>

<p>LilyPond ne prend pas en charge d&rsquo;autre format.  Cependant, certains
outils indépendants permettent de générer des fichiers LilyPond, comme
indiqué à la page <a name="index-Facilites-d_0027edition-1"></a>
<a href="web-big-page.fr.html#easier-editing">Facilités d'édition</a>.
</p>

<hr size="6">
<a name="Inclusion-de-partition-LilyPond-dans-d_0027autres-programmes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-formats" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Autres formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Programmes externes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#luatex" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;LuaTex &gt; </a>]</td></tr></table>
<a name="lilypond-output-in-other-programs"></a>
<h2 class="section">4.4 Inclusion de partition LilyPond dans d&rsquo;autres programmes</h2>

<p>Nous allons nous intéresser ici à différents moyens d&rsquo;associer texte
et musique, en laissant de côté l&rsquo;automatisation grâce à
<code>lilypond-book</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#luatex" accesskey="1">4.4.1 LuaTex</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#openoffice-and-libreoffice" accesskey="2">OpenOffice et LibreOffice</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#other-programs" accesskey="3">Autres programmes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="LuaTex"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-output-in-other-programs" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Inclusion de partition LilyPond dans d'autres programmes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Inclusion de partition LilyPond dans d'autres programmes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#openoffice-and-libreoffice" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;OpenOffice et LibreOffice &gt; </a>]</td></tr></table>
<a name="luatex"></a>
<h3 class="subsection">4.4.1 LuaTex</h3>

<a name="index-LuaTex"></a>
<a name="index-lyluatex"></a>

<p>Tout comme avec <code>lilypond-book</code>, les utilisateurs de LuaTex peuvent
intégrer le résultat de LilyPond dans leurs documents à l&rsquo;aide de
l&rsquo;extension
<a href="https://github.com/jperon/lyluatex/blob/master/README.md">lyluatex</a>.
</p>

<hr size="6">
<a name="OpenOffice-et-LibreOffice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#luatex" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; LuaTex&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Inclusion de partition LilyPond dans d'autres programmes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-programs" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Autres programmes &gt; </a>]</td></tr></table>
<a name="openoffice-and-libreoffice"></a>
<h3 class="unnumberedsubsec">OpenOffice et LibreOffice</h3>

<a name="index-OpenOffice_002eorg"></a>
<a name="index-LibreOffice_002eorg"></a>
<a name="index-OOoLilyPond"></a>

<p><a href="http://ooolilypond.sourceforge.net">OOoLilyPond</a> permet
d&rsquo;insérer directement des partitions LilyPond dans OpenOffice ou
LibreOffice.  Bien que son développement soit suspendu, cette extension
est opérationnelle avec la version 4 des deux suites.
</p>

<hr size="6">
<a name="Autres-programmes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#openoffice-and-libreoffice" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; OpenOffice et LibreOffice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Inclusion de partition LilyPond dans d'autres programmes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#independent-includes" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Inclusion du travail des autres &gt; </a>]</td></tr></table>
<a name="other-programs"></a>
<h3 class="unnumberedsubsec">Autres programmes</h3>

<p>Pour les nombreux programmes qui sont capables de contenir des images,
que ce soit au format &lsquo;<tt>PNG</tt>&rsquo;, &lsquo;<tt>EPS</tt>&rsquo; ou &lsquo;<tt>PDF</tt>&rsquo;, mieux vaut
utiliser <code>lilypond</code> que <code>lilypond-book</code>.  Chaque extrait
devra être généré séparément avant d&rsquo;être inséré dans votre document.
Consultez la documentation du logiciel en question quant à l&rsquo;insertion
de fichiers provenant d&rsquo;autres sources.
</p>
<p>Les options suivantes vous permettront de réduire notablement les
contours de l&rsquo;image LilyPond :
</p>
<blockquote><pre class="example">\paper{
  indent=0\mm
  line-width=120\mm
  oddFooterMarkup=##f
  oddHeaderMarkup=##f
  bookTitleMarkup = ##f
  scoreTitleMarkup = ##f
}

<var>&hellip; musique &hellip;</var>
</pre></blockquote>

<p>En procédant comme ci-après, vous obtiendrez des images &lsquo;<tt>EPS</tt>&rsquo; :
</p>
<blockquote><pre class="example">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts monfichier.ly
</pre></blockquote>

<p>des images &lsquo;<tt>PNG</tt>&rsquo; :
</p>
<blockquote><pre class="example">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts --png monfichier.ly
</pre></blockquote>

<p>ou bien des images &lsquo;<tt>PNG</tt>&rsquo; avec transparence :
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts -dpixmap-format=pngalpha --png myfile.ly
</pre></td></tr></table>

<a name="index-fragments-musicaux"></a>
<a name="index-recopie-d_0027extraits"></a>
<a name="index-extraits_002c-recopie"></a>

<p>Si d&rsquo;aventure vous deviez recopier un certain nombre d&rsquo;extraits d&rsquo;une
même partition, vous pouvez recourir à « l&rsquo;emporte pièce » &ndash; la
fonction <em>clip systems</em> &ndash; comme indiqué au chapitre
<a name="index-Extraction-de-fragments-musicaux-1"></a>
<a href="notation-big-page.fr.html#extracting-fragments-of-music">Extraction de fragments musicaux</a>.
</p>

<hr size="6">
<a name="Inclusion-du-travail-des-autres"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-programs" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Autres programmes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Programmes externes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#midi-articulation" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;MIDI et articulations &gt; </a>]</td></tr></table>
<a name="independent-includes"></a>
<h2 class="section">4.5 Inclusion du travail des autres</h2>

<p>Certains utilisateurs ont, pour obtenir des effets particuliers, écrit
des fichiers qu&rsquo;il est toujours possible d&rsquo;intégrer à LilyPond avec
l&rsquo;instruction <code>\include</code>.  Plusieurs sont même désormais inclus
dans le programme.  Voir aussi <a name="index-Travail-sur-des-fichiers-texte"></a>
<a href="notation-big-page.fr.html#working-with-input-files">Travail sur des fichiers texte</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#midi-articulation" accesskey="1">4.5.1 MIDI et articulations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="MIDI-et-articulations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Chapitre suivant">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#independent-includes" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Inclusion du travail des autres&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#independent-includes" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Inclusion du travail des autres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#suggestions-for-writing-files" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Suggestions pour la saisie de fichiers LilyPond &gt; </a>]</td></tr></table>
<a name="midi-articulation"></a>
<h3 class="subsection">4.5.1 MIDI et articulations</h3>

<a name="index-MIDI-1"></a>
<a name="index-le-projet-Articulate"></a>

<p>Le projet <a href="http://www.nicta.com.au/people/chubbp/articulate"><em>articulate</em></a> (site en anglais) s&rsquo;est donné pour objectif
d&rsquo;améliorer la sortie MIDI de LilyPond.  Les notes qui ne sont pas liées
sont ainsi raccourcies dans le but « d&rsquo;articuler ».  Ce raccourcissement
dépend de l&rsquo;articulation appliquée à la note : un <em>staccato</em>
raccourcira la note de moitié, un <em>tenuto</em> lui gardera sa durée
entière…  Voir <a name="index-Amelioration-du-rendu-MIDI"></a>
<a href="notation-big-page.fr.html#enhancing-midi-output">Amélioration du rendu MIDI</a>.
</p>



<hr size="6">
<a name="Suggestions-pour-la-saisie-de-fichiers-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Programmes externes&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#midi-articulation" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; MIDI et articulations&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#general-suggestions" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Suggestions générales &gt; </a>]</td></tr></table>
<a name="suggestions-for-writing-files"></a>
<h1 class="chapter">5. Suggestions pour la saisie de fichiers LilyPond</h1>

<p>Maintenant vous êtes prêt à travailler sur de plus gros fichiers
LilyPond &ndash; des pièces entières, et plus seulement les petits
exemples du tutoriel.  Mais comment devriez-vous vous y prendre ?
</p>
<p>Tant que LilyPond parvient à comprendre vos fichiers et produit le
résultat que vous souhaitez, peu importe la manière dont le code est
organisé.  Néanmoins, quelques critères doivent être pris en compte
lorsque l&rsquo;on écrit un fichier LilyPond.
</p>
<ul>
<li>
Si vous faites une erreur, la structure même du fichier LilyPond
peut permettre de la localiser plus ou moins facilement.

</li><li>
Et si vous souhaitez partager vos fichiers avec quelqu&rsquo;un d&rsquo;autre, ou si
vous souhaitez modifier vos propres fichiers dans quelques années ?
Si certains fichiers LilyPond sont compréhensibles au premier coup
d&rsquo;œil, d&rsquo;autres vous feront vous arracher les cheveux pendant une heure.

</li><li>
Et si vous souhaitez mettre à jour votre fichier pour l&rsquo;utiliser avec
une version plus récente de LilyPond ?  La syntaxe du  langage d&rsquo;entrée
change parfois lorsque LilyPond s&rsquo;améliore.  La plupart des changements
peuvent être appliqués automatiquement avec <code>convert-ly</code>, mais
quelques-uns peuvent requérir une intervention manuelle.  Vos fichiers
LilyPond peuvent être structurés de manière à faciliter leur mise à
jour.
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#general-suggestions" accesskey="1">5.1 Suggestions générales</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#typesetting-existing-music" accesskey="2">5.2 Gravure de musique existante</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#large-projects" accesskey="3">5.3 Projets d&rsquo;envergure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#troubleshooting" accesskey="4">5.4 Résolution de problèmes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#make-and-makefiles" accesskey="5">5.5 De la commande make et des fichiers Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Suggestions-g_00e9n_00e9rales"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#suggestions-for-writing-files" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#typesetting-existing-music" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Gravure de musique existante &gt; </a>]</td></tr></table>
<a name="general-suggestions"></a>
<h2 class="section">5.1 Suggestions générales</h2>

<p>Voici quelques conseils qui vous permettront d&rsquo;éviter, voire même
résoudre, la plupart des problèmes de saisie.
</p>
<ul>
<li> <strong>Ajoutez toujours le numéro de version dans chaque
fichier</strong>, quelle que soit sa taille.  Par expérience, il est très
difficile de se rappeler quelle version de LilyPond a servi au moment de
la création d&rsquo;un fichier. Ceci s&rsquo;avèrera d&rsquo;autant plus utile lors d&rsquo;une
<a name="index-Mise-a-jour-avec-convert_002dly"></a>
<a href="usage-big-page.fr.html#updating-files-with-convert_002dly">mise à jour</a>
(<code>convert-ly</code> requiert la présence d&rsquo;une ligne <code>\version</code>)
ou si vous transmettez votre fichier à d&rsquo;autres utilisateurs &ndash; y
compris pour demander de l&rsquo;aide sur les listes de diffusion.  Vous
noterez par ailleurs que tous les fichiers modèles de LilyPond ont une
mention <code>\version</code>.

</li><li> <strong>Une mesure par ligne de texte</strong>.
Si la musique en elle-même ou le résultat que vous désirez contient
quelque chose de compliqué, il est souvent bon de n&rsquo;écrire qu&rsquo;une seule
mesure par ligne. Économiser de la place en tassant huit mesures par
ligne, ça ne vaut pas vraiment le coup si l&rsquo;on doit corriger vos
fichiers.

</li><li> <strong>Ajoutez des contrôles
<a name="index-Verifications-d_0027octave"></a>
<a href="notation-big-page.fr.html#octave-checks">d&rsquo;octaviation</a> et
<a name="index-Verification-des-limites-et-numeros-de-mesure-1"></a>
<a href="notation-big-page.fr.html#bar-and-bar-number-checks">de limite ou numéro de mesure</a></strong>.  Si vous avez ajouté des contrôles de loin en loin
et que vous faites une erreur, vous pourrez la retrouver plus
rapidement.  « De loin en loin », qu&rsquo;est-ce à dire ?  Cela dépend
de la complexité de la musique.  Pour de la musique très simple, à
certains endroits stratégiques.  Pour de la musique très complexe ou
avec une multiplicité de voix, peut-être à chaque mesure.

</li><li> <strong>Ajoutez des commentaires</strong>.
Utilisez soit des numéros de mesure (assez souvent), soit des références
au contenu musical &ndash; « second thème des violons », « quatrième
variation », etc.  Vous pouvez ne pas avoir besoin des commentaires
lorsque vous écrivez une pièce pour la première fois, mais si vous
souhaitez y revenir deux ou trois ans plus tard pour changer quelque
chose, ou si vous donnez le fichier source à un ami, ce sera beaucoup
plus difficile de déterminer vos intentions ou la manière dont votre
fichier est structuré si vous n&rsquo;y avez pas adjoint de commentaires.

</li><li> <strong>Mentionnez les durées au début de chaque section ou
variable</strong>.  Si vous saisissez <code>c4 d e</code> au début d&rsquo;une phrase, vous
vous épargnerez des problèmes si, plus tard, vous modifiez votre
musique.

</li><li> <strong>Indentez les accolades et indications de musique en parallèle</strong>.
Beaucoup de problèmes viennent d&rsquo;un défaut de parité entre <code>{</code> et
<code>}</code> ou <code>&lt;&lt;</code> et <code>&gt;&gt;</code>.  Par exemple,

<blockquote><pre class="example">\new Staff {
  \relative {
    r4 g'8 g c8 c4 d |
    e4 r8 |
    % Ossia section
    &lt;&lt;
      { f8 c c | }
      \new Staff {
        f8 f c |
      }
    &gt;&gt;
    r4 |
  }
}
</pre></blockquote>

<p>est bien plus facile à appréhender que
</p>
<blockquote><pre class="example">\new Staff { \relative { r4 g'8 g c4 c8 d | e4 r8
% Ossia section
&lt;&lt; { f8 c c } \new Staff { f8 f c } &gt;&gt; r4 | } }
</pre></blockquote>


</li><li> <strong>Séparez les affinages de mise en forme</strong>
de la musique elle-même, ne serait-ce qu&rsquo;en positionnant les dérogations
au sein du bloc <code>\layout</code> :

<blockquote><pre class="example">\score {
  <var>&hellip;musique&hellip;</var>
  \layout {
   \override TabStaff.Stemstencil = ##f
 }
}
</pre></blockquote>

<p>Ceci n&rsquo;aura par pour effet de générer un contexte supplémentaire, mais
s&rsquo;appliquera dès sa création.  Voyez
<a name="index-Economie-de-saisie-grace-aux-identificateurs-et-fonctions"></a>
<a href="learning-big-page.fr.html#saving-typing-with-variables-and-functions">Économie de saisie grâce aux identificateurs et fonctions</a> et
<a name="index-Feuilles-de-style"></a>
<a href="learning-big-page.fr.html#style-sheets">Feuilles de style</a>.
</p>
</li></ul>


<hr size="6">
<a name="Gravure-de-musique-existante"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#general-suggestions" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Suggestions générales&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#large-projects" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Projets d'envergure &gt; </a>]</td></tr></table>
<a name="typesetting-existing-music"></a>
<h2 class="section">5.2 Gravure de musique existante</h2>

<p>Si vous saisissez de la musique à partir d&rsquo;une partition existante,
c&rsquo;est-à-dire de la musique déjà écrite,
</p>
<ul>
<li>
n&rsquo;entrez qu&rsquo;un seul système de la partition originale
à la fois &ndash; avec toujours une seule mesure par ligne de texte &ndash;,
et vérifiez chaque système lorsqu&rsquo;il est terminé.  Vous pouvez
utiliser les commandes <code>showLastLength</code> et <code>showFirstLength</code>
pour accélérer la compilation &ndash; voir
<a name="index-Ignorer-des-passages-de-la-partition"></a>
<a href="notation-big-page.fr.html#skipping-corrected-music">Ignorer des passages de la partition</a> ;

</li><li>
définissez <code>mBreak = { \break }</code> et insérez <code>\mBreak</code> dans
le fichier d&rsquo;entrée pour obtenir des sauts de ligne identiques à la
partition originale.  Cela facilite la comparaison entre la partition
originale et la partition de LilyPond.  Lorsque vous avez fini de relire
votre musique, vous pouvez définir <code>mBreak = { }</code>
pour enlever tous ces sauts de ligne, et laisser LilyPond placer les
sauts de ligne selon son propre algorithme ;

</li><li>
encadrez les notes d&rsquo;une partie pour instrument transpositeur dans un

<blockquote><pre class="example">\transpose c <var>tonalité-naturelle</var> {&hellip;}
</pre></blockquote>

<p>(où <var>tonalité-naturelle</var> correspond à celle de l&rsquo;instrument en
question) de telle sorte que la musique comprise dans cette variable se
retrouve en ut.  Vous pourrez toujours transposer à l&rsquo;inverse si besoin
lorsque vous ferez appel à cette variable.  Des erreurs de transposition
seront moins susceptibles de se produire si la musique de toutes les
variables est dans la même et unique tonalité.
</p>
<p>De la même manière, prenez toujours le do comme note de départ ou
d&rsquo;arrivée.  Ceci aura pour simple conséquence que les autres tonalités
que vous utiliserez seront celles propres à chacun des instruments &ndash;
sib pour une trompette en si bémol, ou lab pour une clarinette en la bémol.
</p>
</li></ul>


<hr size="6">
<a name="Projets-d_0027envergure"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#typesetting-existing-music" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Gravure de musique existante&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#troubleshooting" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Résolution de problèmes &gt; </a>]</td></tr></table>
<a name="large-projects"></a>
<h2 class="section">5.3 Projets d&rsquo;envergure</h2>

<p>Lorsque l&rsquo;on travaille sur un gros projet, il devient vital de
structurer clairement ses fichiers LilyPond.
</p>
<ul>
<li> <strong>Utilisez un identificateur pour chaque voix</strong>,
avec un minimum de structure dans la définition.  La structure de la
section <code>\score</code> est la plus susceptible de changer, notamment
dans une nouvelle version de LilyPond, alors que la définition du
<code>violon</code> l&rsquo;est beaucoup moins.

<blockquote><pre class="example">violon = \relative {
g'4 c'8. e16
}
&hellip;
\score {
 \new GrandStaff {
   \new Staff {
     \violon
   }
 }
}
</pre></blockquote>

</li><li> <strong>Séparez les retouches des définitions de musique</strong>.
Nous vous avons déjà invité à adopter une telle pratique, qui
par ailleurs devient vitale pour des projets d&rsquo;importance.  Nous
pouvons avoir besoin de changer la définition de <code>fpuisp</code>, mais
dans ce cas nous n&rsquo;aurons besoin de le faire qu&rsquo;une seule fois, et nous
pourrons encore éviter de modifier quoi que ce soit à l&rsquo;intérieur de la
définition du <code>violon</code>.

<blockquote><pre class="example">fpuisp = _\markup{
 \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p }
violon = \relative {
g'4\fpuisp c'8. e16
}
</pre></blockquote>

</li></ul>


<hr size="6">
<a name="R_00e9solution-de-probl_00e8mes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#large-projects" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Projets d'envergure&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#make-and-makefiles" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;De la commande make et des fichiers Makefile &gt; </a>]</td></tr></table>
<a name="troubleshooting"></a>
<h2 class="section">5.4 Résolution de problèmes</h2>

<p>Tôt ou tard, vous écrirez un fichier que LilyPond ne peut pas
compiler.  Les messages que LilyPond affiche peuvent vous aider à
trouver l&rsquo;erreur, mais dans beaucoup de cas vous aurez besoin de faire
quelques recherches pour déterminer la source du problème.
</p>
<p>Pour ce faire, les outils les plus puissants sont le commentaire de
fin de ligne, indiqué par <code>%</code>, et le commentaire multilignes (ou
bloc de commentaire), indiqué par <code>%{ &hellip; %}</code>.  Si vous ne
pouvez localiser le problème, commencez par mettre en commentaire de
grandes parties de votre fichier source.  Après avoir mis en
commentaire une section, essayez de compiler à nouveau.  Si cela
fonctionne, c&rsquo;est que le problème se situe dans cette partie du
fichier.  Si cela ne fonctionne pas, continuez à mettre en commentaire
d&rsquo;autres sections, jusqu&rsquo;à ce que vous ayez quelque chose qui compile.
</p>
<p>Dans un cas extrême, vous pourriez en arriver à
</p>
<blockquote><pre class="example">\score {
  &lt;&lt;
    % \melodie
    % \harmonie
    % \basse
  &gt;&gt;
  \layout{}
}
</pre></blockquote>

<p>c&rsquo;est-à-dire un fichier sans aucune musique.
</p>
<p>Si cela se produit, ne vous découragez pas.  Décommentez un peu, la
partie de basse par exemple, et voyez si ça fonctionne.  Si ce n&rsquo;est pas
le cas, placez en commentaire toute la partie de basse, mais laissez
<code>\basse</code> décommenté dans le bloc <code>\score</code>.
</p>
<blockquote><pre class="example">basse = \relative {
%{
  c'4 c c c
  d d d d
%}
}
</pre></blockquote>

<p>Maintenant commencez à décommenter petit à petit la partie de
<code>basse</code> jusqu&rsquo;à ce que vous localisiez la ligne qui pose
problème.
</p>
<p>Une autre technique de débogage très utile est la construction
d&rsquo;un <a name="index-Exemples-minimalistes"></a>
<a href="web-big-page.fr.html#tiny-examples">exemple minimaliste</a>.
</p>

<hr size="6">
<a name="De-la-commande-make-et-des-fichiers-Makefile"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Chapitre suivant">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#troubleshooting" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Résolution de problèmes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#gnu-free-documentation-license" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;GNU Free Documentation License &gt; </a>]</td></tr></table>
<a name="make-and-makefiles"></a>
<h2 class="section">5.5 De la commande make et des fichiers Makefile</h2>

<a name="index-makefiles"></a>
<a name="index-make"></a>

<p>La plupart des plates-formes sur lesquelles tourne LilyPond disposent
d&rsquo;un logiciel appelé <code>make</code>.  Ce logiciel va lire un fichier
spécial, nommé <code>Makefile</code>, qui contient tout ce qu&rsquo;il
faut &ndash; les dépendances entre certains fichiers, les instructions
successives à traiter par le système &ndash; pour aboutir au fichier que
vous désirez obtenir.  Il pourrait par exemple contenir tout ce qu&rsquo;il
faut pour produire &lsquo;<tt>ballade.pdf</tt>&rsquo; et &lsquo;<tt>ballade.midi</tt>&rsquo; à partir de
&lsquo;<tt>ballade.ly</tt>&rsquo; en lançant LilyPond.
</p>
<p>La création d&rsquo;un <code>Makefile</code> peut se révéler pertinente pour
certains projets, que ce soit par simple goût personnel ou bien par
respect de ceux qui pourront accéder à vos sources.  Cette manière de
procéder est particulièrement indiquée lorsque vous travaillez sur un
projet de grande envergure impliquant de nombreuses inclusions de
fichiers et différentes éditions &ndash; par exemple un conducteur et un
matériel d&rsquo;orchestre complet avec la partition pour le chef et une
partition séparée pour chacun des pupitres &ndash; ou bien si votre projet
requiert certaines commandes particulières comme <code>lilypond-book</code>.
Les <em>Makefiles</em> varient tant en complexité qu&rsquo;en flexibilité selon
les besoin et les aptitudes de celui qui les crée.  Le programme GNU
Make est installé par défaut sur les distributions GNU/Linux et sur
MacOS X, et il en existe une version pour les environnements Windows.
</p>
<p>Consultez le <strong>GNU Make Manual</strong> pour plus de détails sur ce dont
<code>make</code> est capable &ndash; vous pourrez même en trouver des versions
françaises à l&rsquo;aide des moteurs de recherche &ndash;, dans la mesure où ce
qui suit ne donne qu&rsquo;un bref aperçu de ses possibilités.
</p>
<p>Les commandes permettant de définir les règles diffèrent selon la
plate-forme : si les différents GNU/Linux et MacOS X utilisent
<code>bash</code>, Windows utilise <code>cmd</code>.  Dans le cas de MacOS X,
vous devrez toutefois configurer votre système de telle sorte qu&rsquo;il
utilise l&rsquo;interpréteur en ligne de commande.  Voici quelques exemples de
fichier <em>Makefile</em>, avec une version pour GNU/Linux ou MacOS et une
pour Windows.
</p>
<p>Pour commencer, une pièce à quatre mouvements pour orchestre et dont les
fichiers sont répartis selon l&rsquo;arborescence suivante :
</p>
<blockquote><pre class="example">Symphonie/
|-- MIDI/
|-- Makefile
|-- Notes/
|   |-- alto.ily
|   |-- cor.ily
|   |-- cello.ily
|   |-- figures.ily
|   |-- hautbois.ily
|   |-- trioCordes.ily
|   |-- violonUn.ily
|   `-- violonDeux.ily
|-- Partitions/
|   |-- symphonie.ly
|   |-- symphonieI.ly
|   |-- symphonieII.ly
|   |-- symphonieIII.ly
|   `-- symphonieIV.ly
|-- PDF/
|-- Pupitres/
|   |-- symphonie-alto.ly
|   |-- symphonie-cello.ly
|   |-- symphonie-cor.ly
|   |-- symphonie-hautbois.ly
|   |-- symphonie-violonUn.ly
|   `-- symphonie-violonDeux.ly
`-- symphonieDefs.ily
</pre></blockquote>

<p>Les fichiers &lsquo;<tt>.ly</tt>&rsquo; des répertoires <code>Partitions</code> et
<code>Pupitres</code> récupéreront la notation des fichiers &lsquo;<tt>.ily</tt>&rsquo;
contenus dans le répertoire <code>Notes</code> :
</p>
<blockquote><pre class="example">%%% début du fichier &quot;symphonie-cello.ly&quot;
\include ../symphonieDefs.ily
\include ../Notes/cello.ily
</pre></blockquote>

<p>Le <em>Makefile</em> répertorie des cibles correspondant à <code>score</code>
(l&rsquo;intégrale au format conducteur), <code>mouvements</code> (chacun des
mouvements au format conducteur) et <code>pupitres</code> (une partition par
pupitre).  Il contient aussi une cible <code>archive</code> chargée de générer
une archive des fichiers source qui pourra être diffusée sur la toile ou
transmise par courriel.  Voici ce que contiendrait ce <em>Makefile</em>
pour GNU/Linux ou MacOS X.  Ce fichier doit être enregistré sous le nom
de <code>Makefile</code> à la racine du projet &ndash; ici <code>Symphonie</code>.
</p>
<div class="warning"><p><strong>Note :</strong> Lorsque vous définissez une cible ou une règle sur plusieurs
lignes, les lignes à partir de la deuxième <strong>doivent</strong> débuter par
une tabulation, non pas par des espaces.
</p>
</div>
<blockquote><pre class="example"># Le préfixe au nom des fichiers résultants
piece = symphonie
# Détermination du nombre de processeurs
CPU_CORES=`cat /proc/cpuinfo | grep -m1 &quot;cpu cores&quot; | sed s/&quot;.*: &quot;//`
# La commande d'appel à lilypond
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click -djob-count=$(CPU_CORES)

# Les suffixes utilisés dans ce Makefile
.SUFFIXES: .ly .ily .pdf .midi

# Les fichiers sources et résultants sont recherchés dans les répertoires
# listés dans la variable VPATH.  Ceux-ci sont tous des sous-répertoires
# du répertoire courant (fourni par la variable de GNU make `CURDIR').
VPATH = \
  $(CURDIR)/Partitions \
  $(CURDIR)/PDF \
  $(CURDIR)/Pupitres \
  $(CURDIR)/Notes

# La règle type pour créer un PDF et un MIDI à partir d'un fichier
# source LY.
# Les .pdf résultants iront dans le sous-répertoire &quot;PDF&quot; et les fichiers
# .midi dans le sous-répertoire &quot;MIDI&quot;.
%.pdf %.midi: %.ly
        $(LILY_CMD) $&lt;; \       # cette ligne commence par une tabulation
        if test -f &quot;$*.pdf&quot;; then \
            mv &quot;$*.pdf&quot; PDF/; \
        fi; \
        if test -f &quot;$*.midi&quot;; then \
            mv &quot;$*.midi&quot; MIDI/; \
        fi

notes = \
  alto.ily \
  cello.ily \
  cor.ily \
  hautbois.ily \
  violonUn.ily \
  violonDeux.ily

# Les dépendances selon le mouvement.
$(piece)I.pdf: $(piece)I.ly $(notes)
$(piece)II.pdf: $(piece)II.ly $(notes)
$(piece)III.pdf: $(piece)III.ly $(notes)
$(piece)IV.pdf: $(piece)IV.ly $(notes)

# Les dépendances pour la partition intégrale.
$(piece).pdf: $(piece).ly $(notes)

# Les dépendances pour les pupitres.
$(piece)-alto.pdf: $(piece)-alto.ly alto.ily
$(piece)-cello.pdf: $(piece)-cello.ly cello.ily
$(piece)-cor.pdf: $(piece)-cor.ly cor.ily
$(piece)-hautbois.pdf: $(piece)-hautbois.ly hautbois.ily
$(piece)-violonUn.pdf: $(piece)-violonUn.ly violonUn.ily
$(piece)-violonDeux.pdf: $(piece)-violonDeux.ly violonDeux.ily

# Lancer `make score' pour générer l'intégrale des quatre mouvements
# en un seul fichier.
.PHONY: score
score: $(piece).pdf

# Lancer `make parties' pour obtenir tous les pupitres.
# Lancer `make toto.pdf' pour obtenir la partie instrumentale de toto.
# Par exemple : `make symphonie-cello.pdf'.
.PHONY: parties
parties: $(piece)-cello.pdf \
         $(piece)-violonUn.pdf \
         $(piece)-violonDeux.pdf \
         $(piece)-alto.pdf \
         $(piece)-hautbois.pdf \
         $(piece)-cor.pdf

# Lancer `make mouvements' pour générer un fichier séparé pour chacun
# des mouvements.
.PHONY: mouvements
mouvements: $(piece)I.pdf \
            $(piece)II.pdf \
            $(piece)III.pdf \
            $(piece)IV.pdf

all: score parties mouvements

archive:
        tar -cvvf symphonie.tar \    # cette ligne commence par une tabulation
        --exclude=*pdf --exclude=*~ \
        --exclude=*midi --exclude=*.tar \
        ../Symphonie/*
</pre></blockquote>


<p>Les choses se compliquent sous Windows.  Une fois GNU Make pour Windows
téléchargé et installé, il vous faudra correctement définir le chemin
d&rsquo;accès au programme <em>Make</em> &ndash; dans les variables d&rsquo;environnement
du système &ndash;  afin que l&rsquo;interpréteur de commandes DOS puisse le
localiser.  Pour cela, faites un clic droite sur « Poste de travail »,
choisissez <code>Propriétés</code> puis <code>Avancées</code>.  Cliquez sur
<code>Variables d'environnement</code> puis, dans l&rsquo;onglet
<code>Variables système</code>, mettez <code>path</code> en surbrillance et
cliquez sur <code>Modifier</code>.  Ajoutez alors le chemin d&rsquo;accès complet à
l&rsquo;exécutable de GNU Make, qui devrait ressembler à :
</p>
<blockquote><pre class="example">C:\Program Files\GnuWin32\bin
</pre></blockquote>

<p>Il va également falloir adapter le <em>makefile</em> aux particularités de
l&rsquo;interpréteur de commandes et à la présence d&rsquo;espaces dans le nom de
certains répertoire de ce système.
La cible <code>archive</code> est tout bonnement supprimée, puisque Windows ne
dispose pas de la commande <code>tar</code>.  Enfin, les fichiers MIDI ont une
extension par défaut propre à Windows.
</p>

<blockquote><pre class="example">## VERSION POUR WINDOWS
##
piece = symphonie
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click \
                    -djob-count=$(NUMBER_OF_PROCESSORS)

#Détermination du nom de CURDIR sous sa forme 8.3
#(solution pour les espaces dans le PATH)
workdir = $(shell for /f &quot;tokens=*&quot; %%b in (&quot;$(CURDIR)&quot;) \
          do @echo %%~sb)

.SUFFIXES: .ly .ily .pdf .mid

VPATH = \
  $(workdir)/Partitions \
  $(workdir)/PDF \
  $(workdir)/Pupitress \
  $(workdir)/Notes

%.pdf %.mid: %.ly
        $(LILY_CMD) $&lt;      # cette ligne commence par une tabulation
        if exist &quot;$*.pdf&quot;  move /Y &quot;$*.pdf&quot;  PDF/ # tabulation au début
        if exist &quot;$*.mid&quot; move /Y &quot;$*.mid&quot; MIDI/  # tabulation au début

notes = \
  cello.ily \
  figures.ily \
  cor.ily \
  hautbois.ily \
  trioCordes.ily \
  alto.ily \
  violonUn.ily \
  violonDeux.ily

$(piece)I.pdf: $(piece)I.ly $(notes)
$(piece)II.pdf: $(piece)II.ly $(notes)
$(piece)III.pdf: $(piece)III.ly $(notes)
$(piece)IV.pdf: $(piece)IV.ly $(notes)

$(piece).pdf: $(piece).ly $(notes)

$(piece)-cello.pdf: $(piece)-cello.ly cello.ily
$(piece)-cor.pdf: $(piece)-cor.ly cor.ily
$(piece)-hautbois.pdf: $(piece)-hautbois.ly hautbois.ily
$(piece)-alto.pdf: $(piece)-alto.ly alto.ily
$(piece)-violonUn.pdf: $(piece)-violonUn.ly violonUn.ily
$(piece)-violonDeux.pdf: $(piece)-violonDeux.ly violonDeux.ily

.PHONY: score
score: $(piece).pdf

.PHONY: parties
parties: $(piece)-cello.pdf \
         $(piece)-violonUn.pdf \
         $(piece)-violonDeux.pdf \
         $(piece)-alto.pdf \
         $(piece)-hautbois.pdf \
         $(piece)-cor.pdf

.PHONY: mouvements
mouvements: $(piece)I.pdf \
           $(piece)II.pdf \
           $(piece)III.pdf \
           $(piece)IV.pdf

all: score parties mouvements
</pre></blockquote>


<p>Le <em>Makefile</em> suivant convient pour un document
<code>lilypond-book</code> réalisé avec LaTeX.  Ce projet contiendra un
index, ce qui nécessitera de lancer une deuxième fois <code>latex</code>
pour mettre à jour les liens.  Les fichiers résultants iront dans le
répertoire <code>out</code> pour ce qui est des pdf et dans le répertoire
<code>htmlout</code> pour ce qui est du html.
</p>
<blockquote><pre class="example">SHELL=/bin/sh
FILE=monprojet
OUTDIR=out
WEBDIR=htmlout
VIEWER=acroread
BROWSER=firefox
LILYBOOK_PDF=lilypond-book --output=$(OUTDIR) --pdf $(FILE).lytex
LILYBOOK_HTML=lilypond-book --output=$(WEBDIR) $(FILE).lytex
PDF=cd $(OUTDIR) &amp;&amp; pdflatex $(FILE)
HTML=cd $(WEBDIR) &amp;&amp; latex2html $(FILE)
INDEX=cd $(OUTDIR) &amp;&amp; makeindex $(FILE)
PREVIEW=$(VIEWER) $(OUTDIR)/$(FILE).pdf &amp;

all: pdf web keep

pdf:
        $(LILYBOOK_PDF)  # tabulation en début de ligne
        $(PDF)           # tabulation en début de ligne
        $(INDEX)         # tabulation en début de ligne
        $(PDF)           # tabulation en début de ligne
        $(PREVIEW)       # tabulation en début de ligne

web:
        $(LILYBOOK_HTML) # tabulation en début de ligne
        $(HTML)          # tabulation en début de ligne
        cp -R $(WEBDIR)/$(FILE)/ ./  # tabulation en début de ligne
        $(BROWSER) $(FILE)/$(FILE).html &amp;  # tabulation en début de ligne

keep: pdf
        cp $(OUTDIR)/$(FILE).pdf $(FILE).pdf  # tabulation en début de ligne

clean:
        rm -rf $(OUTDIR) # tabulation en début de ligne

web-clean:
        rm -rf $(WEBDIR) # tabulation en début de ligne

archive:
        tar -cvvf monprojet.tar \ # tabulation en début de ligne
        --exclude=out/* \
        --exclude=htmlout/* \
        --exclude=monprojet/* \
        --exclude=*midi \
        --exclude=*pdf \
        --exclude=*~ \
        ../MonProjet/*
</pre></blockquote>

<p>AVENIR: faire que ça marche sous Windows
</p>
<p>Ce <em>makefile</em> n&rsquo;est malheureusement pas opérationnel sous Windows.
La seule alternative qui s&rsquo;offre aux utilisateurs de Windows consiste à
créer un fichier de traitement par lot (<code>.bat</code>) qui contienne les
différentes commandes successives.  Bien que cette manière de procéder
ne tienne aucun compte des dépendances entre fichiers, elle permet de
réduire le nombre de processus à lancer dans une seule commande.  Vous
devrez enregistrer les lignes suivantes dans un fichier
<code>construire.bat</code> ou <code>construire.cmd</code>.  Ce fichier pourra être
exécuté soit en ligne de commande, soit par un double clic sur son
icône.
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf monprojet.lytex
cd out
pdflatex monprojet
makeindex monprojet
pdflatex monprojet
cd ..
copy out\monprojet.pdf MonProjet.pdf
</pre></blockquote>

<a name="Voir-aussi-2"></a>
<h4 class="subsubheading">Voir aussi</h4>
<p>Manuel d&rsquo;utilisation :
<a href="#command_002dline-usage">Utilisation en ligne de commande</a>,
<a href="#lilypond_002dbook">Association musique-texte avec <code>lilypond-book</code></a>
</p>
<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; Suggestions pour la saisie de fichiers LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond-index" title="Chapitre suivant">&nbsp;Index de LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#make-and-makefiles" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; De la commande make et des fichiers Makefile&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-index" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Index de LilyPond &gt; </a>]</td></tr></table>
<a name="gnu-free-documentation-license"></a>
<h1 class="appendix">A. GNU Free Documentation License</h1>
<p align="center"> Version 1.3, 3 November 2008
</p>

<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li>
RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>


<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h2 class="heading">ADDENDUM: How to use this License for your documents</h2>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></td></tr></table>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></td></tr></table>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr size="6">
<a name="Index-de-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#gnu-free-documentation-license" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#gnu-free-documentation-license" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<a name="lilypond-index"></a>
<h1 class="appendix">B. Index de LilyPond</h1>

<table><tr><th valign="top">Aller &agrave;: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-2" class="summary-letter"><b>É</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Entr&eacute;e d&rsquo;index</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-1">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005cheader-et-document-LaTeX">\header et document LaTeX</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ABC">ABC</a></td><td valign="top"><a href="#invoking-abc2ly">4.3.3 Utilisation de <code>abc2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Aborted-_0028core-dumped_0029">Aborted (core dumped)</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Amelioration-du-rendu-MIDI"><code>Amélioration du rendu MIDI</code></a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI et articulations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Autres-sources-de-documentation"><code>Autres sources de documentation</code></a></td><td valign="top"><a href="#vim-mode">Mode Vim</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-avertissement">avertissement</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Barres-de-mesure"><code>Barres de mesure</code></a></td><td valign="top"><a href="#music-runs-off-the-page">La musique déborde de la page</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bigpdfs">bigpdfs</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-call-trace">call trace</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Caracteres-speciaux"><code>Caractères spéciaux</code></a></td><td valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname">Message d&rsquo;erreur <code>FT_Get_Glyph_Name</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chemin-de-recherche">chemin de recherche</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Choix-des-fontes-par-defaut"><code>Choix des fontes par défaut</code></a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chroot-jail_002c-fonctionnement">chroot jail, fonctionnement</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coda-Technology">Coda Technology</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-coloration-syntaxique">coloration syntaxique</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-commutateurs">commutateurs</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly">convert-ly</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. Mise à jour avec <code>convert-ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly-1">convert-ly</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 LilyPond est une langue vivante</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-docbook">docbook</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DocBook_002c-musique-et">DocBook, musique et</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documents_002c-ajout-de-musique">documents, ajout de musique</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dvips">dvips</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-emacs">emacs</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enigma">enigma</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Enigma-Transport-Format">Enigma Transport Format</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Erreur-de-programmation">Erreur de programmation</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-erreur_002c-messages">erreur, messages</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error">error</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors_002c-message-format">errors, message format</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Espacement-des-lignes-rattachees-a-des-portees"><code>Espacement des lignes rattachées à des portées</code></a></td><td valign="top"><a href="#warning-staff-affinities-should-only-decrease"><em>staff-affinities</em> devraient aller en ordre décroissant</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ETF">ETF</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Evince">Evince</a></td><td valign="top"><a href="#extra-configuration-for-evince">Configuration spécifique à Evince</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Exemple-concret"><code>Exemple concret</code></a></td><td valign="top"><a href="#Voir-aussi-1">Voir aussi</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Exemples-minimalistes"><code>Exemples minimalistes</code></a></td><td valign="top"><a href="#troubleshooting">5.4 Résolution de problèmes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression-Scheme_002c-evaluation">expression Scheme, évaluation</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extraction-de-fragments-musicaux"><code>Extraction de fragments musicaux</code></a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extraction-de-fragments-musicaux-1"><code>Extraction de fragments musicaux</code></a></td><td valign="top"><a href="#other-programs">Autres programmes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extraits_002c-recopie">extraits, recopie</a></td><td valign="top"><a href="#other-programs">Autres programmes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Facilites-d_0027edition"><code>Facilités d'édition</code></a></td><td valign="top"><a href="#other-editors">Autres éditeurs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Facilites-d_0027edition-1"><code>Facilités d'édition</code></a></td><td valign="top"><a href="#other-formats">4.3.5 Autres formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fatal-error">fatal error</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Feuilles-de-style"><code>Feuilles de style</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggestions générales</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ficher-de-sortie_002c-taille">ficher de sortie, taille</a></td><td valign="top"><a href="#enabling-point-and-click">Activation du pointer-cliquer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fichier-de-destination">fichier de destination</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Finale">Finale</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format-de-sortie">format de sortie</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format-de-sortie_002c-definition">format de sortie, définition</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fragments-musicaux">fragments musicaux</a></td><td valign="top"><a href="#other-programs">Autres programmes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML">HTML</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML_002c-musique-et">HTML, musique et</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ignorer-des-passages-de-la-partition"><code>Ignorer des passages de la partition</code></a></td><td valign="top"><a href="#typesetting-existing-music">5.2 Gravure de musique existante</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Instanciation-explicite-des-voix"><code>Instanciation explicite des voix</code></a></td><td valign="top"><a href="#Voir-aussi-1">Voir aussi</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lancement-de-lilypond">lancement de <code>lilypond</code></a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG">LANG</a></td><td valign="top"><a href="#environment-variables">Variables d&rsquo;environnement</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTex">LaTex</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTeX_002c-musique-et">LaTeX, musique et</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-le-projet-Articulate">le projet <em>Articulate</em></a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI et articulations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LibreOffice_002eorg">LibreOffice.org</a></td><td valign="top"><a href="#openoffice-and-libreoffice">OpenOffice et LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ligne-de-commande_002c-options-pour-lilypond">ligne de commande, options pour <code>lilypond</code></a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LILYPOND_005fDATADIR">LILYPOND_DATADIR</a></td><td valign="top"><a href="#environment-variables">Variables d&rsquo;environnement</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loglevel">loglevel</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LuaTex">LuaTex</a></td><td valign="top"><a href="#luatex">4.4.1 LuaTex</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lyluatex">lyluatex</a></td><td valign="top"><a href="#luatex">4.4.1 LuaTex</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X"><code>MacOS X</code></a></td><td valign="top"><a href="#command_002dline-usage">1.2 Utilisation en ligne de commande</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-1"><code>MacOS X</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-2"><code>MacOS X</code></a></td><td valign="top"><a href="#converting-from-other-formats">4.3 Conversion à partir d&rsquo;autres formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make">make</a></td><td valign="top"><a href="#make-and-makefiles">5.5 De la commande make et des fichiers Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefiles">makefiles</a></td><td valign="top"><a href="#make-and-makefiles">5.5 De la commande make et des fichiers Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index"><code>Manuels</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; Utilisation des programmes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Manuels"><code>Manuels</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; Utilisation des programmes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI">MIDI</a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Utilisation de <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI-1">MIDI</a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI et articulations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Mise-a-jour-avec-convert_002dly"><code>Mise à jour avec convert-ly</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggestions générales</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mise-a-jour-d_0027anciens-fichiers">mise à jour d&rsquo;anciens fichiers</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 LilyPond est une langue vivante</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mise-a-jour-de-fichiers-LilyPond">mise à jour de fichiers LilyPond</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. Mise à jour avec <code>convert-ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modes_002c-editeur">modes, éditeur</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-musicologie">musicologie</a></td><td valign="top"><a href="#an-example-of-a-musicological-document">3.1 Exemple de document musicologique</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MusicXML">MusicXML</a></td><td valign="top"><a href="#invoking-musicxml2ly">4.3.2 Utilisation de <code>musicxml2ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OOoLilyPond">OOoLilyPond</a></td><td valign="top"><a href="#openoffice-and-libreoffice">OpenOffice et LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenOffice_002eorg">OpenOffice.org</a></td><td valign="top"><a href="#openoffice-and-libreoffice">OpenOffice et LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-ligne-de-commande">options, ligne de commande</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-paper_002dsize_002c-ligne-de-commande">paper-size, ligne de commande</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PDF-_0028Portable-Document-Format_0029_002c-output">PDF (Portable Document Format), output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PNG-_0028Portable-Network-Graphics_0029_002c-output">PNG (Portable Network Graphics), output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click">point and click</a></td><td valign="top"><a href="#point-and-click">4.1 Pointer-cliquer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click_002c-ligne-de-commande">point and click, ligne de commande</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pointer_002dcliquer">pointer-cliquer</a></td><td valign="top"><a href="#point-and-click">4.1 Pointer-cliquer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pointer_002dcliquer_002c-ligne-de-commande">pointer-cliquer, ligne de commande</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Polyphonie-sur-une-portee"><code>Polyphonie sur une portée</code></a></td><td valign="top"><a href="#Voir-aussi-1">Voir aussi</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Portable-Document-Format-_0028PDF_0029_002c-output">Portable Document Format (PDF), output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Portable-Network-Graphics-_0028PNG_0029_002c-output">Portable Network Graphics (PNG), output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PostScript_002c-output">PostScript, output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preview_002c-ligne-de-commande">preview, ligne de commande</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-programmes-externes-generant-des-fichiers-LilyPond">programmes externes générant des fichiers LilyPond</a></td><td valign="top"><a href="#other-formats">4.3.5 Autres formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Programming-error">Programming error</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-previsualisation-d_0027image">prévisualisation d&rsquo;image</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PS-_0028PostScript_0029_002c-output">PS (PostScript), output</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-recherche-de-fichier">recherche de fichier</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recopie-d_0027extraits">recopie d&rsquo;extraits</a></td><td valign="top"><a href="#other-programs">Autres programmes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-redirection">redirection</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repertoire-de-destination">répertoire de destination</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Resolution-des-collisions"><code>Résolution des collisions</code></a></td><td valign="top"><a href="#Voir-aussi-1">Voir aussi</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme-error">Scheme error</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme_002c-evaluation-d_0027expression">Scheme, évaluation d&rsquo;expression</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortie_002c-format">sortie, format</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Staff"><code>Staff</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Utilisation de <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-switches">switches</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntaxe_002c-coloration">syntaxe, coloration</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-taille-du-ficher-de-sortie">taille du ficher de sortie</a></td><td valign="top"><a href="#enabling-point-and-click">Activation du pointer-cliquer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi">texi</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo-1">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Texinfo_002c-musique-et">Texinfo, musique et</a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thumbnail">thumbnail</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titrage-et-HTML">titrage et HTML</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titrage-et-lilypond_002dbook">titrage et lilypond-book</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002c-Scheme">trace, Scheme</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Travail-sur-des-fichiers-texte"><code>Travail sur des fichiers texte</code></a></td><td valign="top"><a href="#independent-includes">4.5 Inclusion du travail des autres</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Tutoriel"><code>Tutoriel</code></a></td><td valign="top"><a href="#normal-usage">1.1 Utilisation habituelle</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type1_002c-polices">type1, polices</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-utilisation-de-dvips">utilisation de dvips</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-verbosite_002c-definir-le-degre-de">verbosité, définir le degré de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vim">vim</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Voice"><code>Voice</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Utilisation de <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Verification-des-limites-et-numeros-de-mesure"><code>Vérification des limites et numéros de mesure</code></a></td><td valign="top"><a href="#music-runs-off-the-page">La musique déborde de la page</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Verification-des-limites-et-numeros-de-mesure-1"><code>Vérification des limites et numéros de mesure</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggestions générales</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Verifications-d_0027octave"><code>Vérifications d'octave</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggestions générales</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-warning">warning</a></td><td valign="top"><a href="#error-messages">1.3 Messages d&rsquo;erreur</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Windows"><code>Windows</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-X">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Xpdf">Xpdf</a></td><td valign="top"><a href="#using-xpdf-for-point-and-click">Utilisation avec Xpdf</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-2">É</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Economie-de-saisie-grace-aux-identificateurs-et-fonctions"><code>Économie de saisie grâce aux identificateurs et fonctions</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggestions générales</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-editeurs">éditeurs</a></td><td valign="top"><a href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Aller &agrave;: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-2" class="summary-letter"><b>É</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td></tr></table>
<h1>Notes de bas de page</h1>
<p class="footnote"><small>[<a name="FOOT1" href="#DOCF1">1</a>]</small> Le statut de GUILE n&rsquo;étant pas réinitialisé après
traitement d&rsquo;un fichier &lsquo;<tt>.ly</tt>&rsquo;, veillez à ne pas modifier les
réglages par défaut du système à partir d&rsquo;assertions en Scheme.
</p><p class="footnote"><small>[<a name="FOOT2" href="#DOCF2">2</a>]</small> Ceci est réalisable tant que le fichier LilyPond
ne contient pas de Scheme.  Dès lors qu&rsquo;un fichier contient du Scheme,
des bribes de langage évolué se retrouvent danas le fichier LilyPond, ce
qui conduit immanquablement au « problème de l&rsquo;arrêt » bien connu en
informatique.
</p><p class="footnote"><small>[<a name="FOOT3" href="#DOCF3">3</a>]</small> Ce manuel étant réalisé avec Texinfo, il se peut que
la mise en forme diverge quelque peu.
</p><p class="footnote"><small>[<a name="FOOT4" href="#DOCF4">4</a>]</small> Sachant que vous ne disposez
pas forcément de PDFLaTeX et LaTeX pour compiler un document
LaTeX, nous vous présentons les deux méthodes.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td></tr></table>
<h1>Table des mati&egrave;res</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Execution-de-lilypond" href="#running-lilypond">1. Exécution de <code>lilypond</code></a>
  <ul class="toc">
    <li><a name="toc-Utilisation-habituelle-1" href="#normal-usage">1.1 Utilisation habituelle</a></li>
    <li><a name="toc-Utilisation-en-ligne-de-commande-1" href="#command_002dline-usage">1.2 Utilisation en ligne de commande</a>
    <ul class="toc">
      <li><a name="toc-Lancement-de-LilyPond-1" href="#invoking-lilypond">Lancement de LilyPond</a>
      <ul class="toc">
        <li><a name="toc-Utilisation-de-LilyPond-avec-les-fonctionnalites-standard-de-l_0027interpreteur" href="#invoking-lilypond">Utilisation de LilyPond avec les fonctionnalités standard de l&rsquo;interpréteur</a></li>
      </ul></li>
      <li><a name="toc-Options-basiques-de-lilypond-1" href="#basic-command-line-options-for-lilypond">Options basiques de <code>lilypond</code></a></li>
      <li><a name="toc-Options-avancees-de-lilypond" href="#advanced-command-line-options-for-lilypond">Options avancées de <code>lilypond</code></a></li>
      <li><a name="toc-Variables-d_0027environnement-1" href="#environment-variables">Variables d&rsquo;environnement</a></li>
      <li><a name="toc-Execution-de-LilyPond-en-mode-protege" href="#lilypond-in-chroot-jail">Exécution de LilyPond en mode protégé</a></li>
    </ul></li>
    <li><a name="toc-Messages-d_0027erreur-1" href="#error-messages">1.3 Messages d&rsquo;erreur</a></li>
    <li><a name="toc-Quelques-erreurs-des-plus-courantes-1" href="#common-errors">1.4 Quelques erreurs des plus courantes</a>
    <ul class="toc">
      <li><a name="toc-La-musique-deborde-de-la-page" href="#music-runs-off-the-page">La musique déborde de la page</a></li>
      <li><a name="toc-Apparition-d_0027une-portee-supplementaire" href="#an-extra-staff-appears">Apparition d&rsquo;une portée supplémentaire</a></li>
      <li><a name="toc-Message-d_0027erreur-Unbound-variable-_0025-1" href="#error-message-unbound-variable-_0025">Message d&rsquo;erreur <code>Unbound variable %</code></a></li>
      <li><a name="toc-Message-d_0027erreur-FT_005fGet_005fGlyph_005fName-1" href="#error-message-ft_005fget_005fglyph_005fname">Message d&rsquo;erreur <code>FT_Get_Glyph_Name</code></a></li>
      <li><a name="toc-staff_002daffinities-devraient-aller-en-ordre-decroissant" href="#warning-staff-affinities-should-only-decrease"><em>staff-affinities</em> devraient aller en ordre décroissant</a></li>
      <li><a name="toc-Message-d_0027erreur-unexpected-_005cnew" href="#error-message-unexpected-new">Message d&rsquo;erreur unexpected <code>\new</code></a></li>
      <li><a name="toc-Cette-voix-requiert-un-_005cvoiceXx-ou-un-reglage-_005cshiftXx" href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting">Cette voix requiert un <code>\voiceXx</code> ou un réglage <code>\shiftXx</code></a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Mise-a-jour-avec-convert_002dly" href="#updating-files-with-convert_002dly">2. Mise à jour avec <code>convert-ly</code></a>
  <ul class="toc">
    <li><a name="toc-LilyPond-est-une-langue-vivante-1" href="#why-does-the-syntax-change_003f">2.1 LilyPond est une langue vivante</a></li>
    <li><a name="toc-Execution-de-convert_002dly" href="#invoking-convert_002dly">2.2 Exécution de <code>convert-ly</code></a></li>
    <li><a name="toc-Options-en-ligne-de-commande-pour-convert_002dly-1" href="#command-line-options-for-convert_002dly">2.3 Options en ligne de commande pour <code>convert-ly</code></a></li>
    <li><a name="toc-Problemes-d_0027execution-de-convert_002dly" href="#problems-running-convert_002dly">2.4 Problèmes d&rsquo;exécution de <code>convert-ly</code></a></li>
    <li><a name="toc-Conversions-manuelles-1" href="#manual-conversions">2.5 Conversions manuelles</a></li>
    <li><a name="toc-Ecriture-de-code-supportant-differentes-versions" href="#writing-code-to-support-multiple-versions">2.6 Écriture de code supportant différentes versions</a></li>
  </ul></li>
  <li><a name="toc-Association-musique_002dtexte-avec-lilypond_002dbook" href="#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a>
  <ul class="toc">
    <li><a name="toc-Exemple-de-document-musicologique-1" href="#an-example-of-a-musicological-document">3.1 Exemple de document musicologique</a></li>
    <li><a name="toc-Association-musique_002dtexte-1" href="#integrating-music-and-text">3.2 Association musique-texte</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-1" href="#latex">3.2.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-1" href="#texinfo">3.2.2 Texinfo</a></li>
      <li><a name="toc-HTML-1" href="#html">3.2.3 HTML</a></li>
      <li><a name="toc-DocBook-1" href="#docbook">3.2.4 DocBook</a></li>
    </ul></li>
    <li><a name="toc-Options-applicables-aux-fragments-de-musique-1" href="#music-fragment-options">3.3 Options applicables aux fragments de musique</a></li>
    <li><a name="toc-Utilisation-de-lilypond_002dbook-1" href="#invoking-lilypond_002dbook">3.4 Utilisation de <code>lilypond-book</code></a></li>
    <li><a name="toc-Extensions-de-nom-de-fichier-1" href="#filename-extensions">3.5 Extensions de nom de fichier</a></li>
    <li><a name="toc-Modeles-pour-lilypond_002dbook" href="#lilypond_002dbook-templates">3.6 Modèles pour lilypond-book</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-2" href="#lilypond_002dbook-templates">3.6.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-2" href="#lilypond_002dbook-templates">3.6.2 Texinfo</a></li>
      <li><a name="toc-html" href="#lilypond_002dbook-templates">3.6.3 html</a></li>
      <li><a name="toc-xelatex" href="#lilypond_002dbook-templates">3.6.4 xelatex</a></li>
    </ul></li>
    <li><a name="toc-Gestion-de-la-table-des-matieres" href="#sharing-the-table-of-contents">3.7 Gestion de la table des matières</a></li>
    <li><a name="toc-Autres-methodes-d_0027association-texte_002dmusique" href="#alternate-methods-of-mixing-text-and-music">3.8 Autres méthodes d&rsquo;association texte-musique</a></li>
  </ul></li>
  <li><a name="toc-Programmes-externes-1" href="#external-programs">4. Programmes externes</a>
  <ul class="toc">
    <li><a name="toc-Pointer_002dcliquer-1" href="#point-and-click">4.1 Pointer-cliquer</a>
    <ul class="toc">
      <li><a name="toc-Configuration-du-systeme" href="#configuring-the-system-for-point-and-click">4.1.1 Configuration du système</a>
      <ul class="toc">
        <li><a name="toc-Utilisation-avec-Xpdf" href="#using-xpdf-for-point-and-click">Utilisation avec Xpdf</a></li>
        <li><a name="toc-Utilisation-avec-GNOME-2" href="#using-gnome-2-for-point-and-click">Utilisation avec GNOME 2</a></li>
        <li><a name="toc-Utilisation-avec-GNOME-3" href="#using-gnome-3-for-point-and-click">Utilisation avec GNOME 3</a></li>
        <li><a name="toc-Configuration-specifique-a-Evince" href="#extra-configuration-for-evince">Configuration spécifique à Evince</a></li>
      </ul></li>
      <li><a name="toc-Activation-du-pointer_002dcliquer-1" href="#enabling-point-and-click">Activation du pointer-cliquer</a></li>
      <li><a name="toc-Pointer_002dcliquer-selectif" href="#selective-point_002dand_002dclick">Pointer-cliquer sélectif</a></li>
    </ul></li>
    <li><a name="toc-LilyPond-et-les-editeurs-de-texte" href="#text-editor-support">4.2 LilyPond et les éditeurs de texte</a>
    <ul class="toc">
      <li><a name="toc-Mode-Emacs-1" href="#emacs-mode">Mode Emacs</a></li>
      <li><a name="toc-Mode-Vim-1" href="#vim-mode">Mode Vim</a></li>
      <li><a name="toc-Autres-editeurs" href="#other-editors">Autres éditeurs</a></li>
    </ul></li>
    <li><a name="toc-Conversion-a-partir-d_0027autres-formats" href="#converting-from-other-formats">4.3 Conversion à partir d&rsquo;autres formats</a>
    <ul class="toc">
      <li><a name="toc-Utilisation-de-midi2ly-1" href="#invoking-midi2ly">4.3.1 Utilisation de <code>midi2ly</code></a></li>
      <li><a name="toc-Utilisation-de-musicxml2ly-1" href="#invoking-musicxml2ly">4.3.2 Utilisation de <code>musicxml2ly</code></a></li>
      <li><a name="toc-Utilisation-de-abc2ly" href="#invoking-abc2ly">4.3.3 Utilisation de <code>abc2ly</code></a></li>
      <li><a name="toc-Utilisation-de-etf2ly" href="#invoking-etf2ly">4.3.4 Utilisation de <code>etf2ly</code></a></li>
      <li><a name="toc-Autres-formats-1" href="#other-formats">4.3.5 Autres formats</a></li>
    </ul></li>
    <li><a name="toc-Inclusion-de-partition-LilyPond-dans-d_0027autres-programmes-1" href="#lilypond-output-in-other-programs">4.4 Inclusion de partition LilyPond dans d&rsquo;autres programmes</a>
    <ul class="toc">
      <li><a name="toc-LuaTex-1" href="#luatex">4.4.1 LuaTex</a></li>
      <li><a name="toc-OpenOffice-et-LibreOffice-1" href="#openoffice-and-libreoffice">OpenOffice et LibreOffice</a></li>
      <li><a name="toc-Autres-programmes-1" href="#other-programs">Autres programmes</a></li>
    </ul></li>
    <li><a name="toc-Inclusion-du-travail-des-autres-1" href="#independent-includes">4.5 Inclusion du travail des autres</a>
    <ul class="toc">
      <li><a name="toc-MIDI-et-articulations-1" href="#midi-articulation">4.5.1 MIDI et articulations</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Suggestions-pour-la-saisie-de-fichiers-LilyPond-1" href="#suggestions-for-writing-files">5. Suggestions pour la saisie de fichiers LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Suggestions-generales" href="#general-suggestions">5.1 Suggestions générales</a></li>
    <li><a name="toc-Gravure-de-musique-existante-1" href="#typesetting-existing-music">5.2 Gravure de musique existante</a></li>
    <li><a name="toc-Projets-d_0027envergure-1" href="#large-projects">5.3 Projets d&rsquo;envergure</a></li>
    <li><a name="toc-Resolution-de-problemes" href="#troubleshooting">5.4 Résolution de problèmes</a></li>
    <li><a name="toc-De-la-commande-make-et-des-fichiers-Makefile-1" href="#make-and-makefiles">5.5 De la commande make et des fichiers Makefile</a></li>
  </ul></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#gnu-free-documentation-license">A. GNU Free Documentation License</a></li>
  <li><a name="toc-Index-de-LilyPond-1" href="#lilypond-index">B. Index de LilyPond</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Couverture (top) du document" rel="start">Racine</a>][<a href="#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="#lilypond-index" title="Index" rel="index">Index</a>][<a href="#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td></tr></table>
<h1>A propos de ce document</h1>
<p>
  Ce document a &eacute;t&eacute; g&eacute;n&eacute;r&eacute; le <em>le 6 ao&ucirc;t 2017</em> par <em>GUB</em> en utilisant <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  Les boutons de navigation ont la signification suivante :
</p>
<table border="1">
  <tr>
    <th> Bouton </th>
    <th> Nom </th>
    <th> Aller &agrave; </th>
    <th> Depuis 1.2.3 aller &agrave;</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">RetourRapide</td>
    <td>D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Racine] </td>
    <td align="center">Racine</td>
    <td>Couverture (top) du document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Table des mati&egrave;res] </td>
    <td align="center">Table des mati&egrave;res</td>
    <td>Table des mati&egrave;res</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">A propos</td>
    <td>A propos (page d&rsquo;aide)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">AvanceRapide</td>
    <td>Chapitre suivant</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Retour</td>
    <td>Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Plus haut] </td>
    <td align="center">Monter</td>
    <td>Section sup&eacute;rieure</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Avant</td>
    <td>Section suivante dans l&rsquo;ordre de lecture</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  Dans cet exemple on est &agrave; <strong> Sous sous section un-deux-trois </strong> dans un document dont la structure est :
</p>

<ul>
  <li> 1. Section un
    <ul>
      <li>1.1 Sous section un-un
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Sous section un-deux
        <ul>
          <li>1.2.1 Sous sous section un-deux-un</li>
          <li>1.2.2 Sous sous section un-deux-deux</li>
          <li>1.2.3 Sous sous section un-deux-trois &nbsp; &nbsp;
            <strong>&lt;== Position </strong></li>
          <li>1.2.4 Sous sous section un-deux-quatre</li>
        </ul>
      </li>
      <li>1.3 Sous section un-trois
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Sous section un-quatre</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Cette page documente LilyPond-2.19.65 (branche de développement).
</p>
<p class="footer_report">
Vos <a href="http://lilypond.org/help-us.html">suggestions</a> sont les bienvenues ; signalez tout bogue en français à la <a href="http://n2.nabble.com/LilyPond-French-Users-f1298960.html">liste francophone des utilisateurs</a> ou en anglais à la <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">liste des utilisateurs</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Autres langues&nbsp;: <a href="usage-big-page.html">English</a>, <a href="usage-big-page.ca.html">català</a>, <a href="usage-big-page.de.html">deutsch</a>, <a href="usage-big-page.es.html">español</a>, <a href="usage-big-page.hu.html">magyar</a>, <a href="usage-big-page.it.html">italiano</a>, <a href="usage-big-page.ja.html">日本語</a>.
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../Documentation/web/manuals.fr.html"
         title="Documentation Index">&lt;&lt; Retour à l'accueil de la documentation</a></p>
<h4 class="toc_header"> <a href="#index" title="Start of the manual">LilyPond &mdash; Utilisation des programmes  v2.19.65 (branche de développement). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Execution-de-lilypond" href="usage-big-page.fr.html#running-lilypond">1. Exécution de <code>lilypond</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Utilisation-habituelle-1" href="usage-big-page.fr.html#normal-usage">1.1 Utilisation habituelle</a>    </li>
    <li class=""><a name="toc-Utilisation-en-ligne-de-commande-1" href="usage-big-page.fr.html#command_002dline-usage">1.2 Utilisation en ligne de commande</a>    </li>
    <li class=""><a name="toc-Messages-d_0027erreur-1" href="usage-big-page.fr.html#error-messages">1.3 Messages d&rsquo;erreur</a>    </li>
    <li class=""><a name="toc-Quelques-erreurs-des-plus-courantes-1" href="usage-big-page.fr.html#common-errors">1.4 Quelques erreurs des plus courantes</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Mise-a-jour-avec-convert_002dly" href="usage-big-page.fr.html#updating-files-with-convert_002dly">2. Mise à jour avec <code>convert-ly</code></a>
  <ul class="toc">
    <li class=""><a name="toc-LilyPond-est-une-langue-vivante-1" href="usage-big-page.fr.html#why-does-the-syntax-change_003f">2.1 LilyPond est une langue vivante</a>    </li>
    <li class=""><a name="toc-Execution-de-convert_002dly" href="usage-big-page.fr.html#invoking-convert_002dly">2.2 Exécution de <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Options-en-ligne-de-commande-pour-convert_002dly-1" href="usage-big-page.fr.html#command-line-options-for-convert_002dly">2.3 Options en ligne de commande pour <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Problemes-d_0027execution-de-convert_002dly" href="usage-big-page.fr.html#problems-running-convert_002dly">2.4 Problèmes d&rsquo;exécution de <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Conversions-manuelles-1" href="usage-big-page.fr.html#manual-conversions">2.5 Conversions manuelles</a>    </li>
    <li class=""><a name="toc-Ecriture-de-code-supportant-differentes-versions" href="usage-big-page.fr.html#writing-code-to-support-multiple-versions">2.6 Écriture de code supportant différentes versions</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Association-musique_002dtexte-avec-lilypond_002dbook" href="usage-big-page.fr.html#lilypond_002dbook">3. Association musique-texte avec <code>lilypond-book</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Exemple-de-document-musicologique-1" href="usage-big-page.fr.html#an-example-of-a-musicological-document">3.1 Exemple de document musicologique</a>    </li>
    <li class=""><a name="toc-Association-musique_002dtexte-1" href="usage-big-page.fr.html#integrating-music-and-text">3.2 Association musique-texte</a>    </li>
    <li class=""><a name="toc-Options-applicables-aux-fragments-de-musique-1" href="usage-big-page.fr.html#music-fragment-options">3.3 Options applicables aux fragments de musique</a>    </li>
    <li class=""><a name="toc-Utilisation-de-lilypond_002dbook-1" href="usage-big-page.fr.html#invoking-lilypond_002dbook">3.4 Utilisation de <code>lilypond-book</code></a>    </li>
    <li class=""><a name="toc-Extensions-de-nom-de-fichier-1" href="usage-big-page.fr.html#filename-extensions">3.5 Extensions de nom de fichier</a>    </li>
    <li class=""><a name="toc-Modeles-pour-lilypond_002dbook" href="usage-big-page.fr.html#lilypond_002dbook-templates">3.6 Modèles pour lilypond-book</a>    </li>
    <li class=""><a name="toc-Gestion-de-la-table-des-matieres" href="usage-big-page.fr.html#sharing-the-table-of-contents">3.7 Gestion de la table des matières</a>    </li>
    <li class=""><a name="toc-Autres-methodes-d_0027association-texte_002dmusique" href="usage-big-page.fr.html#alternate-methods-of-mixing-text-and-music">3.8 Autres méthodes d&rsquo;association texte-musique</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Programmes-externes-1" href="usage-big-page.fr.html#external-programs">4. Programmes externes</a>
  <ul class="toc">
    <li class=""><a name="toc-Pointer_002dcliquer-1" href="usage-big-page.fr.html#point-and-click">4.1 Pointer-cliquer</a>    </li>
    <li class=""><a name="toc-LilyPond-et-les-editeurs-de-texte" href="usage-big-page.fr.html#text-editor-support">4.2 LilyPond et les éditeurs de texte</a>    </li>
    <li class=""><a name="toc-Conversion-a-partir-d_0027autres-formats" href="usage-big-page.fr.html#converting-from-other-formats">4.3 Conversion à partir d&rsquo;autres formats</a>    </li>
    <li class=""><a name="toc-Inclusion-de-partition-LilyPond-dans-d_0027autres-programmes-1" href="usage-big-page.fr.html#lilypond-output-in-other-programs">4.4 Inclusion de partition LilyPond dans d&rsquo;autres programmes</a>    </li>
    <li class=""><a name="toc-Inclusion-du-travail-des-autres-1" href="usage-big-page.fr.html#independent-includes">4.5 Inclusion du travail des autres</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Suggestions-pour-la-saisie-de-fichiers-LilyPond-1" href="usage-big-page.fr.html#suggestions-for-writing-files">5. Suggestions pour la saisie de fichiers LilyPond</a>
  <ul class="toc">
    <li class=""><a name="toc-Suggestions-generales" href="usage-big-page.fr.html#general-suggestions">5.1 Suggestions générales</a>    </li>
    <li class=""><a name="toc-Gravure-de-musique-existante-1" href="usage-big-page.fr.html#typesetting-existing-music">5.2 Gravure de musique existante</a>    </li>
    <li class=""><a name="toc-Projets-d_0027envergure-1" href="usage-big-page.fr.html#large-projects">5.3 Projets d&rsquo;envergure</a>    </li>
    <li class=""><a name="toc-Resolution-de-problemes" href="usage-big-page.fr.html#troubleshooting">5.4 Résolution de problèmes</a>    </li>
    <li class=""><a name="toc-De-la-commande-make-et-des-fichiers-Makefile-1" href="usage-big-page.fr.html#make-and-makefiles">5.5 De la commande make et des fichiers Makefile</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="usage-big-page.fr.html#gnu-free-documentation-license">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-de-LilyPond-1" href="usage-big-page.fr.html#lilypond-index">B. Index de LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: febe2e4ff91dda9227e85274ae045e23c6b4ec28

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.
-->

<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Recherche sur Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Rechercher">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
