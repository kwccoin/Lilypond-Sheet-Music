<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2014 pels autors.

La traducció de la següent nota de copyright s'ofereix com a
cortesia per a les persones de parla no anglesa, però únicament la
nota en anglès té validesa legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

S'atorga permís per copiar, distribuir i/o modificar aquest
document sota els termes de la Llicència de Documentació Lliure de
GNU, versió 1.1 o qualsevol posterior publicada per la Free
Software Foundation; sense cap de les seccions invariants.
S'inclou una còpia d'aquesta llicència dins de la secció titulada
"Llicència de Documentació Lliure de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on Agost 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond: manual d'utilització del programa</title>

<meta name="description" content="LilyPond: manual d'utilització del programa">
<meta name="keywords" content="LilyPond: manual d'utilització del programa">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#index" rel="start" title="LilyPond &mdash; Utilització">
<link href="#lilypond-index" rel="index" title="B. Índex del LilyPond">
<link href="#SEC_Contents" rel="contents" title="Taula de contingus">
<link href="#SEC_About" rel="help" title="Quant a aquest document">
<link rel="stylesheet" type="text/css" title="Default style" href="../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ca" class="usage devStatus">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td></tr></table>
<a name="index"></a>
<h1 class="settitle">LilyPond &mdash; Utilització</h1>

<table class="cartouche" border="1"><tr><td>
<p>Aquest fitxer explica com executar els programes que es
distribueixen amb el LilyPond versió 2.19.65.  A més a més
suggereix certes &ldquo;bones pràctiques&rdquo; per a una utilització eficient.
</p></td></tr></table>







<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#running-lilypond" accesskey="1">1. Execució del LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Operació.
</td></tr>
<tr><td align="left" valign="top"><a href="#updating-files-with-convert_002dly" accesskey="2">2. Actualització de fitxers amb <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Actualitzar els fitxers d&rsquo;entrada.
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook" accesskey="3">3. Running <code>lilypond-book</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  Integrar text i música.
</td></tr>
<tr><td align="left" valign="top"><a href="#external-programs" accesskey="4">4. External programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Barrejar el LilyPond amb altres programes.
</td></tr>
<tr><td align="left" valign="top"><a href="#suggestions-for-writing-files" accesskey="5">5. Suggeriments per escriure fitxers d&rsquo;entrada</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  Bones pràctiques i depuració eficient d&rsquo;errors.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Annexos

</pre></th></tr><tr><td align="left" valign="top"><a href="#gnu-free-documentation-license" accesskey="6">A. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> Llicència d&rsquo;aquest document.
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-index" accesskey="7">B. Índex del LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<table class="cartouche" border="1"><tr><td>
<p>Per a més informació sobre la forma en la qual aquest manual es
relaciona amb la resta de la documentació, o per llegir aquest
manual en altres formats, consulteu <a name="index-Manuals"></a>
<a href="web-big-page.ca.html#manuals">Manuals</a>.
</p>
<p>Si us falta algun manual, trobareu tota la documentació a
<a href="http://lilypond.org">http://lilypond.org/</a>.
</p></td></tr></table>









<hr size="1">
<a name="Execuci_00f3-del-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#index" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#index" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#normal-usage" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Utilització normal &gt; </a>]</td></tr></table>
<a name="running-lilypond"></a>
<h1 class="chapter">1. Execució del LilyPond</h1>

<p>Aquest capítol detalla els aspectes tècnics de l&rsquo;execució del
LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#normal-usage" accesskey="1">1.1 Utilització normal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command_002dline-usage" accesskey="2">1.2 Utilització des de la línia d&rsquo;ordres</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-messages" accesskey="3">1.3 Missatges d&rsquo;error</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#common-errors" accesskey="4">1.4 Errors comuns</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Utilitzaci_00f3-normal"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#running-lilypond" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command_002dline-usage" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Utilització des de la línia d'ordres &gt; </a>]</td></tr></table>
<a name="normal-usage"></a>
<h2 class="section">1.1 Utilització normal</h2>

<p>Gairebé tots els usuaris executen el LilyPond per mitjà d&rsquo;una
interfície gràfica; consulteu <a name="index-Tutorial"></a>
<a href="learning-big-page.ca.html#tutorial">Tutorial</a> si encara
no l&rsquo;heu llegit.
</p>
<hr size="6">
<a name="Utilitzaci_00f3-des-de-la-l_00ednia-d_0027ordres"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#normal-usage" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Utilització normal&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invocació del LilyPond &gt; </a>]</td></tr></table>
<a name="command_002dline-usage"></a>
<h2 class="section">1.2 Utilització des de la línia d&rsquo;ordres</h2>

<p>Aquesta secció conté informació addicional sobre l&rsquo;ús del
LilyPond a la línia d&rsquo;ordres.  Aquesta forma pot ser preferible
per passar-li al programa algunes opcions addicionals.  A més a
més, existeixen alguns programes complementaris &lsquo;de suport&rsquo; (com
ara <code>midi2ly</code>) que sols estan disponibles a la línia d&rsquo;ordres.
</p>
<p>En parlar de la &lsquo;línia d&rsquo;ordres&rsquo;, ens referim a la consola del
sistema operatiu.  Els usuaris del Windows possiblement estiguin
més familiaritzats amb els termes &lsquo;finestra del MS-DOS&rsquo; o
&lsquo;línia de comandes&rsquo;; Els usuaris del MacOS&nbsp;X potser que
estiguin més familiaritzats amb els termes &lsquo;terminal&rsquo; o
&lsquo;consola&rsquo;.  Aquests podrien requerir algunes configuracions
addicionals i haurien de consultar també l&rsquo;apartat <a name="index-MacOS-X"></a>
<a href="web-big-page.ca.html#macos-x">MacOS X</a>.
</p>
<p>La descripció de l&rsquo;ús d&rsquo;aquesta part dels sistemes operatius
excedeix l&rsquo;àmbit d&rsquo;aquest manual; us preguem que consulteu altres
documents sobre aquest tema si no us resulta familiar la línia
d&rsquo;ordres.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-lilypond" accesskey="1">Invocació del <code>lilypond</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#basic-command-line-options-for-lilypond" accesskey="2">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#advanced-command-line-options-for-lilypond" accesskey="3">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#environment-variables" accesskey="4">Variables d&rsquo;entorn</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-in-chroot-jail" accesskey="5">El LilyPond a una gàbia de chroot</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Invocaci_00f3-del-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command_002dline-usage" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="invoking-lilypond"></a>
<h3 class="unnumberedsubsec">Invocació del <code>lilypond</code></h3>

<p>L&rsquo;executable <code>lilypond</code> es pot cridar des d&rsquo;una línia
d&rsquo;ordres de la manera següent:
</p>
<blockquote><pre class="example">lilypond [<var>opció</var>]&hellip; <var>fitxer</var>&hellip;
</pre></blockquote>

<p>Quan s&rsquo;invoca amb un nom de fitxer sense extensió, es prova en
primer lloc amb la extensió &lsquo;<tt>.ly</tt>&rsquo;.  Per llegir l&rsquo;entrada des
de stdin, utilitzeu un guió (<code>-</code>) en substitució de <var>fitxer</var>.
</p>
<p>Quan es processa &lsquo;<tt>archivo.ly</tt>&rsquo;, la sortida resultant són els
fitxers &lsquo;<tt>fitxer.ps</tt>&rsquo; i &lsquo;<tt>fitxer.pdf</tt>&rsquo;.  Es poden
especificar diversos fitxers; cadascú d&rsquo;ells es processarà de
forma independent<sup><a name="DOCF1" href="#FOOT1">1</a></sup>.
</p>
<p>Si &lsquo;<tt>fitxer.ly</tt>&rsquo; conté més d&rsquo;un bloc <code>\score</code>, la resta de
les partitures s&rsquo;obtindran com a sortida en fitxers numerats,
començant per &lsquo;<tt>fitxer-1.pdf</tt>&rsquo;.  A més, el valor de
<code>output-suffix</code> (sufix de sortida) s&rsquo;inserirà entre el nom
base i el número.  Un fitxer de sortida que contingui
</p>
<blockquote><pre class="example">#(define output-suffix &quot;violí&quot;)
\score { &hellip; }
#(define output-suffix &quot;violoncel&quot;)
\score { &hellip; }
</pre></blockquote>

<p>produirà com a sortida <var>base</var>&lsquo;<tt>-violí.pdf</tt>&rsquo; i
<var>base</var>&lsquo;<tt>-violoncel-1.pdf</tt>&rsquo;.
</p>

<hr size="6">
<a name="invoking-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invocació del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#invoking-lilypond" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Invocació del LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Opcions bàsiques de la línia d'ordres per al LilyPond &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">Instruccions estàndard de la línia d&rsquo;ordres</h4>

<p>Si la vostra terminal (o finestra d&rsquo;ordres) contempla les
redireccions normals, potser us siguin d&rsquo;utilitat les següents
instruccions per redirigir la sortida de la consola d&rsquo;un fitxer:
</p>
<ul>
<li>
<code>lilypond fitxer.ly 1&gt;sortidaestandard.log</code> per redirigir la sortida normal

</li><li>
<code>lilypond fitxer.ly 2&gt;sortidaderror.log</code> per redirigir els missatges d&rsquo;error

</li><li>
<code>lilypond fitxer.ly &amp;&gt;tot.log</code> per redirigir tota la sortida

</li></ul>

<p>Consulteu la documentació del vostre intèrpret d&rsquo;ordres per veure
si contempla aquestes opcions, o si la sintaxi és diferent.
Observeu que són instruccions de l&rsquo;intèrpret d&rsquo;ordres i que no
tenen res a veure amb el LilyPond.
</p>
<hr size="6">
<a name="Opcions-b_00e0siques-de-la-l_00ednia-d_0027ordres-per-al-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Opcions avançades de la línia d'ordres per al LilyPond &gt; </a>]</td></tr></table>
<a name="basic-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</h3>

<a name="index-invocacio-de-lilypond"></a>
<a name="index-opcions-de-la-linia-d_0027ordres-per-a-lilypond"></a>
<a name="index-linia-d_0027ordres_002c-opcions-de"></a>
<a name="index-modificadors"></a>

<p>Estan contemplades les opcions següents:
</p>
<dl compact="compact">
<dt> <code>-d, --define-default=<var>variable</var>=<var>valor</var></code></dt>
<dd><p>Vegeu <a href="#advanced-command-line-options-for-lilypond">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</a>.
</p>
<a name="index-Scheme_002c-avaluacio-d_0027expressions"></a>
<a name="index-expressions-del-Scheme_002c-avaluacio"></a>

</dd>
<dt> <code>-e, --evaluate=<var>expressió</var></code></dt>
<dd><p>Avalua l&rsquo;<var>expressió</var> del Scheme abans d&rsquo;analitzar els fitxers
&lsquo;<tt>.ly</tt>&rsquo;.  Es poden passar diverses opcions &lsquo;<samp>-e</samp>&rsquo;, que
s&rsquo;avaluaran en seqüència.
</p>
<p>L&rsquo;expressió s&rsquo;avaluarà al mòdul <code>guile-user</code>, de manera que
si voleu usar definicions dins d&rsquo;<var>expressió</var>, heu d&rsquo;utilitzar
</p>
<blockquote><pre class="example">lilypond -e '(define-public a 42)'
</pre></blockquote>

<p>a la línia d&rsquo;ordres, i incloure
</p>
<blockquote><pre class="example">#(use-modules (guile-user))
</pre></blockquote>

<p>al principi del fitxer &lsquo;<tt>.ly</tt>&rsquo;.
</p>
<div class="warning"><p><strong>Nota:</strong> Els usuaris de Windows han d&rsquo;utilitzar cometes dobles en
comptes de cometes simples.
</p>
</div>
<a name="index-sortida_002c-format"></a>
<a name="index-format_002c-sortida"></a>

</dd>
<dt> <code>-f, --format=<var>format</var></code></dt>
<dd><p>quins formats s&rsquo;han d&rsquo;escriure.  Les opcions per a <code>format</code> són
<code>ps</code>, <code>pdf</code>, i <code>png</code>.
</p>
<p>Exemple: <code>lilypond -fpng <var>fitxer</var>.ly</code>
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Mostra un resum de les formes de utilització.
</p>
</dd>
<dt> <code>-H, --header=<var>CAMP</var></code></dt>
<dd><p>Bolca un camp de capçalera al fitxer &lsquo;<tt>NOMBASE.<var>CAMP</var></tt>&rsquo;
</p>
</dd>
<dt> <code>-i, --init=<var>archivo</var></code></dt>
<dd><p>Establir el fitxer d&rsquo;inici a <var>fitxer</var> (predeterminat:
&lsquo;<tt>init.ly</tt>&rsquo;).
</p>
<a name="index-fitxers_002c-cerca-de"></a>
<a name="index-cerca_002c-ruta-de"></a>

</dd>
<dt> <code>-I, --include=<var>directori</var></code></dt>
<dd><p>Afegir el <var>directori</var> a la ruta de cerca de fitxers
d&rsquo;entrada.
</p>
<p>Es poden escriure diverses opcions -I.  La cerca s&rsquo;inicia al
primer directori definit, i si el fitxer que s&rsquo;ha d&rsquo;incloure no es
troba, la cerca continua als directoris següents.
</p>
<a name="index-chroot_002c-executar-dins-d_0027una-gabia"></a>

</dd>
<dt> <code>-j, --jail=<var>usuari</var>,<var>grup</var>,<var>gàbia</var>,<var>directori</var></code></dt>
<dd><p>Executar <code>lilypond</code> a una gàbia de chroot.
</p>
<p>L&rsquo;opció &lsquo;<samp>--jail</samp>&rsquo; (gàbia) proporciona una alternativa més
flexible a l&rsquo;opció &lsquo;<samp>-dsafe</samp>&rsquo; quan el procés de tipografia
del LilyPond està disponible a un servidor web o quan el LilyPond
executa instruccions enviades per fonts externes
(vegeu <a href="#advanced-command-line-options-for-lilypond">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</a>).
</p>
<p>L&rsquo;opció &lsquo;<samp>--jail</samp>&rsquo; funciona canviant l&rsquo;arrel de
<code>lilypond</code> a <var>gàbia</var> just o abans de començar el
procés de compilació en sí.  Si es fa això es canvien l&rsquo;usuari i
el grup als que s&rsquo;han donat a l&rsquo;opció, i el directori actual es
canvia a <var>directori</var>.  Aquesta instal·lació garanteix que no
és possible, al menys en teoria, escapar a la gàbia.  Observeu que
perquè funcioni &lsquo;<samp>--jail</samp>&rsquo;, s&rsquo;ha d&rsquo;executar
<code>lilypond</code> com root, cosa que normalment es pot fer d&rsquo;una
forma segura utilitzant <code>sudo</code>.
</p>
<p>La instal·lació d&rsquo;una gàbia pot ser un assumpte relativament
complex, atès que hem d&rsquo;assegurar-nos que el LilyPond pot trobar
<em>dins</em> de la pròpia gàbia tot el que necessita per poder
compilar la font.  Una típica configuració de gàbia de chroot
consta dels següents elements:
</p>
<dl compact="compact">
<dt> Preparació d&rsquo;un sistema de fitxers separat</dt>
<dd><p>S&rsquo;ha de crear un sistema de fitxers separat per al LilyPond, de
forma que es pugui muntar amb opcions segures com <code>noexec</code>,
<code>nodev</code> i <code>nosuid</code>.  D&rsquo;aquesta forma, és impossible
executar programes o escriure directament a un dispositiu des del
LilyPond.  Si no voleu crear una partició separada, tan sols té
que crear un fitxer d&rsquo;una mida raonable i usar-lo per muntar un
dispositiu loop.  El sistema de fitxers separat garanteix també
que el LilyPond mai no pugui escriure en un espai major del què se
li permeti.
</p>
</dd>
<dt> Preparar un usuari separat</dt>
<dd><p>Es pot usar un usuari i grup separats (diguem-ne
<code>lily</code>/<code>lily</code>) amb pocs privilegis per executar el
LilyPond dins d&rsquo;una gàbia.  Hauria d&rsquo;existir un sols directori amb
permisos d&rsquo;escriptura per a aquest usuari, i s&rsquo;ha de passar el valor
<var>directori</var>.
</p>
</dd>
<dt> Preparació de la gàbia</dt>
<dd><p>El LilyPond necessita llegir alguns fitxers mentre s&rsquo;executa,
Tots aquests fitxers s&rsquo;han de copiar  dins de la gàbia, sota la
mateixa ruta en la qual apareixen al sistema de fitxers real de
root.  Tot el contingut de la instal·lació del LilyPond (per exemple
&lsquo;<tt>/usr/share/lilypond</tt>&rsquo;) s&rsquo;ha de copiar.
</p>
<p>Si sorgeixen problemes, la forma més senzilla de rastrejar-los és
executar el LilyPond usant <code>strace</code>, cosa que li permetrà
determinar quins fitxers falten.
</p>
</dd>
<dt> Execució del LilyPond</dt>
<dd><p>Dins d&rsquo;una gàbia muntada amb <code>noexec</code> és impossible executar
cap programa extern.  Per tant, el LilyPond s&rsquo;ha d&rsquo;executar amb un
backend que no necessiti un programa extern.  Com ja hem
mencionat, s&rsquo;ha d&rsquo;executar amb privilegis del superusuari (que per
suposat perdrà immediatament), possiblement usant <code>sudo</code>.
També de CPU que el LilyPond pot usar (per exemple usant
<code>ulimit&nbsp;-t</code>), i, si el vostre sistema operatiu ho
contempla, la mida de la memòria que es pot reservar.  Vegeu també
<a href="#lilypond-in-chroot-jail">El LilyPond a una gàbia de chroot</a>.
</p>
</dd>
</dl>

<a name="index-loglevel"></a>
<a name="index-registre_002c-nivell-de"></a>
<a name="index-sortida-neta_002c-fixar-el-nivell"></a>

</dd>
<dt> <code>-l, --loglevel=<var>NIVELL</var></code></dt>
<dd><p>Fixa el grau en el qual la sortida de consola és neta al nivell
<var>NIVELL</var>. Els valors possibles són:
</p>
<dl compact="compact">
<dt> <code>NONE</code></dt>
<dd><p>Cap sortida en absolut, ni tan sols missatges d&rsquo;error.
</p>
</dd>
<dt> <code>ERROR</code></dt>
<dd><p>Sols missatges d&rsquo;error, cap advertiment o indicacions de progrés.
</p>
</dd>
<dt> <code>WARN</code></dt>
<dd><p>Advertiments i missatges d&rsquo;error, no de progrés.
</p>
</dd>
<dt> <code>BASIC_PROGRESS</code></dt>
<dd><p>Missatges de progrés bàsics (èxit), advertiment i errors.
</p>
</dd>
<dt> <code>PROGRESS</code></dt>
<dd><p>Tots els missatges de progrés, advertiments i errors.
</p>
</dd>
<dt> <code>INFO (predeterminat)</code></dt>
<dd><p>Missatges de progrés, advertiments, errors i informació d&rsquo;execució
addicional.
</p>
</dd>
<dt> <code>DEBUG</code></dt>
<dd><p>Tots els missatges possibles, fins i tot la informació detallada de
depuració.
</p></dd>
</dl>

<a name="index-carpeta_002c-dirigir-la-sortida-cap-a"></a>
<a name="index-sortida_002c-establir-el-nom-del-fitxer-de"></a>

</dd>
<dt> <code>-o, --output=<var>FITXER</var> o <var>CARPETA</var></code></dt>
<dd><p>Estableix el nom del fitxer de sortida predeterminat a
<var>FITXER</var> o, si hi ha una carpeta amb aquest nom, dirigeix la
sortida cap a <var>CARPETA</var>, agafant el nom de fitxer del
document d&rsquo;entrada.  S&rsquo;afegeix el sufix corresponent (per exemple,
<code>.pdf</code> per a PDF) als dos casos.
</p>
<a name="index-PS-_0028Postscript_0029_002c-sortida"></a>
<a name="index-Postscript-_0028PS_0029_002c-sortida"></a>
<a name="index-sortida_002c-PS-_0028Postscript_0029"></a>

</dd>
<dt> <code>--ps</code></dt>
<dd><p>Generar PostScript.
</p>
<a name="index-PNG-_0028Portable-Network-Graphics_0029_002c-sortida"></a>
<a name="index-sortida_002c-PNG-_0028Portable-Network-Graphics_0029"></a>

</dd>
<dt> <code>--png</code></dt>
<dd><p>Genera imatges de les pàgines en format PNG.  Això implica
&lsquo;<samp>--ps</samp>&rsquo;.  La resolució en PPP de la imatge es pot establir
amb
</p><blockquote><pre class="example">-dresolution=110
</pre></blockquote>

<a name="index-PDF-_0028format-de-document-portatil_0029_002c-sortida-de"></a>
<a name="index-sortida_002c-PDF-_0028format-de-document-portatil_0029"></a>

</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Genera PDF.  Implica &lsquo;<samp>--ps</samp>&rsquo;.
</p>
</dd>
<dt> <code>-v, --version</code></dt>
<dd><p>Mostra la informació de la versió.
</p>
</dd>
<dt> <code>-V, --verbose</code></dt>
<dd><p>Sigues detallat: mostra les rutes completes de tots els fitxers
que se llegeixen, i dóna informació cronomètrica.
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>Mostra la garantia del GNU LilyPond (no ve amb
<strong>CAP GARANTIA</strong>!).
</p>
</dd>
</dl>


<hr size="6">
<a name="Opcions-avan_00e7ades-de-la-l_00ednia-d_0027ordres-per-al-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Opcions bàsiques de la línia d'ordres per al LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#environment-variables" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Variables d'entorn &gt; </a>]</td></tr></table>
<a name="advanced-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</h3>

<dl compact="compact">
<dt> <code>-d<var>[nom-de-opció]</var>=<var>[valor]</var>, --define-default=<var>[nom-de-opció]</var>=<var>[valor]</var></code></dt>
<dd><p>Estableix la funció del Scheme interna equivalent a <var>valor</var>.
</p>
<blockquote><pre class="example">-dbackend=svg
</pre></blockquote>

<p>Si no es proporciona cap <var>valor</var>, s&rsquo;usa el valor predeterminat
Per desactivar una opció es pot anteposar <code>no-</code> a la
<var>variable</var>, per exemple:
</p>
<a name="index-apuntar-i-clicar_002c-linia-d_0027ordres"></a>

<blockquote><pre class="example">-dno-point-and-click
</pre></blockquote>

<p>és el mateix que
</p><blockquote><pre class="example">-dpoint-and-click=#f
</pre></blockquote>
</dd>
</dl>

<p>Estan contemplades les següents opcions junt als seus
respectius valors  predeterminats:
</p>
<table>
<tr><td width="33%"><strong>Símbol</strong></td><td width="16%"><strong>Valor</strong></td><td width="51%"><strong>Explicació/Opcions</strong></td></tr>
<tr><td width="33%"><code>anti-alias-factor</code> (factor d&rsquo;antiàlies)</td><td width="16%"><code>1</code></td><td width="51%">Renderitza a una major resolució (utilitzant el factor
donat) i redueix l&rsquo;escala del resultat per així evitar
&lsquo;escales&rsquo; a les imatges <code>PNG</code>.</td></tr>
<tr><td width="33%"><code>aux-files</code> (fitxers auxiliars)</td><td width="16%"><code>#t</code></td><td width="51%">Crea fitxeres  <code>.tex</code>, <code>.texi</code>, <code>.count</code> al
&lsquo;back-end&rsquo; <code>EPS</code>.</td></tr>
<tr><td width="33%"><code>backend</code></td><td width="16%"><code>ps</code></td><td width="51%">Selecciona un &lsquo;rerefons&rsquo;.  Els fitxers (l&rsquo;opció
predeterminada) inclouen els tipus tipogràfics de lletra <code>TTF</code>,
<code>Type1</code> i <code>OTF</code>.  No es fa cap subconjunt d&rsquo;aquests tipus
de lletra.  L&rsquo;ús de conjunts de  caràcters &lsquo;orientals&rsquo; pot
produir fitxers molts grans.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>eps</code></td><td width="51%">PostScript encapsulat.  Bolca cada pàgina o sistema com un
fitxer &lsquo;<tt>EPS</tt>&rsquo; diferent, sense tipus tipogràfics de lletra, i
com un fitxer &lsquo;<tt>EPS</tt>&rsquo; enquadernat amb totes les pàgines o
sistemes que inclouen els tipus de lletra.  Utilitzat com a opció
predeterminada per part de <code>lilypond-book</code>.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>null</code></td><td width="51%">No produeixes cap partitura impresa a la sortida; té el
mateix efecte que <code>-dno-print-pages</code>.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>svg</code></td><td width="51%">Gràfics vectorials escalables.  Crea un únic fitxer
<code>SVG</code>, sense tipus tipogràfics de lletra incrustats, per a
cada pàgina de sortida.  Es recomana instal·lar el tipus de lletra
Century Schoolbook, que està inclòs a la instal·lació del
LilyPond, per a un renderitzat òptim.  Sota l&rsquo;UNIX, bastarà amb
que copieu aquests fitxers de tipus de lletra del directori del
Lilypond (normalment &lsquo;<tt>/usr/share/lilypond/VERSION/fonts/otf/</tt>&rsquo;)
al directori &lsquo;<tt>~/.fonts/</tt>&rsquo;.  La sortida <code>SVG</code> hauria de
ser compatible amb qualsevol editor o client de SVG.  També hi ha
una opció <code>svg-woff</code> (vegeu més avall) per usar els fitxers
de tipus de lletra woff al &lsquo;rerefons&rsquo; SVG.</td></tr>
<tr><td width="33%"></td><td width="16%"><code>scm</code></td><td width="51%">Bolcat de les instruccions de dibuix internes basades en
Scheme, en brut.</td></tr>
<tr><td width="33%"><code>check-internal-types</code>
n</td><td width="16%"><code>#f</code></td><td width="51%">Comprova el tipus de cada assignació de propietats.</td></tr>
<tr><td width="33%"><code>clip-systems</code> (retalla els sistemes de pentagrames)</td><td width="16%"><code>#f</code></td><td width="51%">Genera framents d&rsquo;imatge retallats d&rsquo;una partitura.</td></tr>
<tr><td width="33%"><code>datadir</code> (directori de dades)</td><td width="16%"></td><td width="51%">Prefix dels fitxers de dades (sols lectura).</td></tr>
<tr><td width="33%"><code>debug-gc</code></td><td width="16%"><code>#f</code></td><td width="51%">Bolca estadístiques de depuració de memòria.</td></tr>
<tr><td width="33%"><code>debug-gc-assert-parsed-dead</code></td><td width="16%"><code>#f</code></td><td width="51%">Per a la depuració de memòria: assegura&rsquo;t que totes les
referències a objectes analitzats estiguin mortes.  És una opció
interna, i s&rsquo;activa automàticament per a <code>`-ddebug-gc'</code>.</td></tr>
<tr><td width="33%"><code>debug-lexer</code></td><td width="16%"><code>#f</code></td><td width="51%">Depuració de l&rsquo;analitzador lèxic flex.</td></tr>
<tr><td width="33%"><code>debug-page-breaking-scoring</code></td><td width="16%"><code>#f</code></td><td width="51%">Bolca les partitures per a moltes configuracions de salts de
pàgina diferents.</td></tr>
<tr><td width="33%"><code>debug-parser</code></td><td width="16%"><code>#f</code>
f</td><td width="51%">Depuració de l&rsquo;analitzador sintàctic bison.</td></tr>
<tr><td width="33%"><code>debug-property-callbacks</code></td><td width="16%"><code>#f</code></td><td width="51%">Depuració de les cadenes cícliues de funcions de callback.</td></tr>
<tr><td width="33%"><code>debug-skylines</code></td><td width="16%"><code>#f</code></td><td width="51%">Depuració de les línies de horitzó.</td></tr>
<tr><td width="33%"><code>delete-intermediate-files</code></td><td width="16%"><code>#t</code></td><td width="51%">Elimina els fitxers intermedis <code>.ps</code> inútils que es
creen durant la compilació.</td></tr>
<tr><td width="33%"><code>dump-cpu-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">Bolcar informació de comptabilització del temps (dependent
del sistema).</td></tr>
<tr><td width="33%"><code>dump-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">Bolca la informació de memòria i de temps de cada fitxer.</td></tr>
<tr><td width="33%"><code>dump-signatures</code></td><td width="16%"><code>#f</code></td><td width="51%">Bolca les signatures de sortida de cada sistema.  Usat per a
les proves de regressió.</td></tr>
<tr><td width="33%"><code>eps-box-padding</code></td><td width="16%"><code>#f</code></td><td width="51%">Omple la vora esquerra de la capsa contenidora de l&rsquo;EPS de
sortida en la quantitat donada (en mm).</td></tr>
<tr><td width="33%"><code>gs-load-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Carrega els tipus tipogràfics de lletra a través del Ghostscript.</td></tr>
<tr><td width="33%"><code>gs-load-lily-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Carrega sols els tipus de lletra del LilyPond per mitjà del
Ghostscript.</td></tr>
<tr><td width="33%"><code>gui</code></td><td width="16%"><code>#f</code></td><td width="51%">S&rsquo;executa silenciosament i es redirigeix tota la sortida a un
fitxer de registre.</td></tr>
</table>

<p><strong>Nota per als usuaris del Windows:</strong> De manera predeterminada,
<code>lilypond.exe</code> dirigeix tota la sortida de la informació
d&rsquo;avenç cap a la finestra de consola, <code>lilypond-windows.exe</code>
no ho fa i retorna un indicador del sistema, sense cap indicació
d&rsquo;avenç, immediatament en la línia d&rsquo;ordres.  L&rsquo;opció
&lsquo;<samp>-dgui</samp>&rsquo; es pot usar en aquest cas per redirigir la sortida
a un fitxer de registre.
</p>
<table>
<tr><td width="33%"><code>help</code></td><td width="16%"><code>#f</code></td><td width="51%">Mostra aquesta ajuda</td></tr>
<tr><td width="33%"><code>include-book-title-preview</code></td><td width="16%"><code>#t</code></td><td width="51%">Inclou els títols de llibre a les imatges de vista prèvia.</td></tr>
<tr><td width="33%"><code>include-eps-fonts</code></td><td width="16%"><code>#t</code></td><td width="51%">Incloure els tipus tipogràfics de fonts als fitxers EPS de
cadascú dels sistemes.</td></tr>
<tr><td width="33%"><code>include-settings</code></td><td width="16%"><code>#f</code></td><td width="51%">Inclou el fitxer dels ajustos globals, s&rsquo;inclou abans que la
partitura es processi.</td></tr>
<tr><td width="33%"><code>job-count</code></td><td width="16%"><code>#f</code></td><td width="51%">Processa en paral·lel, usant el nombre de tasques donat.</td></tr>
<tr><td width="33%"><code>log-file</code></td><td width="16%"><code>#f [fitxer]</code></td><td width="51%">Si es dóna a una cadena <code>fitxer</code> como a segon argument,
redirigeix la sortida al fitxer de registre <code>fitxer.log</code>.</td></tr>
<tr><td width="33%"><code>max-markup-depth</code></td><td width="16%"><code>1024</code></td><td width="51%">Profunditat màxima de l&rsquo;arbre de l&rsquo;etiquetatge.  Si un
etiquetatge té més nivells, suposa que no acabarà per sí mateix,
imprimint un advertiment i retornant en el seu lloc un element
d&rsquo;etiquetatge nul.</td></tr>
<tr><td width="33%"><code>midi-extension</code></td><td width="16%"><code>&quot;midi&quot;</code></td><td width="51%">Fixa l&rsquo;extensió de fitxer predeterminat per al fitxer de
sortida MIDI a la cadena donada.</td></tr>
<tr><td width="33%"><code>music-strings-to-paths</code></td><td width="16%"><code>#f</code></td><td width="51%">Converteix les cadenes de text a rutes quan els glifs
pertanyen a un tipus de lletra de tipografia musical.</td></tr>
<tr><td width="33%"><code>paper-size</code></td><td width="16%"><code>\&quot;a4\&quot;</code></td><td width="51%">Estableix la mida predeterminada del paper.  Observeu que la
cadena ha d&rsquo;anar tancada entre cometes dobles.</td></tr>
<tr><td width="33%"><code>pixmap-format</code></td><td width="16%"><code>png16m</code></td><td width="51%">Fixa el format de sortida del Ghostsript per a les imatges de píxels.</td></tr>
<tr><td width="33%"><code>point-and-click</code></td><td width="16%"><code>#f</code></td><td width="51%">Afegeix enllaços d&rsquo;&lsquo;apuntar i
clicar&rsquo; a la sortida <code>PDF</code>. Vegeu
<a href="#point-and-click">Point and click</a>.</td></tr>
<tr><td width="33%"><code>preview</code></td><td width="16%"><code>#f</code></td><td width="51%">Crea imatges de vista prèvia a més de la sortida normal.</td></tr>
</table>

<p>Aquesta opció està contemplada per tots els &lsquo;rerefons&rsquo;: <code>pdf</code>,
<code>png</code>, <code>ps</code>, <code>eps</code> i <code>svg</code>, però no per
<code>scm</code>.  Genera un fitxer de sortida, en la forma
<code>elmeuFitxer.preview.extensió</code>, que conté els títols i el
primer sistema de la música.  Si s&rsquo;estan utilitzant blocs
<code>\book</code> o <code>\bookpart</code>, apareixen a la sortida els títols de
<code>\book</code>, <code>\bookpart</code> o <code>\score</code>, inclòs el primer
sistema de cada bloc <code>\score</code> si la variable de <code>\paper</code>
<code>print-all-headers</code> està fixada al valor <code>#t</code>.
</p>
<p>Per suprimir la sortida actual, utilitzeu les opcions
&lsquo;<samp>-dprint-pages</samp>&rsquo; o &lsquo;<samp>-dno-print-pages</samp>&rsquo; segons les
vostres necessitats.
</p>
<table>
<tr><td width="33%"><code>print-pages</code></td><td width="16%"><code>#t</code></td><td width="51%">Genera pàgines completes (és l&rsquo;opció predeterminada).  És útil
&lsquo;<samp>-dno-print-pages</samp>&rsquo; en combinació amb &lsquo;<samp>-dpreview</samp>&rsquo;.</td></tr>
<tr><td width="33%"><code>profile-property-accesses</code></td><td width="16%"><code>#f</code></td><td width="51%">Conserva les estadístiques de les crides de funció
<code>get_property()</code>.</td></tr>
<tr><td width="33%"><code>protected-scheme-parsing</code></td><td width="16%"><code>#t</code></td><td width="51%">Continua quan es capten a l&rsquo;analitzador sintàctic errors del
Scheme encastat.  Si es fixa a <code>#f</code>, detenir-se quan hi hagi
errors i imprimir un registre de traça de pila.</td></tr>
<tr><td width="33%"><code>read-file-list</code></td><td width="16%"><code>#f [fitxer]</code></td><td width="51%">Especifica el nom d&rsquo;un fitxer que conté una llista de fitxers
d&rsquo;entrada per processar.</td></tr>
<tr><td width="33%"><code>relative-includes</code></td><td width="16%"><code>#f</code></td><td width="51%">Quan es processa una instrucció <code>\include</code>, cerca el
fitxer inclòs de forma relativa al fitxer actual (enlloc del
fitxer principal).</td></tr>
<tr><td width="33%"><code>resolution</code></td><td width="16%"><code>101</code></td><td width="51%">Fixa la resolució per generar imatges de píxels <code>PNG</code> al
valor donat (en ppp).</td></tr>
<tr><td width="33%"><code>safe</code></td><td width="16%"><code>#f</code></td><td width="51%">No confiïs en l&rsquo;entrada <code>.ly</code>.</td></tr>
</table>

<p>Quan el servei de tipografia està disponible a través d&rsquo;un
servidor web, <b>S&rsquo;HAN DE</b> passar les opcions &lsquo;<samp>--safe</samp>&rsquo; o
&lsquo;<samp>--jail</samp>&rsquo;.  L&rsquo;opció &lsquo;<samp>--safe</samp>&rsquo; evita que el codi del
Scheme faci un desastre, per exemple:
</p>
<blockquote><pre class="verbatim">#(system &quot;rm -rf /&quot;)
{
  c4^$(ly:gulp-file &quot;/etc/passwd&quot;)
}
</pre></blockquote>

<p>L&rsquo;opció &lsquo;<samp>-dsafe</samp>&rsquo; funciona avaluant les expressions del
Scheme en línia dins d&rsquo;un mòdul segur especial.  Deriva del mòdul
&lsquo;<tt>safe-r5rs</tt>&rsquo; del GUILE, però a més afegeix unes quantes
funcions de l&rsquo;API del LilyPond que estan relacionades en
&lsquo;<tt>scm/safe-lily.scm</tt>&rsquo;.
</p>
<p>A més, el mode segur prohibeix les directives <code>\include</code> i
desactiva la utilització de barres invertides a les cadene de
TeX.  A més, no és possible importar variables del LilyPond
dins del Scheme quan s&rsquo;està em mode segur.
</p>
<p>&lsquo;<samp>-dsafe</samp>&rsquo; <em>no</em> detecta la sobreutilitizació de
recursos, per la qual cosa encara és possible fer que el programa
es pengi indefinidament, per exemple subministrant estructures de
dades cícliques en el rerefons.  Per això, si esteu usant el
LilyPond en un servidor web accessible públicament, el procés s&rsquo;ha
de limitar tant en l&rsquo;ús de memòria com de CPU.
</p>
<p>El mode segur evita que es puguin compilar molts fragments de codi
útils.
</p>
<p>L&rsquo;opció &lsquo;<samp>--jail</samp>&rsquo; és una alternativa encara més segura, però
requereix més feina per a la seva configuració.  Vegeu
<a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a>.
</p>
<table>
<tr><td width="33%"><code>separate-log-files</code></td><td width="16%"><code>#f</code></td><td width="51%">Per als fitxers d&rsquo;entrada <code>FITXER1.ly</code>,
<code>FITXER2.ly</code>, etc., treu les dades de registre cap als
fitxers <code>FITXER1.log</code>, <code>FITXER2.log</code>&hellip;</td></tr>
<tr><td width="33%"><code>show-available-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Llista tots els noms dels tipus tipogràfics de lletra
disponibles.</td></tr>
<tr><td width="33%"><code>strict-infinity-checking</code></td><td width="16%"><code>#f</code></td><td width="51%">Força una terminació abrupta si es troben les excepcions de
punt flotant <code>Inf</code> i <code>NaN</code>.</td></tr>
<tr><td width="33%"><code>strip-output-dir</code></td><td width="16%"><code>#t</code></td><td width="51%">No usis els directoris dels fitxers d&rsquo;entrada en construir
els noms dels fitxers de sortida.</td></tr>
<tr><td width="33%"><code>strokeadjust</code></td><td width="16%"><code>#f</code></td><td width="51%">Força l&rsquo;ajust dels traços de PostScript.  Aquesta opció és
rellevant principalment quan es genera un <code>PDF</code> a partir de
la sortida de PostScript (l&rsquo;ajust del traç està en general activat
automàticament per a dispositius de mapa de punts de baixa
resolució).  Sense aquesta opció, els visors de <code>PDF</code>
tendeixen a produir amplades de plica molt poc consistents a les
resolucions típiques de les pantalles d&rsquo;ordinador.  L&rsquo;opció no
afecta de forma molt significativa a la qualitat de la impressió i
causa grans increments a la mida del fitxer <code>PDF</code>.</td></tr>
<tr><td width="33%"><code>svg-woff</code></td><td width="16%"><code>#f</code></td><td width="51%">Usar fitxers de tipus tipogràfic de lletra de woff al
rerefons SVG.</td></tr>
<tr><td width="33%"><code>trace-memory-frequency</code></td><td width="16%"><code>#f</code></td><td width="51%">Registra l&rsquo;ús de cèl·lules del Scheme aquesta quantitat de
vegades per segon.  Bolca els resultats en <code>FITXER.stacks</code> i
en <code>FITXER.graph</code>.</td></tr>
<tr><td width="33%"><code>trace-scheme-coverage</code></td><td width="16%"><code>#f</code></td><td width="51%">Registra la cobertura dels fitxers del Scheme a <code>FITXER.cov</code>.</td></tr>
<tr><td width="33%"><code>verbose</code></td><td width="16%"><code>#f</code></td><td width="51%">Sortida detallada, és a dir el nivell de registre en DEBUT
(sols lectura).</td></tr>
<tr><td width="33%"><code>warning-as-error</code></td><td width="16%"><code>#f</code></td><td width="51%">Canvia tots els missatges d&rsquo;advertiment i de &lsquo;error de
programació&rsquo; a errors.</td></tr>
</table>


<hr size="6">
<a name="Variables-d_0027entorn"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Opcions avançades de la línia d'ordres per al LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-in-chroot-jail" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;El LilyPond a una gàbia de chroot &gt; </a>]</td></tr></table>
<a name="environment-variables"></a>
<h3 class="unnumberedsubsec">Variables d&rsquo;entorn</h3>

<a name="index-LANG"></a>
<a name="index-LILYPOND_005fDATADIR"></a>

<p><code>lilypond</code> reconeix les següents variables d&rsquo;entorn:
</p><dl compact="compact">
<dt> <code>LILYPOND_DATADIR</code></dt>
<dd><p>Especifica un directori en el qual els missatges de localització i
de dades es buscaran de forma predeterminada.  El directori ha de
contenir subdirectoris anomenats &lsquo;<tt>ly/</tt>&rsquo;, &lsquo;<tt>ps/</tt>&rsquo;,
&lsquo;<tt>tex/</tt>&rsquo;, etc.
</p>
</dd>
<dt> <code>LANG</code></dt>
<dd><p>Selecciona l&rsquo;idioma dels missatges d&rsquo;advertiment.
</p>
</dd>
<dt> <code>LILYPOND_LOGLEVEL</code></dt>
<dd><p>Nivell de registre predeterminat.  Si el LilyPond es crida sense
cap nivell de registre explícit (és a dir, sense opció de línia d&rsquo;ordres
&lsquo;<samp>--loglevel</samp>&rsquo;), s&rsquo;usa aquest valor.
</p>
</dd>
<dt> <code>LILYPOND_GC_YIELD</code></dt>
<dd><p>Una variable, com a percentatge, que ajusta el comportament de
l&rsquo;administració de memòria.  Amb valors més alts, el programa usa
més memòria; amb valors més baixos, usa més temps de CPU.  El
valor predeterminat és <code>70</code>.
</p>
</dd>
</dl>


<hr size="6">
<a name="El-LilyPond-a-una-g_00e0bia-de-chroot"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#environment-variables" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Variables d'entorn&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Utilització des de la línia d'ordres&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-messages" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Missatges d'error &gt; </a>]</td></tr></table>
<a name="lilypond-in-chroot-jail"></a>
<h3 class="unnumberedsubsec">El LilyPond a una gàbia de chroot</h3>

<p>La preparació del servidor perquè executi el LilyPond a una gàbia
de chroot és una tasca molt complicada.  Els passos estan
relacionats més avall.  Els exemples que apareixen en cadascú dels
passos son vàlids per a Ubuntu GNU/Linux, i poden requerir l&rsquo;ús de
<code>sudo</code> segons correspongui.
</p>
<ul>
<li> Instal·leu els paquets necessaris: el LilyPond, el Ghostscript i l&rsquo;ImageMagick.

</li><li> Creeu un usuari nou amb el nom de <code>lily</code>:

<blockquote><pre class="example">adduser lily
</pre></blockquote>

<p>Això també crearà un nou grup per a l&rsquo;usuari <code>lily</code>, i una
carpeta personal, <code>/home/lily</code>
</p>
</li><li> A la carpeta personal de l&rsquo;usuari <code>lily</code>, creeu un fitxer per usar-lo com a sistema de fitxers separat:

<blockquote><pre class="example">dd if=/dev/zero of=/home/lily/loopfile bs=1k count= 200000
</pre></blockquote>

<p>Aquest exemple crea un fitxer de 200MB per al seu ús com el
sistema de fitxers de la gàbia.
</p>
</li><li> Creeu un dispositiu loop, feu un sistema de fitxers i munteu-lo,
després creeu una carpeta que es pugui escriure per l&rsquo;usuari
<code>lily</code>:

<blockquote><pre class="example">mkdir /mnt/lilyloop
losetup /dev/loop0 /home/lily/loopfile
mkfs -t ext3 /dev/loop0 200000
mount -t ext3 /dev/loop0 /mnt/lilyloop
mkdir /mnt/lilyloop/lilyhome
chown lily /mnt/lilyloop/lilyhome
</pre></blockquote>

</li><li> En la configuració dels servidors, JAIL serà <code>/mnt/lilyloop</code>
i DIR serà <code>/lilyhome</code>.

</li><li> Creeu un gran arbre de directoris dins de la gàbia copiant els
fitxers necessaris, com es mostra en el guió d&rsquo;exemple que apareix
més avall.

<p>Podeu usar <code>sed</code> per crear els fitxeres de còpia necessaris per a
un executable donat:
</p>
<blockquote><pre class="example">for i in &quot;/usr/local/lilypond/usr/bin/lilypond&quot; &quot;/bin/sh&quot; &quot;/usr/bin/;  \
  do ldd $i | sed 's/.*=&gt; \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp;  \
    cp -L \/\1\2 \1\2/' | sed 's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p  \
      \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed '/.*=&gt;.*/d'; done
</pre></blockquote>

</li></ul>

<a name="Guio-d_0027exemple-per-a-l_0027Ubuntu-8_002e04-de-32-bits"></a>
<h3 class="subheading">Guió d&rsquo;exemple per a l&rsquo;Ubuntu 8.04 de 32 bits</h3>

<blockquote><pre class="example">#!/bin/sh
## aquí es fixen els valors predeterminats

username=lily
home=/home
loopdevice=/dev/loop0
jaildir=/mnt/lilyloop
# prefix (sense la barra inicial!)
lilyprefix=usr/local
# el directori en el qual el LilyPond es troba instal·lat en el sistema
lilydir=/$lilyprefix/lilypond/

userhome=$home/$username
loopfile=$userhome/loopfile
adduser $username
dd if=/dev/zero of=$loopfile bs=1k count=200000
mkdir $jaildir
losetup $loopdevice $loopfile
mkfs -t ext3 $loopdevice 200000
mount -t ext3 $loopdevice $jaildir
mkdir $jaildir/lilyhome
chown $username $jaildir/lilyhome
cd $jaildir

mkdir -p bin usr/bin usr/share usr/lib usr/share/fonts $lilyprefix tmp
chmod a+w tmp

cp -r -L $lilydir $lilyprefix
cp -L /bin/sh /bin/rm bin
cp -L /usr/bin/convert /usr/bin/gs usr/bin
cp -L /usr/share/fonts/truetype usr/share/fonts

# Ara la màgia de copiar les biblioteques
for i in &quot;$lilydir/usr/bin/lilypond&quot; &quot;$lilydir/usr/bin/guile&quot; &quot;/bin/sh&quot;  \
  &quot;/bin/rm&quot; &quot;/usr/bin/gs&quot; &quot;/usr/bin/convert&quot;; do ldd $i | sed 's/.*=&gt;  \
    \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed  \
      's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/'  \
        | sed '/.*=&gt;.*/d'; done | sh -s

# Els fitxers compartits per al ghostcript...
      cp -L -r /usr/share/ghostscript usr/share
# Els fitxers compartits per a l'ImageMagick
      cp -L -r /usr/lib/ImageMagick* usr/lib

### Ara, suposant que tenim test.ly a /mnt/lilyloop/lilyhome,
### hauríem de poder executar:
### Observeu que /$lilyprefix/bin/lilypond és un guió, que estableix
### un valor per a LD_LIBRARY_PATH : això és crucial
      /$lilyprefix/bin/lilypond -jlily,lily,/mnt/lilyloop,/lilyhome test.ly
</pre></blockquote>


<hr size="6">
<a name="Missatges-d_0027error"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-in-chroot-jail" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; El LilyPond a una gàbia de chroot&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#common-errors" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Errors comuns &gt; </a>]</td></tr></table>
<a name="error-messages"></a>
<h2 class="section">1.3 Missatges d&rsquo;error</h2>

<a name="index-error_002c-missatges-d_0027error"></a>
<a name="index-missatges-d_0027error"></a>

<p>Poden aparèixer diferents missatges d&rsquo;error en compilar un fitxer:
</p>
<dl compact="compact">
<dt> <em>Advertiment</em></dt>
<dd><a name="index-advertiment"></a>
<p>Alguna cosa té un aspecte sospitós.  Si estem demanant quelcom
fora del comú, entendrem el missatge i podrem ignorar-lo.  Tot i
així, els advertiments solen indicar que alguna cosa va mal amb el
fitxer d&rsquo;entrada.
</p>
</dd>
<dt> <em>Error</em></dt>
<dd><a name="index-error"></a>
<p>És clar que alguna cosa va malament.  El pas actual del
processament (anàlisi, interpretació o format visual) es donarà
per acabat, però el pas següent se saltarà.
</p>
</dd>
<dt> <em>Error fatal</em></dt>
<dd><a name="index-error-fatal"></a>
<a name="index-fatal_002c-error"></a>
<p>És clar que alguna cosa va malament, i el LilyPond no pot
continuar.  Poques vegades passa això.  La causa més freqüent són
els tipus de lletra mal instal·lats.
</p>
</dd>
<dt> <em>Error del Scheme</em></dt>
<dd><a name="index-traca-del-Scheme"></a>
<a name="index-crides_002c-traca-de"></a>
<a name="index-Scheme_002c-error-de"></a>
<a name="index-error-del-Scheme"></a>
<p>Els errors que ocorren en executar el codi del Scheme
s&rsquo;intercepten per part de l&rsquo;intèrpret del Scheme.  Si s&rsquo;està
executant amb les opcions &lsquo;<samp>-V</samp>&rsquo; o &lsquo;<samp>--verbose</samp>&rsquo;
(detallat) aleshores s&rsquo;imprimeix una traça de crides de la funció
ofensiva.
</p>
</dd>
<dt> <em>Error de programació</em></dt>
<dd><a name="index-error-de-programacio"></a>
<a name="index-programacio_002c-error-de"></a>
<p>Hi ha hagut algun tipus d&rsquo;inconsistència interna.  Aquests
missatges d&rsquo;error estan orientats a ajudar als programadors i als
depuradors.  Normalment es poden ignorar.  En ocasions apareixen
en quantitats tan grans que poden entorpir la visió d&rsquo;altres
missatges de sortida.
</p>
</dd>
<dt> <em>Abort (bolcat de core)</em></dt>
<dd><p>Això senyala un error de programació seriós que ha causat la
interrupció abrupta del programa.  Aquests errors es consideren
crítics.  Si es topa amb un, envieu un informe de fallada.
</p></dd>
</dl>

<a name="index-error_002c-format-dels-missatges-de"></a>

<p>Si els errors i advertiments es poden lligar a un punt del fitxer
d&rsquo;entrada, els missatges tenen la forma següent:
</p>
<blockquote><pre class="example"><var>fitxer</var>:<var>línia</var>:<var>columna</var>: <var>missatge</var>
<var>línia d'entrada problemàtica</var>
</pre></blockquote>

<p>S&rsquo;insereix un salt de línia a la línia problemàtica per indicar la
columna on es va trobar l&rsquo;error.  Per exemple,
</p>
<blockquote><pre class="example">prova.ly:2:19: error: no és una duració: 5
  { c'4 e'
           5 g' }
</pre></blockquote>

<p>Aquestes posicions són la millor suposició del LilyPond sobre on
s&rsquo;ha produït el missatge d&rsquo;error, però (per la seva pròpia
naturalesa) els advertiment i errors es produeixen quan passa
quelcom inesperat.  Si no veieu un error a la línia que s&rsquo;indica
del fitxer d&rsquo;entrada, intenteu comprovar una o dues línies per
sobre de la posició indicada.
</p>
<p>S&rsquo;ofereix més informació sobre els errors a la secció <a href="#common-errors">Errors comuns</a>.
</p>
<hr size="6">
<a name="Errors-comuns"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-messages" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Missatges d'error&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-runs-off-the-page" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;La música se surt de la pàgina &gt; </a>]</td></tr></table>
<a name="common-errors"></a>
<h2 class="section">1.4 Errors comuns</h2>

<p>Les condicions d&rsquo;error que es descriuen més a sota es produeixen
amb freqüència, tot i que la causa no és òbvia o fàcil de trobar.
Un cop se han vist i comprès, es gestionen sense problema.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#music-runs-off-the-page" accesskey="1">La música se surt de la pàgina</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#an-extra-staff-appears" accesskey="2">Apareix un pentagrama de més</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unbound-variable-_0025" accesskey="3">Missatge d&rsquo;error Unbound variable %</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname" accesskey="4">Missatge d&rsquo;error FT_Get_Glyph_Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#warning-staff-affinities-should-only-decrease" accesskey="5">Advertiment sobre que les afinitats del pentagrama sols han de decrèixer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unexpected-new" accesskey="6">Missatge d&rsquo;error Unexpected new <code>\new</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="La-m_00fasica-se-surt-de-la-p_00e0gina"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#common-errors" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Errors comuns&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-extra-staff-appears" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Apareix un pentagrama de més &gt; </a>]</td></tr></table>
<a name="music-runs-off-the-page"></a>
<h3 class="unnumberedsubsec">La música se surt de la pàgina</h3>

<p>La música que se surt de la pàgina pel marge dret o que apareix
exageradament comprimida està causada gairebé sempre per haver
introduït una duració incorrecta per a una nota, produint que la
nota final d&rsquo;un compàs s&rsquo;estengui més enllà de la línia
divisòria.  Això no és invàlid si la nota final d&rsquo;un compàs no
acaba sobre la línia divisòria introduïda automàticament, atès que
simplement se suposa que la nota se solapa a sobre del compàs
següent.  Però si es produeix una seqüència llarga d&rsquo;aquestes
notes solapades, la música pot aparèixer comprimida o sortir-se
de la pàgina perquè els salts de línia automàtiques solament se
poden inserir al final dels compassos complets, és a dir, els
compassos en els quals totes les notes acaben abans o just al
final del compàs.
</p>
<div class="warning"><p><strong>Nota:</strong> Una duració incorrecta pot fer que s&rsquo;inhibeixin els salts
de línia, el que portaria a una sola línia de música molt
comprimida o que se surti de la pàgina.
</p>
</div>
<p>La duració incorrecta es pot trobar fàcilment si s&rsquo;utilitzen
comprovacions de compàs, vegeu
<a name="index-Comprovacio-de-compas-i-de-numero-de-compas"></a>
<a href="notation-big-page.ca.html#bar-and-bar-number-checks">Comprovació de compàs i de número de compàs</a>.
</p>
<p>Si realment volem tenir una sèrie d&rsquo;aquests compassos amb notes
solapades, hem d&rsquo;inserir una línia divisòria invisible on volem
el salt de línia.  Per veure més detalls, consulteu
<a name="index-Barres-de-compas"></a>
<a href="notation-big-page.ca.html#bar-lines">Barres de compàs</a>.
</p>

<hr size="6">
<a name="Apareix-un-pentagrama-de-m_00e9s"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-runs-off-the-page" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; La música se surt de la pàgina&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Missatge d'error Unbound variable % &gt; </a>]</td></tr></table>
<a name="an-extra-staff-appears"></a>
<h3 class="unnumberedsubsec">Apareix un pentagrama de més</h3>

<p>Si no es creen els contextos explícitament amb <code>\new</code> o amb
<code>\context</code>, es crearan discretament tan aviat com es trobi
una instrucció que no es pot aplicar a un context existent.  A
partitures senzilles, la creació automàtica dels contextos és
útil, i gairebé tots els exemples dels manuals del LilyPond
s&rsquo;aprofiten d&rsquo;aquesta simplificació.  Però ocasionalment la
creació discreta de contextos pot fer aflorar pentagrames o
partitures nous o inesperats.  Per exemple, podria esperar-se que
el codi següent fet que totes les notes dins del pentagrama
següent estiguessin acolorides de vermell, però de fet el
resultat són dos pentagrames, romanent el de sota amb les
notes amb el color negre predeterminat.
</p>
<blockquote><pre class="verbatim">\override Staff.NoteHead.color = #red
\new Staff { a' }
</pre><p>
 <a href="a3/lily-8a95f028.ly">
  <img align="middle"
       border="0"
       src="a3/lily-8a95f028.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Això és així perquè no hi ha cap context <code>Staff</code> quan es
processa la instrucció override de sobreescriptura, es crea un
implícitament i la sobreescriptura s&rsquo;aplica a aquest context, però
aleshores la instrucció <code>\new Staff</code> crea un pentagrama nou i
diferent, en el qual es col·loquen les notes.  El codi correcte
per acolorir totes les notes de vermell és
</p>
<blockquote><pre class="verbatim">\new Staff {
  \override Staff.NoteHead.color = #red
  a'
}
</pre><p>
 <a href="1a/lily-c0a863c0.ly">
  <img align="middle"
       border="0"
       src="1a/lily-c0a863c0.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Com a segon exemple, si una instrucció <code>\relative</code> s&rsquo;escriu
dins d&rsquo;una instrucció <code>\repeat</code>, el resultat són dos
pentagrames, el segon desplaçat respecte al primer, perquè la
instrucció <code>\repeat</code> genera dos blocs <code>\relative</code>, cada
un dels quals crea implícitament blocs <code>Staff</code> i <code>Voice</code>.
</p>
<blockquote><pre class="verbatim">\repeat unfold 2 {
  \relative { c'4 d e f }
}
</pre><p>
 <a href="2a/lily-843cde99.ly">
  <img align="middle"
       border="0"
       src="2a/lily-843cde99.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>El problema es resol instanciant el context <code>Voice</code>
explícitament:
</p>
<blockquote><pre class="verbatim">\new Voice {
  \repeat unfold 2 {
    \relative { c'4 d e f }
  }
}
</pre><p>
 <a href="75/lily-24772d8d.ly">
  <img align="middle"
       border="0"
       src="75/lily-24772d8d.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<hr size="6">
<a name="Missatge-d_0027error-Unbound-variable-_0025"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-extra-staff-appears" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Apareix un pentagrama de més&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Missatge d'error FT_Get_Glyph_Name &gt; </a>]</td></tr></table>
<a name="error-message-unbound-variable-_0025"></a>
<h3 class="unnumberedsubsec">Missatge d&rsquo;error Unbound variable %</h3>

<p>Aquest missatge d&rsquo;error apareix al final dels missatges de la
consola o del fitxer de registre junt a un missatge &ldquo;GUILE
ha senyalat un error &hellip;&rdquo; cada cop que es cridi a una rutina
del Scheme que (incorrectament) contingui un comentari <em>del
LilyPond</em> enlloc d&rsquo;un comentari <em>del Scheme</em>.
</p>
<p>Els comentaris del LilyPond comencen amb un símbol de
percentatge, (<code>%</code>), i no s&rsquo;han d&rsquo;utilitzar dins de les
rutines del Scheme.  Els comentaris del Scheme comencen amb punt i
coma, (<code>;</code>).
</p>
<hr size="6">
<a name="Missatge-d_0027error-FT_005fGet_005fGlyph_005fName"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Missatge d'error Unbound variable %&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Advertiment sobre que les afinitats del pentagrama sols han de decrèixer &gt; </a>]</td></tr></table>
<a name="error-message-ft_005fget_005fglyph_005fname"></a>
<h3 class="unnumberedsubsec">Missatge d&rsquo;error FT_Get_Glyph_Name</h3>

<p>Aquest missatge d&rsquo;error apareix a la sortida de la consola o al
fitxer log de registre si un fitxer d&rsquo;entrada conté un caràcter que
no és ASCII i no s&rsquo;ha desat en la codificació de caràcters
UTF-8.  Per veure més detalls, consulteu
<a name="index-Text-encoding"></a>
<a href="notation-big-page.ca.html#text-encoding">Codificació del text</a>.
</p>
<hr size="6">
<a name="Advertiment-sobre-que-les-afinitats-del-pentagrama-sols-han-de-decr_00e8ixer"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Missatge d'error FT_Get_Glyph_Name&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unexpected-new" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Missatge d'error Unexpected new &gt; </a>]</td></tr></table>
<a name="warning-staff-affinities-should-only-decrease"></a>
<h3 class="unnumberedsubsec">Advertiment sobre que les afinitats del pentagrama sols han de decrèixer</h3>

<p>Aquest advertiment pot aparèixer si no hi ha cap pentagrama a la
sortida impresa, per exemple si sols hi ha un context
<code>ChordName</code> i un context <code>Lyrics</code> com a un full guia
d&rsquo;acords.  Els missatges d&rsquo;advertiment es poden evitar fent que un
dels contextos es comporti com un pentagrama, inserint
</p>
<blockquote><pre class="example">\override VerticalAxisGroup.staff-affinity = ##f
</pre></blockquote>

<p>al començament.  Per veure més detalls, consulteu &ldquo;Espaiat de
les línies que no són pautes&rdquo; a
<a name="index-Flexible-vertical-spacing-within-systems"></a>
<a href="notation-big-page.ca.html#flexible-vertical-spacing-within-systems">Espaiat vertical flexible dins dels sistemes</a>.
</p>
<hr size="6">
<a name="Missatge-d_0027error-Unexpected-new"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Capítol següent">&nbsp;Actualització de fitxers amb convert-ly &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Advertiment sobre que les afinitats del pentagrama sols han de decrèixer&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Errors comuns&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#updating-files-with-convert_002dly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Actualització de fitxers amb convert-ly &gt; </a>]</td></tr></table>
<a name="error-message-unexpected-new"></a>
<h3 class="unnumberedsubsec">Missatge d&rsquo;error Unexpected new <code>\new</code></h3>

<p>Un bloc <code>\score</code> ha de contenir una <em>única</em> expressió
musical.  Si en comptes d&rsquo;això conté diverses instruccions
<code>\new Staff</code>, <code>\new StaffGroup</code> o contextos semblants
introduïts amb <code>\new</code> sense que s&rsquo;hagin tancat entre
claus, <code>{ &hellip; }</code>, o dobles parèntesis en
angle, <code>&lt;&lt; &hellip;  &gt;&gt;</code>, així:
</p>
<blockquote><pre class="example">\score {
  % Invàlid! Genera error: error de sintaxi, \new inesperat
  \new Staff { &hellip; }
  \new Staff { &hellip; }
}
</pre></blockquote>

<p>aleshores es produirà un missatge d&rsquo;error.
</p>
<p>Per evitar l&rsquo;error, tanqueu totes les instruccions <code>\new</code>
dins de les claus o dobles parèntesis d&rsquo;angle.
</p>
<p>L&rsquo;ús de claus introdueix les instruccions <code>\new</code>
de forma seqüencial:
</p>
<blockquote><pre class="verbatim">\score {
  {
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  }
}
</pre><p>
 <a href="2e/lily-9b22173f.ly">
  <img align="middle"
       border="0"
       src="2e/lily-9b22173f.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>però és més probable que us trobeu utilitzant angles dobles de
manera que els pentagrames nous s&rsquo;insereixin en paral·lel, és a
dir, simultàniament:
</p>
<blockquote><pre class="verbatim">\score {
  &lt;&lt;
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  &gt;&gt;
}
</pre><p>
 <a href="06/lily-77b293ac.ly">
  <img align="middle"
       border="0"
       src="06/lily-77b293ac.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>







<hr size="6">
<a name="Actualitzaci_00f3-de-fitxers-amb-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Execució del LilyPond&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unexpected-new" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Missatge d'error Unexpected new&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Perquè canvia la sintaxi? &gt; </a>]</td></tr></table>
<a name="updating-files-with-convert_002dly"></a>
<h1 class="chapter">2. Actualització de fitxers amb <code>convert-ly</code></h1>

<a name="index-actualitzacio-d_0027un-fitxer-del-LilyPond"></a>
<a name="index-convert_002dly"></a>

<p>La sintaxi del llenguatge d&rsquo;entrada del LilyPond es modifica de
forma habitual per a simplificar-la o millorar-la de diferents
maneres. Com a efecte secundari, l&rsquo;intèrpret del LilyPond sovint
ja no és compatible amb els fitxers d&rsquo;entrada antics.  Per posar
remei a això es pot utilitzar el programa <code>convert-ly</code> per
actualitzar fitxers a versions més noves del LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#why-does-the-syntax-change_003f" accesskey="1">2.1 Perquè canvia la sintaxi?</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-convert_002dly" accesskey="2">2.2 Invocació de <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command-line-options-for-convert_002dly" accesskey="3">2.3 Opcions de la línia d&rsquo;ordres per a <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#problems-running-convert_002dly" accesskey="4">2.4 Problemes amb <code>convert-ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#manual-conversions" accesskey="5">2.5 Conversions manuals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Perqu_00e8-canvia-la-sintaxi_003f"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#updating-files-with-convert_002dly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-convert_002dly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invocació de convert-ly &gt; </a>]</td></tr></table>
<a name="why-does-the-syntax-change_003f"></a>
<h2 class="section">2.1 Perquè canvia la sintaxi?</h2>

<a name="index-convert_002dly-1"></a>
<a name="index-actualitzacio-de-fitxers-d_0027entrada-antics"></a>

<p>La sintaxi de l&rsquo;entrada del LilyPond canvia de manera ocasional.
A mesura que el propi LilyPond millora,  la sintaxi (el llenguatge
de l&rsquo;entrada) es modifica en consonància.  A vegades aquests
canvis es fan per aconseguir que l&rsquo;entrada sigui més fàcil de
llegir i escriure, i d&rsquo;altres vegades aquests canvis són per
donar cabuda a noves funcionalitats del LilyPond.
</p>
<p>Per exemple, se suposa que tots els noms de les propietats de
<code>\paper</code> i de <code>\layout</code> estan escrits sota la norma
<code>primer-segon-tercer</code>.  Tot i així, a la versió 2.11.60,
observem que la propietat <code>printallheaders</code> no seguia aquesta
convenció.  Hauríem de deixar-la tal com està (confonent als nous
usuaris que han de tractar amb un format d&rsquo;entrada inconsistent),
o canviar-la (empipant als usuaris amb experiència que tenen
partitures antigues)?  En aquest cas, vam decidir canviar el nom a
<code>print-all-headers</code>.  Afortunadament, aquest
canvi es pot automatitzar amb la nostra eina
<code>convert-ly</code>.
</p>
<p>Tanmateix, lamentablement <code>convert-ly</code> no pot tractar tots
els canvis d&rsquo;entrada.  Per exemple, a la versió 2.4 i anteriors de
LilyPond els accents i les lletres no angleses s&rsquo;introdueixen
utilitzant el LaTeX: per exemple <code>No\&quot;el</code> (que significa
&lsquo;Nadal&rsquo; en francès).  Al LilyPond 2.6 i següents el caràcter
especial <code>ë</code> s&rsquo;ha d&rsquo;introduir directament al fitxer del
LilyPond com un caràcter UTF-8.  <code>convert-ly</code> no pot
canviar tots els caràcters especials del LaTeX a caràcters de
UTF-8: haureu d&rsquo;actualitzar manualment els vostres fitxers del
LilyPond antics.
</p>
<p>Les regles de conversió de <code>convert-ly</code> funcionen usant
correspondència i substitució de patrons de text enlloc d&rsquo;una
comprensió profunda de la sintaxi del LilyPond.  Això té diverses
conseqüències:
</p><ul>
<li>
El bon funcionament de la conversió depèn de la qualitat de cada
conjunt de regles que s&rsquo;apliquen i de la complexitat del canvi
corresponent.  A vegades les conversions poden necessitar
correccions manuals, per la qual cosa la versió antiga hauria de
conservar-se a efectes de comparació.
</li><li>
Solament són possibles les conversions de formats més nous: no hi
ha cap conjunt de regles per a la desactualització.  Així doncs,
la còpia principal de treball d&rsquo;un fitxer del LilyPond solament
s&rsquo;ha d&rsquo;actualitzar quan ja no hi ha necessitat de seguir mantenint
versions antigues del LilyPond.  Els sistemes de control de
versions com ara el Git poden ser de gran ajuda per realitzar el
manteniment de diverses versions dels mateixos fitxers.
</li><li>
Els propis programes del LilyPond i de l&rsquo;Scheme són força robustos
enfront als espais afegits i suprimits de manera &ldquo;creativa&rdquo;,
però les regles utilitzades per <code>convert-ly</code> tendeixen a
fer certes suposicions d&rsquo;estil.  El millor que pot fer-se és
seguir l&rsquo;estil que s&rsquo;usa als manuals per fer actualitzacions
indolores, especialment perquè els propis manuals s&rsquo;actualitzen
usant <code>convert-ly</code>.
</li></ul>

<hr size="6">
<a name="Invocaci_00f3-de-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Perquè canvia la sintaxi?&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Opcions de la línia d'ordres per a convert-ly &gt; </a>]</td></tr></table>
<a name="invoking-convert_002dly"></a>
<h2 class="section">2.2 Invocació de <code>convert-ly</code></h2>

<p><code>convert-ly</code> utilitza el enunciats <code>\version</code> dels
fitxers d&rsquo;entrada per detectar el número de versió antic.  En
gairebé tots els casos, per actualitzar el fitxer d&rsquo;entrada sols
cal executar
</p>
<blockquote><pre class="example">convert-ly -e elmeufitxer.ly
</pre></blockquote>

<p>dins del directori que conté el fitxer.  Amb això s&rsquo;actualitza
&lsquo;<tt>elmeufitxer.ly</tt>&rsquo; <em>in situ</em> i es preserva el fitxer
original &lsquo;<tt>elmeufitxer.ly~</tt>&rsquo;.
</p>
<div class="warning"><p><strong>Nota:</strong> <code>convert-ly</code> sempre converteix fins l&rsquo;últim canvi
de sintaxi que és capaç de gestionar.  Això significa que el
número de <code>version</code> que apareix al fitxer convertit sol ser
inferior al número de versió del propi programa
<code>convert-ly</code>.
</p>
</div>
<p>Per convertir d&rsquo;un cop tots els fitxers d&rsquo;entrada que hi ha a un
directori, useu
</p>
<blockquote><pre class="example">convert-ly -e *.ly
</pre></blockquote>

<p>De forma alternativa, si volem especificar un nom diferent per al
fitxer actualitzar, preservant el fitxer original amb el mateix
nom, feu
</p>
<blockquote><pre class="example">convert-ly elmeufitxer.ly &gt; elmeunoufitxer.ly
</pre></blockquote>

<p>El programa imprimeix una relació dels números de versió per als
que s&rsquo;han fet conversions.  Si no s&rsquo;imprimeix cap número de
versió, el fitxer ja està actualitzat.
</p>
<p>Els usuaris del MacOS&nbsp;X poden executar aquesta instrucció sota
el menú <code>Compilar &gt; Actualitzar sintaxi</code>.
</p>
<p>Els usuaris del Windows han d&rsquo;introduir aquesta instrucció a una
nova ventana del terminal del sistema, que es troba en general sota
<code>Inici &gt; Accessoris &gt; Símbol del sistema</code>.
</p>
<hr size="6">
<a name="Opcions-de-la-l_00ednia-d_0027ordres-per-a-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-convert_002dly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invocació de convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#problems-running-convert_002dly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Problemes amb convert-ly &gt; </a>]</td></tr></table>
<a name="command-line-options-for-convert_002dly"></a>
<h2 class="section">2.3 Opcions de la línia d&rsquo;ordres per a <code>convert-ly</code></h2>

<p>En general, el programa s&rsquo;invoca de la manera següent:
</p>
<blockquote><pre class="example">convert-ly [<var>opció</var>]&hellip; <var>fitxer</var>&hellip;
</pre></blockquote>

<p>Es poden donar les opcions següents:
</p>
<dl compact="compact">
<dt> <code>-d, --diff-version-update</code></dt>
<dd><p>Incrementa la cadena <code>\version</code> solament si el fitxer
efectivament ha canviat.  En tal cas, la capçalera de versió
correspondrà a la versió següent a l&rsquo;últim canvi efectiu.  Sense
aquesta opció la versió reflecteix l&rsquo;última conversió que es
<em>va intentar</em> fer.
</p>
</dd>
<dt> <code>-e, --edit</code></dt>
<dd><p>Aplica les conversions directament al fitxer d&rsquo;entrada,
modificant-lo in situ.  El fitxer original es canvia de nom a
&lsquo;<tt>elmeufitxer.ly~</tt>&rsquo;.  Aquest fitxer de còpia de seguretat
podria ser un fitxer ocult en alguns sistemes operatius.
</p>
</dd>
<dt> <code>-b, --backup-numbered</code></dt>
<dd><p>Quan s&rsquo;usa amb l&rsquo;opció &lsquo;<samp>-e</samp>&rsquo;, numera els fitxers de còpia de
seguretat de forma que no se sobreescrigui cap versió anterior.
Els fitxers de còpia de seguretat podrien ser fitxer ocults en
alguns sistemes operatius.
</p>
</dd>
<dt> <code>-f, --from=<var>versió_d_origen</var></code></dt>
<dd><p>Estableix la versió des de la qual s&rsquo;ha de convertir.  Si no
apareix aquesta opció <code>convert-ly</code> intentarà endevinar-la,
bastant-se en la instrucció <code>\version</code> del fitxer. Exemple:
&lsquo;<samp>--from=2.10.25</samp>&rsquo;
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Imprimeix l&rsquo;ajuda d&rsquo;utilització.
</p>
</dd>
<dt> <code>-l <var>nivellderegistre</var>, --loglevel=<var>nivellderegistre</var></code></dt>
<dd><p>Fixa el grau en el qual la sortida és detallada a
<var>nivellderegistre</var>.  Els valors possibles són <code>NONE</code>
(cap), <code>ERROR</code> (errors), <code>WARNING</code> (advertiments),
<code>PROGRESS</code> (avenç;predeterminat) i <code>DEBUG</code> (depuració).
</p>
</dd>
<dt> <code>-n, --no-version</code></dt>
<dd><p>Normalment <code>convert-ly</code> afegeix un indicador
<code>\version</code> a la sortida.  L&rsquo;especificació d&rsquo;aquesta opció el
suprimeix.
</p>
</dd>
<dt> <code>-s, --show-rules</code></dt>
<dd><p>Mostra totes les conversions conegudes i surt.
</p>
</dd>
<dt> <code>-t, --to=<var>versió_final</var></code></dt>
<dd><p>Fixa explícitament a quina <code>\version</code> convertir, en cas
contrari el valor predeterminat és la versió més actual.  Ha de
ser més alta que la versió de partida.
</p>
<blockquote><pre class="example">convert-ly --to=2.14.1 elmeufitxer.ly
</pre></blockquote>

</dd>
</dl>

<p>Per actualitzar fragments del LilyPond en fitxer de texinfo, useu
</p>
<blockquote><pre class="example">convert-ly --from=&hellip; --to=&hellip; --no-version *.itely
</pre></blockquote>

<p>Per veure els canvis en la sintaxi del LilyPond entre dues
versions donades, useu
</p>
<blockquote><pre class="example">convert-ly --from=&hellip; --to=&hellip; -s
</pre></blockquote>


<hr size="6">
<a name="Problemes-amb-convert_002dly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Opcions de la línia d'ordres per a convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#manual-conversions" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Conversions manuals &gt; </a>]</td></tr></table>
<a name="problems-running-convert_002dly"></a>
<h2 class="section">2.4 Problemes amb <code>convert-ly</code></h2>

<p>En executar convert-ly a una finestra del Símbol de Sistema sota
el Windows sobre un fitxer que té espais al nom o la ruta, és
necessari tancar tot el nom del fitxer d&rsquo;entrada amb tres (!)
parelles de cometes:
</p>
<blockquote><pre class="example">convert-ly &quot;&quot;&quot;D:/Les meves partitures/Oda.ly&quot;&quot;&quot; &gt; &quot;D:/Les meves partitures/nova Oda.ly&quot;
</pre></blockquote>

<p>Si l&rsquo;ordre simple <code>convert-ly -e *.ly</code> no funciona perquè
la instrucció expandida es fa massa llarga, en comptes de fer això
l&rsquo;ordre <code>convert-ly</code> es pot posar dins d&rsquo;un bucle.  Aquest
exemple per a UNIX actualitza tots els documents &lsquo;<tt>.ly</tt>&rsquo; del
directori actual
</p>
<blockquote><pre class="example">for f in *.ly; do convert-ly -e $f; done;
</pre></blockquote>

<p>A la finestra del terminal d&rsquo;ordres del Windows, la instrucció
corresponent és
</p>
<blockquote><pre class="example">for %x in (*.ly) do convert-ly -e &quot;&quot;&quot;%x&quot;&quot;&quot;
</pre></blockquote>

<p>No es gestionen tots els canvis al llenguatge.  Sols es pot
especificar una opció de sortida.   L&rsquo;actualització automàtica del
Scheme i les interfícies Scheme del LilyPond és força improbable;
prepareu-vos per manipular el codi del Scheme a mà.
</p>
<hr size="6">
<a name="Conversions-manuals"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="Capítol següent">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#problems-running-convert_002dly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Problemes amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;lilypond-book &gt; </a>]</td></tr></table>
<a name="manual-conversions"></a>
<h2 class="section">2.5 Conversions manuals</h2>

<p>En teoria, un programa com <code>convert-ly</code> hauria de poder
tractar qualsevol canvi de sintaxi.  Després de tot, un programa
d&rsquo;ordinador interpreta les versions antiga i nova, per la qual
cosa un altre programa d&rsquo;ordinador podria traduir un fitxer a
l&rsquo;altre<sup><a name="DOCF2" href="#FOOT2">2</a></sup>.
</p>
<p>Tot i així, el projecte LilyPond compta amb uns recursos limitats:
no totes les conversions s&rsquo;efectuen automàticament.  A continuació
hi ha una llista de problemes coneguts.
</p>
<pre class="verbatim">1.6-&gt;2.0:
No sempre converteix el baix xifrat correctament, específicament
coses com ara {&lt;
&gt;}.  El comentari de Mats sobre com solucionar el
problema:
   Per poder executar convert-ly
   sobre ell, primer vaig sustituir totes les aparicions de '{&lt;' a quelcom mut com ara '{#'
   i de forma semblant vaig sustituir '&gt;}' amb '&amp;}'.  Després de la conversió, vaig poder
   tornar a canviar-los de '{ #' a '{ &lt;' i de '&amp; }' a '&gt; }'.
 No converteix tot l'etiquetatge de text correctament.  En sintaxi antiga,
 es podien agrupar diverses etiquetes entre parèntesis, per exemple
   -#'((bold italic) &quot;cadena&quot;)
   Això es converteix incorrectament a
   -\markup{{\bold italic} &quot;cadena&quot;}
   en comptes del correcte
   -\markup{\bold \italic &quot;cadena&quot;}
2.0-&gt;2.2:
 No gestiona \partcombine
 No va \addlyrics =&gt; \lyricsto, això trenca algunes partitures amb diverses estrofes
2.0-&gt;2.4:
 \magnify no es canvia per \fontsize.
    - \magnify #m =&gt; \fontsize #f, on f = 6ln(m)/ln(2)
 remove-tag no es canvia.
    - \applyMusic #(remove-tag '. . .) =&gt; \keepWithTag #'. . .
 first-page-number no es canvia.
    - first-page-number no =&gt; print-first-page-number = ##f
 Els salts de línia a les cadenes de capçalera no es converteixen.
    - \\\\  com salt de línia a les cadenes de \header  =&gt; \markup \center-align &lt;
      &quot;Primera línia&quot; &quot;Segona línia&quot; &gt;
 Els terminadors de crescendo i descrecendo no es converteixen.
    - \rced =&gt; \!
    - \rc =&gt; \!
2.2-&gt;2.4:
 \turnOff (usat a \set Staff.VoltaBracket = \turnOff) no es converteix
adequadament.
2.4.2-&gt;2.5.9
 \markup{ \center-align &lt;{ ... }&gt; } s'hauria de convertir a:
 \markup{ \center-align {\line { ... }} }
 però ara, falta el \line.
2.4-&gt;2.6
 Els caràcters especials del LaTeX com $~$ al text no es converteixen a UTF8.
2.8
 \score{} ara ha de començar amb una expressió musical.  Qualsevol alta cosa
 (en particular, \header{}) ha d'anar després de la música.
</pre>


<hr size="6">
<a name="lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Actualització de fitxers amb convert-ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#manual-conversions" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Conversions manuals&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-example-of-a-musicological-document" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;An example of a musicological document &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook"></a>
<h1 class="chapter">3. Running <code>lilypond-book</code></h1>

<p>If you want to add pictures of music to a document, you can simply do it
the way you would do with other types of pictures.  The pictures are
created separately, yielding PostScript output or PNG images, and those
are included into a LaTeX or HTML document.
</p>
<p><code>lilypond-book</code> provides a way to automate this process: This
program extracts snippets of music from your document, runs
<code>lilypond</code> on them, and outputs the document with pictures
substituted for the music.  The line width and font size definitions for
the music are adjusted to match the layout of your document.
</p>
<p>This is a separate program from <code>lilypond</code> itself, and is run
on the command line; for more information, see
<a href="#command_002dline-usage">Utilització des de la línia d&rsquo;ordres</a>.  If you have trouble running
<code>lilypond-book</code> on Windows or Mac OS X using the command line, then
see either <a name="index-Windows"></a>
<a href="web-big-page.ca.html#windows">Windows</a> or <a name="index-MacOS-X-1"></a>
<a href="web-big-page.ca.html#macos-x">MacOS X</a>.
</p>
<p>This procedure may be applied to LaTeX, HTML, Texinfo or DocBook
documents.
</p>
<a name="index-texinfo"></a>
<a name="index-LaTex"></a>
<a name="index-texinfo-1"></a>
<a name="index-texi"></a>
<a name="index-HTML"></a>
<a name="index-docbook"></a>
<a name="index-documents_002c-adding-music"></a>
<a name="index-HTML_002c-adding-music"></a>
<a name="index-Texinfo_002c-adding-music"></a>
<a name="index-DocBook_002c-adding-music"></a>
<a name="index-LaTeX_002c-adding-music"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#an-example-of-a-musicological-document" accesskey="1">3.1 An example of a musicological document</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#integrating-music-and-text" accesskey="2">3.2 Integrating music and text</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#music-fragment-options" accesskey="3">3.3 Music fragment options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-lilypond_002dbook" accesskey="4">3.4 Invoking <code>lilypond-book</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#filename-extensions" accesskey="5">3.5 Filename extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook-templates" accesskey="6">3.6 lilypond-book templates</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#sharing-the-table-of-contents" accesskey="7">3.7 Sharing the table of contents</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#alternate-methods-of-mixing-text-and-music" accesskey="8">3.8 Alternative methods of mixing text and music</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="An-example-of-a-musicological-document"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#integrating-music-and-text" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Integrating music and text &gt; </a>]</td></tr></table>
<a name="an-example-of-a-musicological-document"></a>
<h2 class="section">3.1 An example of a musicological document</h2>

<a name="index-musicology"></a>
<p>Some texts contain music examples.  These texts are musicological
treatises, songbooks, or manuals like this.  Such texts can be made by
hand, simply by importing a PostScript figure into the word processor.
However, there is an automated procedure to reduce the amount of work
involved in HTML, LaTeX, Texinfo and DocBook documents.
</p>
<p>A script called <code>lilypond-book</code> will extract the music fragments,
format them, and put back the resulting notation.  Here we show a small
example for use with LaTeX.  The example also contains explanatory
text, so we will not comment on it further.
</p>
<a name="Input"></a>
<h3 class="subheading">Input</h3>

<blockquote><pre class="verbatim">\documentclass[a4paper]{article}

\begin{document}

Documents for \verb+lilypond-book+ may freely mix music and text.
For example,

\begin{lilypond}
\relative {
  c'2 e2 \tuplet 3/2 { f8 a b } a2 e4
}
\end{lilypond}

Options are put in brackets.

\begin{lilypond}[fragment,quote,staffsize=26,verbatim]
  c'4 f16
\end{lilypond}

Larger examples can be put into a separate file, and introduced with
\verb+\lilypondfile+.

\lilypondfile[quote,noindent]{screech-and-boink.ly}

(If needed, replace @file{screech-and-boink.ly} by any @file{.ly} file
you put in the same directory as this file.)

\end{document}
</pre></blockquote>

<a name="Processing"></a>
<h3 class="subheading">Processing</h3>

<p>Save the code above to a file called &lsquo;<tt>lilybook.lytex</tt>&rsquo;, then in a
terminal run
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf lilybook.lytex
<em>lilypond-book (GNU LilyPond) 2.19.65 </em>
<em>Reading lilybook.lytex...</em>
<em>&hellip;lots of stuff deleted&hellip;</em>
<em>Compiling lilybook.tex...</em>
cd out
pdflatex lilybook
<em>&hellip;lots of stuff deleted&hellip;</em>
xpdf lilybook
<em>(replace <code>xpdf</code> by your favorite PDF viewer)</em>
</pre></blockquote>

<p>Running <code>lilypond-book</code> and <code>latex</code> creates a lot of
temporary files, which would clutter up the working directory.  To
remedy this, use the &lsquo;<samp>--output=<var>dir</var></samp>&rsquo; option.  It will create
the files in a separate subdirectory &lsquo;<tt>dir</tt>&rsquo;.
</p>
<p>Finally the result of the LaTeX example shown above.<sup><a name="DOCF3" href="#FOOT3">3</a></sup>  This finishes the tutorial section.
</p>


<a name="Output"></a>
<h3 class="subheading">Output</h3>

<p>Documents for <code>lilypond-book</code> may freely mix music and text.
For example,
</p>
<p>
 <a href="a5/lily-9a0b8bc2.ly">
  <img align="middle"
       border="0"
       src="a5/lily-9a0b8bc2.png"
       alt="[image of music]">
 </a>
</p>



<p>Options are put in brackets.
</p>
<blockquote><pre class="verbatim">c'4 f16
</pre><p>
 <a href="b7/lily-82a2c89b.ly">
  <img align="middle"
       border="0"
       src="b7/lily-82a2c89b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Larger examples can be put into a separate file, and introduced with
<code>\lilypondfile</code>.
</p>
<blockquote><p>
 <a href="0a/lily-80d132fa.ly">
  <img align="middle"
       border="0"
       src="0a/lily-80d132fa.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>If a <code>tagline</code> is required, either default or custom, then the
entire snippet must be enclosed in a <code>\book { }</code> construct.
</p>
<pre class="verbatim">\book{
  \header{
    title = &quot;A scale in LilyPond&quot;
  }

  \relative {
    c' d e f g a b c
  }
}
</pre><p>
 <a href="7e/lily-1c1e00f8.ly">
  <img align="middle"
       border="0"
       src="7e/lily-1c1e00f8.png"
       alt="[image of music]">
 </a>
</p>





<hr size="6">
<a name="Integrating-music-and-text"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-example-of-a-musicological-document" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; An example of a musicological document&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#latex" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;LaTeX &gt; </a>]</td></tr></table>
<a name="integrating-music-and-text"></a>
<h2 class="section">3.2 Integrating music and text</h2>

<p>Here we explain how to integrate LilyPond with various output formats.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#latex" accesskey="1">3.2.1 LaTeX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#texinfo" accesskey="2">3.2.2 Texinfo</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#html" accesskey="3">3.2.3 HTML</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#docbook" accesskey="4">3.2.4 DocBook</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#integrating-music-and-text" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#texinfo" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="latex"></a>
<h3 class="subsection">3.2.1 LaTeX</h3>

<p>LaTeX is the de-facto standard for publishing layouts in the exact
sciences.  It is built on top of the TeX typesetting engine,
providing the best typography available anywhere.
</p>
<p>See
<a href="http://www.ctan.org/tex-archive/info/lshort/english"><em>The Not So Short Introduction to LaTeX</em></a> for an overview on how
to use LaTeX.
</p>
<p><code>lilypond-book</code> provides the following commands and environments to
include music in LaTeX files:
</p>
<ul>
<li>
the <code>\lilypond{&hellip;}</code> command, where you can directly enter
short lilypond code

</li><li>
the <code>\begin{lilypond}&hellip;\end{lilypond}</code> environment, where
you can directly enter longer lilypond code

</li><li>
the <code>\lilypondfile{&hellip;}</code> command to insert a lilypond file

</li><li>
the <code>\musicxmlfile{&hellip;}</code> command to insert a MusicXML file,
which will be processed by <code>musicxml2ly</code> and <code>lilypond</code>.

</li></ul>

<p>In the input file, music is specified with any of the following commands:
</p>
<blockquote><pre class="example">\begin{lilypond}[options,go,here]
  YOUR LILYPOND CODE
\end{lilypond}

\lilypond[options,go,here]{ YOUR LILYPOND CODE }

\lilypondfile[options,go,here]{<var>filename</var>}

\musicxmlfile[options,go,here]{<var>filename</var>}
</pre></blockquote>



<p>Additionally, <code>\lilypondversion</code> displays the current version
of lilypond.
Running <code>lilypond-book</code> yields a file that can be further
processed with LaTeX.
</p>
<p>We show some examples here.  The <code>lilypond</code> environment
</p>
<blockquote><pre class="example">\begin{lilypond}[quote,fragment,staffsize=26]
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="5a/lily-d67e1e90.ly">
  <img align="middle"
       border="0"
       src="5a/lily-d67e1e90.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The short version
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="d9/lily-f0683194.ly">
  <img align="middle"
       border="0"
       src="d9/lily-f0683194.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Currently, you cannot include <code>{</code> or <code>}</code> within
<code>\lilypond{}</code>, so this command is only useful with the
<code>fragment</code> option.
</p>
<p>The default line width of the music will be adjusted by examining the
commands in the document preamble, the part of the document before
<code>\begin{document}</code>.  The <code>lilypond-book</code> command sends
these to LaTeX to find out how wide the text is.  The line width for
the music fragments is then adjusted to the text width.  Note that this
heuristic algorithm can fail easily; in such cases it is necessary to
use the <code>line-width</code> music fragment option.
</p>
<a name="index-titling-and-lilypond_002dbook"></a>
<a name="index-_005cheader-in-LaTeX-documents"></a>

<p>Each snippet will call the following macros if they have been defined by
the user:
</p>
<ul>
<li> <code>\preLilyPondExample</code> called before the music,

</li><li> <code>\postLilyPondExample</code> called after the music,

</li><li> <code>\betweenLilyPondSystem[1]</code> is called between systems if
<code>lilypond-book</code> has split the snippet into several PostScript
files.  It must be defined as taking one parameter and will be
passed the number of files already included in this snippet.
The default is to simply insert a <code>\linebreak</code>.
</li></ul>


<a name="Fragments-de-codi-seleccionats"></a>
<h4 class="subsubheading">Fragments de codi seleccionats</h4>

<p>Sometimes it is useful to display music elements (such as ties and slurs)
as if they continued after the end of the fragment.  This can be done by
breaking the staff and suppressing inclusion of the rest of the LilyPond
output.
</p>
<p>In LaTeX, define <code>\betweenLilyPondSystem</code> in such a way that
inclusion of other systems is terminated once the required number of
systems are included.  Since <code>\betweenLilyPondSystem</code> is first
called <em>after</em> the first system, including only the first system
is trivial.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin{lilypond}[fragment]
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>If a greater number of systems is requested, a TeX conditional must
be used before the <code>\endinput</code>.  In this example, replace &lsquo;2&rsquo; by
the number of systems you want in the output.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum#1&lt;2\else\expandafter\endinput\fi
}
</pre></blockquote>

<p>(Since <code>\endinput</code> immediately stops the processing of the current
input file we need <code>\expandafter</code> to delay the call of <code>\endinput</code>
after executing <code>\fi</code> so that the <code>\if</code>-<code>\fi</code> clause is
balanced.)
</p>
<p>Remember that the definition of <code>\betweenLilyPondSystem</code> is
effective until TeX quits the current group (such as the LaTeX
environment) or is overridden by another definition (which is, in
most cases, for the rest of the document).  To reset your
definition, write
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>in your LaTeX source.
</p>
<p>This may be simplified by defining a TeX macro
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{%
      \ifnum##1&lt;#1\else\expandafter\endinput\fi}
}
</pre></blockquote>

<p>and then saying only how many systems you want before each fragment,
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}&hellip;\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}&hellip;\end{lilypond}
</pre></blockquote>


<a name="Vegeu-tambe-1"></a>
<h4 class="subsubheading">Vegeu també</h4>
<p>There are specific <code>lilypond-book</code> command line options and
other details to know when processing LaTeX documents, see
<a href="#invoking-lilypond_002dbook">Invoking <code>lilypond-book</code></a>.
</p>

<hr size="6">
<a name="Texinfo"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#latex" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; LaTeX&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;HTML &gt; </a>]</td></tr></table>
<a name="texinfo"></a>
<h3 class="subsection">3.2.2 Texinfo</h3>

<p>Texinfo is the standard format for documentation of the GNU project.  An
example of a Texinfo document is this manual.  The HTML, PDF, and Info
versions of the manual are made from the Texinfo document.
</p>
<p><code>lilypond-book</code> provides the following commands and environments to
include music into Texinfo files:
</p>
<ul>
<li>
the <code>@lilypond{&hellip;}</code> command, where you can directly enter
short lilypond code

</li><li>
the <code>@lilypond&hellip;@end lilypond</code> environment, where you can
directly enter longer lilypond code

</li><li>
the <code>@lilypondfile{&hellip;}</code> command to insert a lilypond file

</li><li>
the <code>@musicxmlfile{&hellip;}</code> command to insert a MusicXML file,
which will be processed by <code>musicxml2ly</code> and <code>lilypond</code>.

</li></ul>

<p>In the input file, music is specified with any of the following commands
</p>
<blockquote><pre class="example">@lilypond[options,go,here]
  YOUR LILYPOND CODE
@end lilypond

@lilypond[options,go,here]{ YOUR LILYPOND CODE }

@lilypondfile[options,go,here]{<var>filename</var>}

@musicxmlfile[options,go,here]{<var>filename</var>}
</pre></blockquote>

<p>Additionally, <code>@lilypondversion</code> displays the current version
of lilypond.
</p>
<p>When <code>lilypond-book</code> is run on it, this results in a Texinfo
file (with extension &lsquo;<tt>.texi</tt>&rsquo;) containing <code>@image</code> tags for
HTML, Info and printed output.  <code>lilypond-book</code> generates images
of the music in EPS and PDF formats for use in the printed output, and
in PNG format for use in HTML and Info output.
</p>
<p>We show two simple examples here.  A <code>lilypond</code> environment
</p>
<blockquote><pre class="example">@lilypond[fragment]
c' d' e' f' g'2 g'
@end lilypond
</pre></blockquote>

<p>produces
</p>
<p>
 <a href="49/lily-84022578.ly">
  <img align="middle"
       border="0"
       src="49/lily-84022578.png"
       alt="[image of music]">
 </a>
</p>



<p>The short version
</p>
<blockquote><pre class="example">@lilypond[fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<p>
 <a href="0c/lily-92b92a6d.ly">
  <img align="middle"
       border="0"
       src="0c/lily-92b92a6d.png"
       alt="[image of music]">
 </a>
</p>



<p>Contrary to LaTeX, <code>@lilypond{&hellip;}</code> does not generate an
in-line image.  It always gets a paragraph of its own.
</p>

<hr size="6">
<a name="HTML"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#texinfo" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Texinfo&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#docbook" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;DocBook &gt; </a>]</td></tr></table>
<a name="html"></a>
<h3 class="subsection">3.2.3 HTML</h3>

<p><code>lilypond-book</code> provides the following commands and environments to
include music in HTML files:
</p>
<ul>
<li>
the <code>&lt;lilypond &hellip; /&gt;</code> command, where you can directly enter
short lilypond code

</li><li>
the <code>&lt;lilyond&gt;&hellip;&lt;/lilypond&gt;</code> environment, where you can
directly enter longer lilypond code

</li><li>
the <code>&lt;lilypondfile&gt;&hellip;&lt;/lilypondfile&gt;</code> command to insert a
lilypond file

</li><li>
the <code>&lt;musicxmlfile&gt;&hellip;&lt;/musicxmlfile&gt;</code> command to insert a
MusicXML file, which will be processed by <code>musicxml2ly</code> and
<code>lilypond</code>.

</li></ul>

<p>In the input file, music is specified with any of the following commands:
</p>
<blockquote><pre class="example">&lt;lilypond options go here&gt;
  YOUR LILYPOND CODE
&lt;/lilypond&gt;

&lt;lilypond options go here: YOUR LILYPOND CODE /&gt;

&lt;lilypondfile options go here&gt;<var>filename</var>&lt;/lilypondfile&gt;

&lt;musicxmlfile options go here&gt;<var>filename</var>&lt;/musicxmlfile&gt;
</pre></blockquote>

<p>For example, you can write
</p><blockquote><pre class="example">&lt;lilypond fragment relative=2&gt;
\key c \minor c4 es g2
&lt;/lilypond&gt;
</pre></blockquote>

<p><code>lilypond-book</code> then produces an HTML file with appropriate image
tags for the music fragments:
</p>
<p>
 <a href="c9/lily-7a8f0874.ly">
  <img align="middle"
       border="0"
       src="c9/lily-7a8f0874.png"
       alt="[image of music]">
 </a>
</p>



<p>For inline pictures, use <code>&lt;lilypond &hellip; /&gt;</code>, where the options
are separated by a colon from the music, for example
</p>
<blockquote><pre class="example">Some music in &lt;lilypond relative=2: a b c/&gt; a line of text.
</pre></blockquote>

<p>To include separate files, say
</p>
<blockquote><pre class="example">&lt;lilypondfile <var>option1</var> <var>option2</var> &hellip;&gt;<var>filename</var>&lt;/lilypondfile&gt;
</pre></blockquote>

<p><code>&lt;musicxmlfile&gt;</code> uses the same syntax as <code>&lt;lilypondfile&gt;</code>, but
simply references a MusicXML file rather than a LilyPond file.
</p>
<p>For a list of options to use with the <code>lilypond</code> or
<code>lilypondfile</code> tags, see <a href="#music-fragment-options">Music fragment options</a>.
</p>
<p>Additionally, <code>&lt;lilypondversion/&gt;</code> displays the current version
of lilypond.
</p>

<a name="index-titling-in-HTML"></a>
<a name="index-preview-image"></a>
<a name="index-thumbnail"></a>

<hr size="6">
<a name="DocBook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#html" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; HTML&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-fragment-options" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Music fragment options &gt; </a>]</td></tr></table>
<a name="docbook"></a>
<h3 class="subsection">3.2.4 DocBook</h3>

<p>For inserting LilyPond snippets it is good to keep the conformity of our
DocBook document, thus allowing us to use DocBook editors, validation
etc.  So we don&rsquo;t use custom tags, only specify a convention based on the
standard DocBook elements.
</p>
<a name="Common-conventions"></a>
<h3 class="subheading">Common conventions</h3>

<p>For inserting all type of snippets we use the <code>mediaobject</code> and
<code>inlinemediaobject</code> element, so our snippets can be formatted
inline or not inline.  The snippet formatting options are always
provided in the <code>role</code> property of the innermost element (see in
next sections).  Tags are chosen to allow DocBook editors format the
content gracefully.  The DocBook files to be processed with
<code>lilypond-book</code> should have the extension &lsquo;<tt>.lyxml</tt>&rsquo;.
</p>
<a name="Including-a-LilyPond-file"></a>
<h3 class="subheading">Including a LilyPond file</h3>

<p>This is the most simple case.  We must use the &lsquo;<tt>.ly</tt>&rsquo; extension for
the included file, and insert it as a standard <code>imageobject</code>, with
the following structure:
</p>
<blockquote><pre class="example">&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref=&quot;music1.ly&quot; role=&quot;printfilename&quot; /&gt;
  &lt;/imageobject&gt;
&lt;/mediaobject&gt;
</pre></blockquote>

<p>Note that you can use <code>mediaobject</code> or <code>inlinemediaobject</code>
as the outermost element as you wish.
</p>
<a name="Including-LilyPond-code"></a>
<h3 class="subheading">Including LilyPond code</h3>

<p>Including LilyPond code is possible by using a <code>programlisting</code>,
where the language is set to <code>lilypond</code> with the following
structure:
</p>
<blockquote><pre class="example">&lt;inlinemediaobject&gt;
  &lt;textobject&gt;
    &lt;programlisting language=&quot;lilypond&quot; role=&quot;fragment verbatim staffsize=16 ragged-right relative=2&quot;&gt;
\context Staff \with {
  \remove &quot;Time_signature_engraver&quot;
  \remove &quot;Clef_engraver&quot;}
  { c4( fis) }
    &lt;/programlisting&gt;
  &lt;/textobject&gt;
&lt;/inlinemediaobject&gt;
</pre></blockquote>

<p>As you can see, the outermost element is a <code>mediaobject</code> or
<code>inlinemediaobject</code>, and there is a <code>textobject</code> containing
the <code>programlisting</code> inside.
</p>
<a name="Processing-the-DocBook-document"></a>
<h3 class="subheading">Processing the DocBook document</h3>

<p>Running <code>lilypond-book</code> on our &lsquo;<tt>.lyxml</tt>&rsquo; file will create a
valid DocBook document to be further processed with &lsquo;<tt>.xml</tt>&rsquo;
extension.  If you use
<a href="http://dblatex.sourceforge.net">dblatex</a>, it will create a
PDF file from this document automatically.  For HTML (HTML Help,
JavaHelp etc.) generation you can use the official DocBook XSL
stylesheets, however, it is possible that you have to make some
customization for it.
</p>

<hr size="6">
<a name="Music-fragment-options"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#docbook" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond_002dbook" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invoking lilypond-book &gt; </a>]</td></tr></table>
<a name="music-fragment-options"></a>
<h2 class="section">3.3 Music fragment options</h2>

<p>In the following, a &lsquo;LilyPond command&rsquo; refers to any command described
in the previous sections which is handled by <code>lilypond-book</code> to
produce a music snippet.  For simplicity, LilyPond commands are only
shown in LaTeX syntax.
</p>
<p>Note that the option string is parsed from left to right; if an option
occurs multiple times, the last one is taken.
</p>
<p>The following options are available for LilyPond commands:
</p>
<dl compact="compact">
<dt> <code>staffsize=<var>ht</var></code></dt>
<dd><p>Set staff size to <var>ht</var>, which is measured in points.
</p>
</dd>
<dt> <code>ragged-right</code></dt>
<dd><p>Produce ragged-right lines with natural spacing, i.e.,
<code>ragged-right = ##t</code> is added to the LilyPond snippet.  Single-line
snippets will always be typeset by default as ragged-right, unless
<code>noragged-right</code> is explicitly given.
</p>
</dd>
<dt> <code>noragged-right</code></dt>
<dd><p>For single-line snippets, allow the staff length to be stretched to
equal that of the line width, i.e., <code>ragged-right = ##f</code> is
added to the LilyPond snippet.
</p>
</dd>
<dt> <code>line-width</code></dt>
<dt> <code>line-width=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set line width to <var>size</var>, using <var>unit</var> as units.  <var>unit</var> is
one of the following strings: <code>cm</code>, <code>mm</code>, <code>in</code>, or
<code>pt</code>.  This option affects LilyPond output (this is, the staff
length of the music snippet), not the text layout.
</p>
<p>If used without an argument, set line width to a default value (as
computed with a heuristic algorithm).
</p>
<p>If no <code>line-width</code> option is given, <code>lilypond-book</code> tries to
guess a default for <code>lilypond</code> environments which don&rsquo;t use the
<code>ragged-right</code> option.
</p>
</dd>
<dt> <code>papersize=<var>string</var></code></dt>
<dd><p>Where <var>string</var> is a paper size defined in &lsquo;<tt>scm/paper.scm</tt>&rsquo; i.e.
<code>a5</code>, <code>quarto</code>, <code>11x17</code> etc.
</p>
<p>Values not defined in &lsquo;<tt>scm/paper.scm</tt>&rsquo; will be ignored, a warning
will be posted and the snippet will be printed using the default
<code>a4</code> size.
</p>
</dd>
<dt> <code>notime</code></dt>
<dd><p>Do not print the time signature, and turns off the timing (time signature,
bar lines) in the score.
</p>
</dd>
<dt> <code>fragment</code></dt>
<dd><p>Make <code>lilypond-book</code> add some boilerplate code so that you can
simply enter, say,
</p>
<blockquote><pre class="example">c'4
</pre></blockquote>

<p>without <code>\layout</code>, <code>\score</code>, etc.
</p>
</dd>
<dt> <code>nofragment</code></dt>
<dd><p>Do not add additional code to complete LilyPond code in music snippets.
Since this is the default, <code>nofragment</code> is redundant normally.
</p>
</dd>
<dt> <code>indent=<var>size</var>\<var>unit</var></code></dt>
<dd><p>Set indentation of the first music system to <var>size</var>, using
<var>unit</var> as units.  <var>unit</var> is one of the following strings:
<code>cm</code>, <code>mm</code>, <code>in</code>, or <code>pt</code>.  This option affects
LilyPond, not the text layout.
</p>
</dd>
<dt> <code>noindent</code></dt>
<dd><p>Set indentation of the first music system to zero.  This option affects
LilyPond, not the text layout.  Since no indentation is the default,
<code>noindent</code> is redundant normally.
</p>
</dd>
<dt> <code>quote</code></dt>
<dd><p>Reduce line length of a music snippet by <em>2*0.4</em>in and put
the output into a quotation block.  The value &lsquo;0.4in&rsquo; can be
controlled with the <code>exampleindent</code> option.
</p>
</dd>
<dt> <code>exampleindent</code></dt>
<dd><p>Set the amount by which the <code>quote</code> option indents a music snippet.
</p>
</dd>
<dt> <code>relative</code></dt>
<dt> <code>relative=<var>n</var></code></dt>
<dd><p>Use relative octave mode.  By default, notes are specified relative to
middle&nbsp;C.  The optional integer argument specifies the octave of
the starting note, where the default <code>1</code> is middle C.
<code>relative</code> option only works when <code>fragment</code> option is set,
so <code>fragment</code> is automatically implied by <code>relative</code>,
regardless of the presence of any <code>(no)fragment</code> option in the
source.
</p></dd>
</dl>

<p>LilyPond also uses <code>lilypond-book</code> to produce its own
documentation.  To do that, some more obscure music fragment options are
available.
</p>
<dl compact="compact">
<dt> <code>verbatim</code></dt>
<dd><p>The argument of a LilyPond command is copied to the output file and
enclosed in a verbatim block, followed by any text given with the
<code>intertext</code> option (not implemented yet); then the actual music is
displayed.  This option does not work well with <code>\lilypond{}</code> if
it is part of a paragraph.
</p>
<p>If <code>verbatim</code> is used in a <code>lilypondfile</code> command, it is
possible to enclose verbatim only a part of the source file.  If the
source file contain a comment containing &lsquo;<samp>begin verbatim</samp>&rsquo; (without
quotes), quoting the source in the verbatim block will start after the
last occurrence of such a comment; similarly, quoting the source verbatim
will stop just before the first occurrence of a comment containing
&lsquo;<samp>end verbatim</samp>&rsquo;, if there is any.  In the following source file
example, the music will be interpreted in relative mode, but the
verbatim quote will not show the <code>relative</code> block, i.e.
</p>
<blockquote><pre class="example">\relative { % begin verbatim
  c'4 e2 g4
  f2 e % end verbatim
}
</pre></blockquote>

<p>will be printed with a verbatim block like
</p>
<blockquote><pre class="example">  c4 e2 g4
  f2 e
</pre></blockquote>

<p>If you would like to translate comments and variable names in verbatim
output but not in the sources, you may set the environment variable
<code>LYDOC_LOCALEDIR</code> to a directory path; the directory should
contain a tree of &lsquo;<tt>.mo</tt>&rsquo; message catalogs with <code>lilypond-doc</code>
as a domain.
</p>
</dd>
<dt> <code>addversion</code></dt>
<dd><p>(Only for Texinfo output.)  Prepend line <code>\version
@w{&quot;@version{}&quot;}</code> to <code>verbatim</code> output.
</p>
</dd>
<dt> <code>texidoc</code></dt>
<dd><p>(Only for Texinfo output.)  If <code>lilypond</code> is called with the
&lsquo;<samp>--header=texidoc</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo;, it creates a file &lsquo;<tt>foo.texidoc</tt>&rsquo; if there
is a <code>texidoc</code> field in the <code>\header</code>.  The <code>texidoc</code>
option makes <code>lilypond-book</code> include such files, adding its
contents as a documentation block right before the music snippet (but
outside the <code>example</code> environment generated by a <code>quote</code>
option).
</p>
<p>Assuming the file &lsquo;<tt>foo.ly</tt>&rsquo; contains
</p>
<blockquote><pre class="example">\header {
  texidoc = &quot;This file demonstrates a single note.&quot;
}
{ c'4 }
</pre></blockquote>

<p>and we have this in our Texinfo document &lsquo;<tt>test.texinfo</tt>&rsquo;
</p>
<blockquote><pre class="example">@lilypondfile[texidoc]{foo.ly}
</pre></blockquote>

<p>the following command line gives the expected result
</p>
<blockquote><pre class="example">lilypond-book --pdf --process=&quot;lilypond \
  -dbackend=eps --header=texidoc&quot; test.texinfo
</pre></blockquote>

<p>Most LilyPond test documents (in the &lsquo;<tt>input</tt>&rsquo; directory of the
distribution) are small &lsquo;<tt>.ly</tt>&rsquo; files which look exactly like this.
</p>
<p>For localization purpose, if the Texinfo document contains
<code>@documentlanguage <var>LANG</var></code> and &lsquo;<tt>foo.ly</tt>&rsquo; header
contains a <code>texidoc<var>LANG</var></code> field, and if <code>lilypond</code>
is called with &lsquo;<samp>--header=texidoc<var>LANG</var></samp>&rsquo;, then
&lsquo;<tt>foo.texidoc<var>LANG</var></tt>&rsquo; will be included instead of
&lsquo;<tt>foo.texidoc</tt>&rsquo;.
</p>
</dd>
<dt> <code>doctitle</code></dt>
<dd><p>(Only for Texinfo output.) This option works similarly to
<code>texidoc</code> option: if <code>lilypond</code> is called with the
&lsquo;<samp>--header=doctitle</samp>&rsquo; option, and the file to be processed is
called &lsquo;<tt>foo.ly</tt>&rsquo; and contains a <code>doctitle</code> field in the
<code>\header</code>, it creates a file &lsquo;<tt>foo.doctitle</tt>&rsquo;.  When
<code>doctitle</code> option is used, the contents of &lsquo;<tt>foo.doctitle</tt>&rsquo;,
which should be a single line of <var>text</var>, is inserted in the
Texinfo document as <code>@lydoctitle <var>text</var></code>.
<code>@lydoctitle</code> should be a macro defined in the Texinfo document.
The same remark about <code>texidoc</code> processing with localized
languages also applies to <code>doctitle</code>.
</p>
</dd>
<dt> <code>nogettext</code></dt>
<dd><p>(Only for Texinfo output.) Do not translate comments and variable
names in the snippet quoted verbatim.
</p>
</dd>
<dt> <code>printfilename</code></dt>
<dd><p>If a LilyPond input file is included with <code>\lilypondfile</code>, print
the file name right before the music snippet.  For HTML output, this
is a link.  Only the base name of the file is printed, i.e. the
directory part of the file path is stripped.
</p>
</dd>
</dl>


<hr size="6">
<a name="Invoking-lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-fragment-options" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Music fragment options&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#filename-extensions" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Filename extensions &gt; </a>]</td></tr></table>
<a name="invoking-lilypond_002dbook"></a>
<h2 class="section">3.4 Invoking <code>lilypond-book</code></h2>

<p><code>lilypond-book</code> produces a file with one of the following
extensions: &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo;, &lsquo;<tt>.html</tt>&rsquo; or &lsquo;<tt>.xml</tt>&rsquo;,
depending on the output format.  All of &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo; and
&lsquo;<tt>.xml</tt>&rsquo; files need further processing.
</p>
<a name="Format_002dspecific-instructions"></a>
<h3 class="subheading">Format-specific instructions</h3>

<a name="LaTeX-3"></a>
<h4 class="subsubheading">LaTeX</h4>

<p>There are two ways of processing your LaTeX document for printing or
publishing: getting a PDF file directly with PDFLaTeX, or getting a
PostScript file with LaTeX via a DVI to PostScript translator like
<code>dvips</code>.  The first way is simpler and recommended<sup><a name="DOCF4" href="#FOOT4">4</a></sup>, and whichever
way you use, you can easily convert between PostScript and PDF with
tools, like <code>ps2pdf</code> and <code>pdf2ps</code> included in
Ghostscript package.
</p>
<p>To produce a PDF file through PDFLaTeX, use:
</p>
<blockquote><pre class="example">lilypond-book --pdf yourfile.lytex
pdflatex yourfile.tex
</pre></blockquote>

<a name="index-outline-fonts"></a>
<a name="index-type1-fonts"></a>
<a name="index-dvips"></a>
<a name="index-invoking-dvips"></a>
<p>To produce PDF output via LaTeX/<code>dvips</code>/<code>ps2pdf</code>:
</p>
<blockquote><pre class="example">lilypond-book yourfile.lytex
latex yourfile.tex
dvips -Ppdf yourfile.dvi
ps2pdf yourfile.ps
</pre></blockquote>

<p>The &lsquo;<tt>.dvi</tt>&rsquo; file created by this process will not contain note heads.
This is normal; if you follow the instructions, they will be included in
the &lsquo;<tt>.ps</tt>&rsquo; and &lsquo;<tt>.pdf</tt>&rsquo; files.
</p>
<p>Running <code>dvips</code> may produce some warnings about fonts; these
are harmless and may be ignored.  If you are running <code>latex</code> in
twocolumn mode, remember to add &lsquo;<samp>-t landscape</samp>&rsquo; to the
<code>dvips</code> options.
</p>
<p>Environments such as;
</p>
<blockquote><pre class="example">\begin{lilypond} &hellip; \end{lilypond}
</pre></blockquote>

<p>are not interpreted by LaTeX.  Instead, <code>lilypond-book</code> extracts
those &lsquo;environments&rsquo; into files of its own and runs LilyPond on them.
It then takes the resulting graphics and creates a &lsquo;<tt>.tex</tt>&rsquo; file
where the <code>\begin{lilypond}</code>&hellip;<code>\end{lilypond}</code> macros
are then replaced by &lsquo;graphics inclusion&rsquo; commands.  It is at this
time that LaTeX is run (although LaTeX will have run previously,
it will have been, effectively, on an &lsquo;empty&rsquo; document in order to
calculate things like <code>\linewidth</code>).
</p>
<a name="Advertiments-i-problemes-coneguts-3"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>

<p>The <code>\pageBreak</code> command will not work within a
<code>\begin{lilypond} &hellip; \end{lilypond}</code> environment.
</p>
<p>Many <code>\paper</code> block variables will also not work within a
<code>\begin{lilypond} &hellip; \end{lilypond}</code> environment.  Use
<code>\newcommand</code> with <code>\betweenLilyPondSystem</code> in the preamble;
</p>
<blockquote><pre class="example">\newcommand{\betweenLilyPondSystem}[1]{\vspace{36mm}\linebreak}
</pre></blockquote>


<a name="Texinfo-3"></a>
<h4 class="subsubheading">Texinfo</h4>

<p>To produce a Texinfo document (in any output format), follow the normal
procedures for Texinfo; this is, either call <code>texi2pdf</code> or
<code>texi2dvi</code> or <code>makeinfo</code>, depending on the output format
you want to create.
See the documentation of Texinfo for further details.
</p>

<a name="Command-line-options"></a>
<h3 class="subheading">Command line options</h3>

<p><code>lilypond-book</code> accepts the following command line options:
</p>
<dl compact="compact">
<dt> <code>-f <var>format</var></code></dt>
<dt> <code>--format=<var>format</var></code></dt>
<dd><p>Specify the document type to process: <code>html</code>, <code>latex</code>,
<code>texi</code> (the default) or <code>docbook</code>.  If this option is missing,
<code>lilypond-book</code> tries to detect the format automatically, see
<a href="#filename-extensions">Filename extensions</a>.  Currently, <code>texi</code> is the same as
<code>texi-html</code>.
</p>

</dd>
<dt> <code>-F <var>filter</var></code></dt>
<dt> <code>--filter=<var>filter</var></code></dt>
<dd><p>Pipe snippets through <var>filter</var>.  <code>lilypond-book</code> will
not &ndash;filter and &ndash;process at the same time.  For example,
</p>
<blockquote><pre class="example">lilypond-book --filter='convert-ly --from=2.0.0 -' my-book.tely
</pre></blockquote>

</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>Print a short help message.
</p>
</dd>
<dt> <code>-I <var>dir</var></code></dt>
<dt> <code>--include=<var>dir</var></code></dt>
<dd><p>Add <var>dir</var> to the include path.  <code>lilypond-book</code> also looks
for already compiled snippets in the include path, and does not write
them back to the output directory, so in some cases it is necessary to
invoke further processing commands such as <code>makeinfo</code> or
<code>latex</code> with the same &lsquo;<samp>-I <var>dir</var></samp>&rsquo; options.
</p>
</dd>
<dt> <code>-l <var>loglevel</var></code></dt>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>Set the output verbosity to <var>loglevel</var>. Possible values are <code>NONE</code>,
<code>ERROR</code>, <code>WARNING</code>, <code>PROGRESS</code> (default) and <code>DEBUG</code>. If
this option is not used, and the environment variable
<code>LILYPOND_BOOK_LOGLEVEL</code> is set, its value is used as the loglevel.
</p>
</dd>
<dt> <code>-o <var>dir</var></code></dt>
<dt> <code>--output=<var>dir</var></code></dt>
<dd><p>Place generated files in directory <var>dir</var>.  Running
<code>lilypond-book</code> generates lots of small files that LilyPond will
process.  To avoid all that garbage in the source directory, use the
&lsquo;<samp>--output</samp>&rsquo; command line option, and change to that directory
before running <code>latex</code> or <code>makeinfo</code>.
</p>
<blockquote><pre class="example">lilypond-book --output=out yourfile.lytex
cd out
&hellip;
</pre></blockquote>

</dd>
<dt> <code>--skip-lily-check</code></dt>
<dd><p>Do not fail if no lilypond output is found.  It is used for LilyPond
Info documentation without images.
</p>
</dd>
<dt> <code>--skip-png-check</code></dt>
<dd><p>Do not fail if no PNG images are found for EPS files.  It is used for
LilyPond Info documentation without images.
</p>
</dd>
<dt> <code>--lily-output-dir=<var>dir</var></code></dt>
<dd><p>Write lily-XXX files to directory <var>dir</var>, link into &lsquo;<samp>--output</samp>&rsquo;
directory.  Use this option to save building time for documents in
different directories which share a lot of identical snippets.
</p>
</dd>
<dt> <code>--lily-loglevel=<var>loglevel</var></code></dt>
<dd><p>Set the output verbosity of the invoked <code>lilypond</code> calls to
<var>loglevel</var>.  Possible values are <code>NONE</code>, <code>ERROR</code>,
<code>WARNING</code>, <code>BASIC_PROGRESS</code>, <code>PROGRESS</code>, <code>INFO</code>
(default) and <code>DEBUG</code>.  If this option is not used, and the
environment variable <code>LILYPOND_LOGLEVEL</code> is set, its value is used
as the loglevel.
</p>

</dd>
<dt> <code>--info-images-dir=<var>dir</var></code></dt>
<dd><p>Format Texinfo output so that Info will look for images of music in
<var>dir</var>.
</p>
</dd>
<dt> <code>--latex-program=<var>prog</var></code></dt>
<dd><p>Run executable <code>prog</code> instead of <code>latex</code>.  This is
useful if your document is processed with <code>xelatex</code>, for
example.
</p>
</dd>
<dt> <code>--left-padding=<var>amount</var></code></dt>
<dd><p>Pad EPS boxes by this much.  <var>amount</var> is measured in millimeters,
and is 3.0 by default.  This option should be used if the lines of
music stick out of the right margin.
</p>
<p>The width of a tightly clipped system can vary, due to notation
elements that stick into the left margin, such as bar numbers and
instrument names.  This option will shorten each line and move each
line to the right by the same amount.
</p>
</dd>
<dt> <code>-P <var>command</var></code></dt>
<dt> <code>--process=<var>command</var></code></dt>
<dd><p>Process LilyPond snippets using <var>command</var>.  The default command is
<code>lilypond</code>.  <code>lilypond-book</code> will not &lsquo;<samp>--filter</samp>&rsquo; and
&lsquo;<samp>--process</samp>&rsquo; at the same time.
</p>
</dd>
<dt> <code>--pdf</code></dt>
<dd><p>Create PDF files for use with PDFLaTeX.
</p>
</dd>
<dt> <code>--redirect-lilypond-output</code></dt>
<dd><p>By default, output is displayed on the terminal.  This option redirects
all output to log files in the same directory as the source files.
</p>
</dd>
<dt> <code>--use-source-file-names</code></dt>
<dd><p>Write snippet output files with the same base name as their source file.
This option works only for snippets included with <code>lilypondfile</code>
and only if directories implied by &lsquo;<samp>--output-dir</samp>&rsquo; and
&lsquo;<samp>--lily-output-dir</samp>&rsquo; options are different.
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--verbose</code></dt>
<dd><p>Be verbose. This is equivalent to <code>--loglevel=DEBUG</code>.
</p>
</dd>
<dt> <code>-v</code></dt>
<dt> <code>--version</code></dt>
<dd><p>Print version information.
</p></dd>
</dl>



<a name="Advertiments-i-problemes-coneguts-2"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>

<p>The Texinfo command <code>@pagesizes</code> is not interpreted.  Similarly,
LaTeX commands that change margins and line widths after the preamble
are ignored.
</p>
<p>Only the first <code>\score</code> of a LilyPond block is processed.
</p>

<hr size="6">
<a name="Filename-extensions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond_002dbook" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invoking lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;lilypond-book templates &gt; </a>]</td></tr></table>
<a name="filename-extensions"></a>
<h2 class="section">3.5 Filename extensions</h2>

<p>You can use any filename extension for the input file, but if you do not
use the recommended extension for a particular format you may need to
manually specify the output format; for details, see <a href="#invoking-lilypond_002dbook">Invoking <code>lilypond-book</code></a>.  Otherwise, <code>lilypond-book</code> automatically
selects the output format based on the input filename&rsquo;s extension.
</p>
<blockquote><table>
<tr><td width="20%"><p> <strong>extension</strong> </p></td><td width="50%"><p> <strong>output format</strong>
</p></td></tr>
<tr><td width="20%"></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.html</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.htmly</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.itely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.latex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lytex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lyxml</tt>&rsquo; </p></td><td width="50%"><p> DocBook
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texi</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texinfo</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.xml</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
</table>
</blockquote>

<p>If you use the same filename extension for the input file than the
extension <code>lilypond-book</code> uses for the output file, and if the
input file is in the same directory as <code>lilypond-book</code> working
directory, you must use &lsquo;<samp>--output</samp>&rsquo; option to make
<code>lilypond-book</code> running, otherwise it will exit with an error
message like &ldquo;Output would overwrite input file&rdquo;.
</p>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#filename-extensions" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Filename extensions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook-templates"></a>
<h2 class="section">3.6 lilypond-book templates</h2>

<p>These templates are for use with <code>lilypond-book</code>.  If you&rsquo;re not familiar
with this program, please refer to
<a href="#lilypond_002dbook">Running <code>lilypond-book</code></a>.
</p>
<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; lilypond-book templates&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.1 LaTeX</h3>

<p>You can include LilyPond fragments in a LaTeX document.
</p>
<blockquote><pre class="example">\documentclass[]{article}

\begin{document}

Normal LaTeX text.

\begin{lilypond}
\relative {
  a'4 b c d
}
\end{lilypond}

More LaTeX text, and options in square brackets.

\begin{lilypond}[fragment,relative=2,quote,staffsize=26,verbatim]
d4 c b a
\end{lilypond}
\end{document}
</pre></blockquote>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.2 Texinfo</h3>

<p>You can include LilyPond fragments in Texinfo; in fact, this entire manual
is written in Texinfo.
</p>
<blockquote><pre class="example">\input texinfo @node Top
@top

Texinfo text

@lilypond
\relative {
  a4 b c d
}
@end lilypond

More Texinfo text, and options in brackets.

@lilypond[verbatim,fragment,ragged-right]
d4 c b a
@end lilypond

@bye
</pre></blockquote>


<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.3 html</h3>

<blockquote><pre class="example">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;!-- header_tag --&gt;
&lt;HTML&gt;
&lt;body&gt;

&lt;p&gt;
Documents for lilypond-book may freely mix music and text.  For
example,
&lt;lilypond&gt;
\relative {
  a'4 b c d
}
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;p&gt;
Another bit of lilypond, this time with options:

&lt;lilypond fragment quote staffsize=26 verbatim&gt;
a4 b c d
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;


</pre></blockquote>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book templates&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#sharing-the-table-of-contents" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Sharing the table of contents &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.4 xelatex</h3>

<pre class="verbatim">\documentclass{article}
\usepackage{ifxetex}
\ifxetex
%xetex specific stuff
\usepackage{xunicode,fontspec,xltxtra}
\setmainfont[Numbers=OldStyle]{Times New Roman}
\setsansfont{Arial}
\else
%This can be empty if you are not going to use pdftex
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{mathptmx}%Times
\usepackage{helvet}%Helvetica
\fi
%Here you can insert all packages that pdftex also understands
\usepackage[ngerman,finnish,english]{babel}
\usepackage{graphicx}

\begin{document}
\title{A short document with LilyPond and xelatex}
\maketitle

Normal \textbf{font} commands inside the \emph{text} work,
because they \textsf{are supported by \LaTeX{} and XeteX.}
If you want to use specific commands like \verb+\XeTeX+, you
should include them again in a \verb+\ifxetex+ environment.
You can use this to print the \ifxetex \XeTeX{} command \else
XeTeX command \fi which is not known to normal \LaTeX .

In normal text you can easily use LilyPond commands, like this:

\begin{lilypond}
{a2 b c'8 c' c' c'}
\end{lilypond}

\noindent
and so on.

The fonts of snippets set with LilyPond will have to be set from
inside
of the snippet.  For this you should read the AU on how to use
lilypond-book.

\selectlanguage{ngerman}
Auch Umlaute funktionieren ohne die \LaTeX -Befehle, wie auch alle
anderen
seltsamen Zeichen: __ ______, wenn sie von der Schriftart
unterst__tzt werden.
\end{document}
</pre>

<hr size="6">
<a name="Sharing-the-table-of-contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#alternate-methods-of-mixing-text-and-music" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Alternate methods of mixing text and music &gt; </a>]</td></tr></table>
<a name="sharing-the-table-of-contents"></a>
<h2 class="section">3.7 Sharing the table of contents</h2>

<p>These functions already exist in the OrchestralLily package:
</p>
<blockquote><pre class="example"><a href="http://repo.or.cz/w/orchestrallily.git">http://repo.or.cz/w/orchestrallily.git</a>
</pre></blockquote>

<p>For greater flexibility in text handling, some users prefer to
export the table of contents from lilypond and read it into
LaTeX.
</p>
<a name="Exporting-the-ToC-from-LilyPond"></a>
<h4 class="subsubheading">Exporting the ToC from LilyPond</h4>

<p>This assumes that your score has multiple movements in the same lilypond
output file.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#(define (oly:create-toc-file layout pages)
  (let* ((label-table (ly:output-def-lookup layout 'label-page-table)))
    (if (not (null? label-table))
      (let* ((format-line (lambda (toc-item)
             (let* ((label (car toc-item))
                    (text  (caddr toc-item))
                    (label-page (and (list? label-table)
                                     (assoc label label-table)))
                    (page (and label-page (cdr label-page))))
               (format #f &quot;~a, section, 1, {~a}, ~a&quot; page text label))))
             (formatted-toc-items (map format-line (toc-items)))
             (whole-string (string-join formatted-toc-items &quot;,\n&quot;))
             (output-name (ly:parser-output-name))
             (outfilename (format &quot;~a.toc&quot; output-name))
             (outfile (open-output-file outfilename)))
        (if (output-port? outfile)
            (display whole-string outfile)
            (ly:warning (_ &quot;Unable to open output file ~a for the TOC information&quot;) outfilename))
        (close-output-port outfile)))))

\paper {
  #(define (page-post-process layout pages) (oly:create-toc-file layout pages))
}
</pre></td></tr></table>

<a name="Importing-the-ToC-into-LaTeX"></a>
<h4 class="subsubheading">Importing the ToC into LaTeX</h4>

<p>In LaTeX, the header should include:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">\usepackage{pdfpages}
\includescore{nameofthescore}
</pre></td></tr></table>

<p>where <code>\includescore</code> is defined as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \includescore{PossibleExtension}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Read in the TOC entries for a PDF file from the corresponding .toc file.
% This requires some heave latex tweaking, since reading in things from a file
% and inserting it into the arguments of a macro is not (easily) possible

% Solution by Patrick Fimml on #latex on April 18, 2009:
% \readfile{filename}{\variable}
% reads in the contents of the file into \variable (undefined if file
% doesn't exist)
\newread\readfile@f
\def\readfile@line#1{%
{\catcode`\^^M=10\global\read\readfile@f to \readfile@tmp}%
\edef\do{\noexpand\g@addto@macro{\noexpand#1}{\readfile@tmp}}\do%
\ifeof\readfile@f\else%
\readfile@line{#1}%
\fi%
}
\def\readfile#1#2{%
\openin\readfile@f=#1 %
\ifeof\readfile@f%
\typeout{No TOC file #1 available!}%
\else%
\gdef#2{}%
\readfile@line{#2}%
\fi
\closein\readfile@f%
}%


\newcommand{\includescore}[1]{
\def\oly@fname{\oly@basename\@ifmtarg{#1}{}{_#1}}
\let\oly@addtotoc\undefined
\readfile{\oly@xxxxxxxxx}{\oly@addtotoc}
\ifx\oly@addtotoc\undefined
\includepdf[pages=-]{\oly@fname}
\else
\edef\includeit{\noexpand\includepdf[pages=-,addtotoc={\oly@addtotoc}]
{\oly@fname}}\includeit
\fi
}
</pre></td></tr></table>


<hr size="6">
<a name="Alternate-methods-of-mixing-text-and-music"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#sharing-the-table-of-contents" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Sharing the table of contents&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#external-programs" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;External programs &gt; </a>]</td></tr></table>
<a name="alternate-methods-of-mixing-text-and-music"></a>
<h2 class="section">3.8 Alternative methods of mixing text and music</h2>

<p>Other means of mixing text and music (without
<code>lilypond-book</code>) are discussed in
<a href="#lilypond-output-in-other-programs">LilyPond output in other programs</a>.
</p>


<hr size="6">
<a name="External-programs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#alternate-methods-of-mixing-text-and-music" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Alternate methods of mixing text and music&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Point and click &gt; </a>]</td></tr></table>
<a name="external-programs"></a>
<h1 class="chapter">4. External programs</h1>

<p>LilyPond can interact with other programs in various ways.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#point-and-click" accesskey="1">4.1 Point and click</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#text-editor-support" accesskey="2">4.2 Text editor support</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#converting-from-other-formats" accesskey="3">4.3 Converting from other formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-output-in-other-programs" accesskey="4">4.4 LilyPond output in other programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#independent-includes" accesskey="5">4.5 Independent <code>include</code>s</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#external-programs" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;External programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#configuring-the-system-for-point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Configuring the system for point and click &gt; </a>]</td></tr></table>
<a name="point-and-click"></a>
<h2 class="section">4.1 Point and click</h2>

<a name="index-point-and-click"></a>

<p>Point and click lets you find notes in the input by clicking on them
in the PDF viewer.  This makes it easier to find input that causes some
error in the sheet music.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#configuring-the-system-for-point-and-click" accesskey="1">4.1.1 Configuring the system</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#enabling-point-and-click" accesskey="2">Enabling point and click</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#selective-point_002dand_002dclick" accesskey="3">Selective point-and-click</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Configuring-the-system-for-point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-xpdf-for-point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Using Xpdf for point and click &gt; </a>]</td></tr></table>
<a name="configuring-the-system-for-point-and-click"></a>
<h3 class="subsection">4.1.1 Configuring the system</h3>

<p>When this functionality is active, LilyPond adds hyperlinks to PDF and
SVG files.  These hyperlinks are sent to a &lsquo;URI helper&rsquo; or a
web-browser, which opens a text-editor with the cursor in the right
place.
</p>
<p>To make this chain work, you should configure your PDF viewer to
follow hyperlinks using the &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; script
supplied with LilyPond.
</p>
<p>The program &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; is a small helper
program.  It will invoke an editor for the special <code>textedit</code>
URIs, and run a web browser for others.  It tests the environment
variable <code>EDITOR</code> for the following patterns,
</p>
<dl compact="compact">
<dt> <code>emacs</code></dt>
<dd><p>  this will invoke
</p><blockquote><pre class="example">emacsclient --no-wait +<var>line</var>:<var>column</var> <var>file</var>
</pre></blockquote>
</dd>
<dt> <code>gvim</code></dt>
<dd><p>  this will invoke
</p><blockquote><pre class="example">gvim --remote +:<var>line</var>:norm<var>column</var> <var>file</var>
</pre></blockquote>

</dd>
<dt> <code>nedit</code></dt>
<dd><p>this will invoke
</p><blockquote><pre class="example">  nc -noask +<var>line</var> <var>file</var>'
</pre></blockquote>
</dd>
</dl>

<p>The environment variable <code>LYEDITOR</code> is used to override this.  It
contains the command line to start the editor, where <code>%(file)s</code>,
<code>%(column)s</code>, <code>%(line)s</code> is replaced with the file, column
and line respectively.  The  setting
</p>
<blockquote><pre class="example">emacsclient --no-wait +%(line)s:%(column)s %(file)s
</pre></blockquote>

<p>for <code>LYEDITOR</code> is equivalent to the standard emacsclient
invocation.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#using-xpdf-for-point-and-click" accesskey="1">Using Xpdf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#using-gnome-2-for-point-and-click" accesskey="2">Using GNOME 2</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#using-gnome-3-for-point-and-click" accesskey="3">Using GNOME 3</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#extra-configuration-for-evince" accesskey="4">Extra configuration for Evince</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Using-Xpdf-for-point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#configuring-the-system-for-point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Configuring the system for point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Configuring the system for point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-gnome-2-for-point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Using GNOME 2 for point and click &gt; </a>]</td></tr></table>
<a name="using-xpdf-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Using Xpdf</h4>

<a name="index-Xpdf"></a>

<p>For Xpdf on UNIX, the following should be present in
&lsquo;<tt>xpdfrc</tt>&rsquo;.  On UNIX, this file is found either in
&lsquo;<tt>/etc/xpdfrc</tt>&rsquo; or as &lsquo;<tt>$HOME/.xpdfrc</tt>&rsquo;.
</p>
<blockquote><pre class="example">urlCommand     &quot;lilypond-invoke-editor %s&quot;
</pre></blockquote>

<p>If you are using Ubuntu, it is likely that the version of Xpdf
installed with your system crashes on every PDF file: this state
has been persisting for several years and is due to library
mismatches.  Your best bet is to install a current &lsquo;<samp>xpdf</samp>&rsquo;
package and the corresponding &lsquo;<samp>libpoppler</samp>&rsquo; package from
Debian instead.  Once you have tested that this works, you might
want to use
</p>
<blockquote><pre class="example">sudo apt-mark hold xpdf
</pre></blockquote>

<p>in order to keep Ubuntu from overwriting it with the next
&lsquo;update&rsquo; of its crashing package.
</p>

<hr size="6">
<a name="Using-GNOME-2-for-point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-xpdf-for-point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using Xpdf for point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Configuring the system for point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-gnome-3-for-point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Using GNOME 3 for point and click &gt; </a>]</td></tr></table>
<a name="using-gnome-2-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Using GNOME 2</h4>

<p>For using GNOME 2 (and PDF viewers integrated with it), the magic
invocation for telling the system about the &lsquo;<samp>textedit:</samp>&rsquo; URI
is;
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">gconftool-2 -t string -s /desktop/gnome/url-handlers/textedit/command &quot;lilypond-invoke-editor %s&quot;
gconftool-2 -s /desktop/gnome/url-handlers/textedit/needs_terminal false -t bool
gconftool-2 -t bool -s /desktop/gnome/url-handlers/textedit/enabled true
</pre></td></tr></table>

<p>After that invocation;
</p>
<blockquote><pre class="example">gnome-open textedit:///etc/issue:1:0:0
</pre></blockquote>

<p>should call &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; for opening files.
</p>

<hr size="6">
<a name="Using-GNOME-3-for-point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-gnome-2-for-point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using GNOME 2 for point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Configuring the system for point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#extra-configuration-for-evince" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Extra configuration for Evince &gt; </a>]</td></tr></table>
<a name="using-gnome-3-for-point-and-click"></a>
<h4 class="unnumberedsubsubsec">Using GNOME 3</h4>

<p>In GNOME 3, URIs are handled by the &lsquo;gvfs&rsquo; layer rather than by
&lsquo;gconf&rsquo;.  Create a file in a local directory such as &lsquo;<tt>/tmp</tt>&rsquo;
that is called &lsquo;<tt>lilypond-invoke-editor.desktop</tt>&rsquo; and has the
contents;
</p>
<blockquote><pre class="example">[Desktop Entry]
Version=1.0
Name=lilypond-invoke-editor
GenericName=Textedit URI handler
Comment=URI handler for textedit:
Exec=lilypond-invoke-editor %u
Terminal=false
Type=Application
MimeType=x-scheme-handler/textedit;
Categories=Editor
NoDisplay=true
</pre></blockquote>
<p>and then execute the commands
</p><blockquote><pre class="example">xdg-desktop-menu install ./lilypond-invoke-editor.desktop
xdg-mime default lilypond-invoke-editor.desktop x-scheme-handler/textedit
</pre></blockquote>

<p>After that invocation;
</p>
<blockquote><pre class="example">gnome-open textedit:///etc/issue:1:0:0
</pre></blockquote>
<p>should call &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; for opening files.
</p>

<hr size="6">
<a name="Extra-configuration-for-Evince"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-gnome-3-for-point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using GNOME 3 for point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#configuring-the-system-for-point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Configuring the system for point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#enabling-point-and-click" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Enabling point and click &gt; </a>]</td></tr></table>
<a name="extra-configuration-for-evince"></a>
<h4 class="unnumberedsubsubsec">Extra configuration for Evince</h4>

<a name="index-Evince"></a>

<p>If <code>gnome-open</code> works, but Evince still refuses to open point
and click links due to denied permissions, you might need to
change the Apparmor profile of Evince which controls the kind of
actions Evince is allowed to perform.
</p>
<p>For Ubuntu, the process is to edit the file
&lsquo;<tt>/etc/apparmor.d/local/usr.bin.evince</tt>&rsquo; and append the
following lines:
</p>
<blockquote><pre class="example"># For Textedit links
/usr/local/bin/lilypond-invoke-editor Cx -&gt; sanitized_helper,
</pre></blockquote>

<p>After adding these lines, call
</p>
<blockquote><pre class="example">sudo apparmor_parser -r -T -W /etc/apparmor.d/usr.bin.evince
</pre></blockquote>

<p>Now Evince should be able to open point and click links.  It is
likely that similar configurations will work for other viewers.
</p>

<hr size="6">
<a name="Enabling-point-and-click"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#extra-configuration-for-evince" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Extra configuration for Evince&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#selective-point_002dand_002dclick" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Selective point-and-click &gt; </a>]</td></tr></table>
<a name="enabling-point-and-click"></a>
<h3 class="unnumberedsubsec">Enabling point and click</h3>
<a name="index-file-size_002c-output"></a>

<p>Point and click functionality is enabled by default when creating
PDF or SVG files.
</p>
<p>The point and click links enlarge the output files significantly.  For
reducing the size of these (and PS) files, point and click may
be switched off by issuing
</p>
<blockquote><pre class="example">\pointAndClickOff
</pre></blockquote>

<p>in a &lsquo;<tt>.ly</tt>&rsquo; file.  Point and click may be explicitly enabled with
</p>
<blockquote><pre class="example">\pointAndClickOn
</pre></blockquote>

<p>Alternately, you may disable point and click with a command-line
option:
</p>
<blockquote><pre class="example">lilypond -dno-point-and-click file.ly
</pre></blockquote>

<div class="warning"><p><strong>Nota:</strong> You should always turn off point and click in any LilyPond
files to be distributed to avoid including path information about
your computer in the PDF file, which can pose a security risk.
</p>
</div>

<hr size="6">
<a name="Selective-point_002dand_002dclick"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#enabling-point-and-click" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Enabling point and click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Point and click&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#text-editor-support" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Text editor support &gt; </a>]</td></tr></table>
<a name="selective-point_002dand_002dclick"></a>
<h3 class="unnumberedsubsec">Selective point-and-click</h3>

<p>For some interactive applications, it may be desirable to only
include certain point-and-click items.  For example, if somebody
wanted to create an application which played audio or video
starting from a particular note, it would be awkward if clicking
on the note produced the point-and-click location for an
accidental or slur which occurred over that note.
</p>
<p>This may be controlled by indicating which events to include:
</p>
<ul>
<li>
Hard-coded in the &lsquo;<tt>.ly</tt>&rsquo; file:

<blockquote><pre class="example">\pointAndClickTypes #'note-event
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click 'note-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
Command-line:

<blockquote><pre class="example">lilypond -dpoint-and-click=note-event   example.ly
</pre></blockquote>

</li></ul>

<p>Multiple events can be included:
</p>
<ul>
<li>
Hard-coded in the &lsquo;<tt>.ly</tt>&rsquo; file:

<blockquote><pre class="example">\pointAndClickTypes #'(note-event dynamic-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>or
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click '(note-event dynamic-event))
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
Command-line:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">lilypond \
  -e&quot;(ly:set-option 'point-and-click '(note-event dynamic-event))&quot; \
  example.ly
</pre></td></tr></table>

</li></ul>


<hr size="6">
<a name="Text-editor-support"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#selective-point_002dand_002dclick" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Selective point-and-click&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;External programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#emacs-mode" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Emacs mode &gt; </a>]</td></tr></table>
<a name="text-editor-support"></a>
<h2 class="section">4.2 Text editor support</h2>

<a name="index-editors"></a>
<a name="index-vim"></a>
<a name="index-emacs"></a>
<a name="index-modes_002c-editor"></a>
<a name="index-syntax-coloring"></a>
<a name="index-coloring_002c-syntax"></a>

<p>There is support for different text editors for LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#emacs-mode" accesskey="1">Emacs mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#vim-mode" accesskey="2">Vim mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#other-editors" accesskey="3">Other editors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Emacs-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#text-editor-support" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Text editor support&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#vim-mode" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Vim mode &gt; </a>]</td></tr></table>
<a name="emacs-mode"></a>
<h3 class="unnumberedsubsec">Emacs mode</h3>

<p>Emacs has a &lsquo;<tt>lilypond-mode</tt>&rsquo;, which provides keyword
autocompletion, indentation, LilyPond specific parenthesis matching
and syntax coloring, handy compile short-cuts and reading LilyPond
manuals using Info.  If &lsquo;<tt>lilypond-mode</tt>&rsquo; is not installed on your
platform, see below.
</p>
<p>An Emacs mode for entering music and running LilyPond is contained in
the source archive in the &lsquo;<tt>elisp</tt>&rsquo; directory.  Do <code>make
install</code> to install it to <var>elispdir</var>.  The file &lsquo;<tt>lilypond-init.el</tt>&rsquo;
should be placed to <var>load-path</var>&lsquo;<tt>/site-start.d/</tt>&rsquo; or appended
to your &lsquo;<tt>~/.emacs</tt>&rsquo; or &lsquo;<tt>~/.emacs.el</tt>&rsquo;.
</p>
<p>As a user, you may want add your source path (e.g. &lsquo;<tt>~/site-lisp/</tt>&rsquo;) to
your <var>load-path</var> by appending the following line (as modified) to your
&lsquo;<tt>~/.emacs</tt>&rsquo;
</p>
<blockquote><pre class="example">(setq load-path (append (list (expand-file-name &quot;~/site-lisp&quot;)) load-path))
</pre></blockquote>


<hr size="6">
<a name="Vim-mode"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#emacs-mode" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Emacs mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-editors" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Other editors &gt; </a>]</td></tr></table>
<a name="vim-mode"></a>
<h3 class="unnumberedsubsec">Vim mode</h3>

<p>For <a href="http://www.vim.org">Vim</a>, a filetype plugin, indent
mode, and syntax-highlighting mode are available to use with
LilyPond.  To enable all of these features, create (or modify)
your &lsquo;<tt>$HOME/.vimrc</tt>&rsquo; to contain these three lines, in order:
</p>
<blockquote><pre class="example">filetype off
set runtimepath+=/usr/local/share/lilypond/current/vim/
filetype on
syntax on
</pre></blockquote>

<p>If LilyPond is not installed in the &lsquo;<tt>/usr/local/</tt>&rsquo; directory,
change the path appropriately.  This topic is discussed in
<a name="index-Other-sources-of-information"></a>
<a href="learning-big-page.ca.html#other-sources-of-information">Other sources of information</a>.
</p>

<hr size="6">
<a name="Other-editors"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#vim-mode" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Vim mode&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Text editor support&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#converting-from-other-formats" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Converting from other formats &gt; </a>]</td></tr></table>
<a name="other-editors"></a>
<h3 class="unnumberedsubsec">Other editors</h3>

<p>Other editors (both text and graphical) support LilyPond, but
their special configuration files are not distributed with
LilyPond.  Consult their documentation for more information.  Such
editors are listed in <a name="index-Easier-editing"></a>
<a href="web-big-page.ca.html#easier-editing">Easier editing</a>.
</p>

<hr size="6">
<a name="Converting-from-other-formats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-editors" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Other editors&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;External programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-midi2ly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invoking midi2ly &gt; </a>]</td></tr></table>
<a name="converting-from-other-formats"></a>
<h2 class="section">4.3 Converting from other formats</h2>

<p>Music can be entered also by importing it from other formats.  This
chapter documents the tools included in the distribution to do so.
There are other tools that produce LilyPond input, for example GUI
sequencers and XML converters.  Refer to the
<a href="http://lilypond.org">website</a> for more details.
</p>
<p>These are separate programs from <code>lilypond</code> itself, and are
run on the command line; see <a href="#command_002dline-usage">Utilització des de la línia d&rsquo;ordres</a> for more
information.  If you have MacOS 10.3 or 10.4 and you have trouble
running some of these scripts, e.g. <code>convert-ly</code>, see
<a name="index-MacOS-X-2"></a>
<a href="web-big-page.ca.html#macos-x">MacOS X</a>.
</p>
<a name="Advertiments-i-problemes-coneguts-5"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>
<p>We unfortunately do not have the resources to maintain these
programs; please consider them &ldquo;as-is&rdquo;.  Patches are appreciated, but
bug reports will almost certainly not be resolved.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-midi2ly" accesskey="1">4.3.1 Invoking <code>midi2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Importing MIDI.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-musicxml2ly" accesskey="2">4.3.2 Invoking <code>musicxml2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Importing MusicXML.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-abc2ly" accesskey="3">4.3.3 Invoking <code>abc2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Importing ABC.
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-etf2ly" accesskey="4">4.3.4 Invoking <code>etf2ly</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Importing Finale.
</td></tr>
<tr><td align="left" valign="top"><a href="#other-formats" accesskey="5">4.3.5 Other formats</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Invoking-midi2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#converting-from-other-formats" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Converting from other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-musicxml2ly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invoking musicxml2ly &gt; </a>]</td></tr></table>
<a name="invoking-midi2ly"></a>
<h3 class="subsection">4.3.1 Invoking <code>midi2ly</code></h3>

<a name="index-MIDI"></a>

<p><code>midi2ly</code> translates a Type&nbsp;1 MIDI file to a LilyPond
source file.
</p>
<p>MIDI (Music Instrument Digital Interface) is a standard for digital
instruments: it specifies cabling, a serial protocol and a file
format.  The MIDI file format is a de facto standard format for
exporting music from other programs, so this capability may come in
useful when importing files from a program that has a converter for a
direct format.
</p>
<p><code>midi2ly</code> converts tracks into <a name="index-Staff"></a>
<a href="internals-big-page.html#staff">Staff</a> and
channels into <a name="index-Voice"></a>
<a href="internals-big-page.html#voice">Voice</a> contexts.  Relative mode is used
for pitches, durations are only written when necessary.
</p>
<p>It is possible to record a MIDI file using a digital keyboard, and
then convert it to &lsquo;<tt>.ly</tt>&rsquo;.  However, human players are not
rhythmically exact enough to make a MIDI to LY conversion trivial.
When invoked with quantizing (&lsquo;<samp>-s</samp>&rsquo; and &lsquo;<samp>-d</samp>&rsquo; options)
<code>midi2ly</code> tries to compensate for these timing errors, but is
not very good at this.  It is therefore not recommended to use
<code>midi2ly</code> for human-generated midi files.
</p>
<p>It is invoked from the command-line as follows,
</p>
<blockquote><pre class="example">midi2ly [<var>option</var>]&hellip; <var>midi-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>The following options are supported by <code>midi2ly</code>.
</p>
<dl compact="compact">
<dt> <code>-a, --absolute-pitches</code></dt>
<dd><p>Print absolute pitches.
</p>
</dd>
<dt> <code>-d, --duration-quant=<var>DUR</var></code></dt>
<dd><p>Quantize note durations on <var>DUR</var>.
</p>
</dd>
<dt> <code>-e, --explicit-durations</code></dt>
<dd><p>Print explicit durations.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>Show summary of usage.
</p>
</dd>
<dt> <code>-k, --key=<var>acc</var>[:<var>minor</var>]</code></dt>
<dd><p>Set default key.  <em><var>acc</var> &gt; 0</em> sets number of sharps;
<em><var>acc</var> &lt; 0</em> sets number of flats.  A minor key is indicated by
<code>:1</code>.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>Write output to <var>file</var>.
</p>
</dd>
<dt> <code>-s, --start-quant=<var>DUR</var></code></dt>
<dd><p>Quantize note starts on <var>DUR</var>.
</p>
</dd>
<dt> <code>-t, --allow-tuplet=<var>DUR</var>*<var>NUM</var>/<var>DEN</var></code></dt>
<dd><p>Allow tuplet durations <var>DUR</var>*<var>NUM</var>/<var>DEN</var>.
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Be verbose.
</p>
</dd>
<dt> <code>-V, --version</code></dt>
<dd><p>Print version number.
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>Show warranty and copyright.
</p>
</dd>
<dt> <code>-x, --text-lyrics</code></dt>
<dd><p>Treat every text as a lyric.
</p></dd>
</dl>

<a name="Advertiments-i-problemes-coneguts-4"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>
<p>Overlapping notes in an arpeggio will not be correctly rendered.  The
first note will be read and the others will be ignored.  Set them all
to a single duration and add phrase markings or pedal indicators.
</p>

<hr size="6">
<a name="Invoking-musicxml2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-midi2ly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invoking midi2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-abc2ly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invoking abc2ly &gt; </a>]</td></tr></table>
<a name="invoking-musicxml2ly"></a>
<h3 class="subsection">4.3.2 Invoking <code>musicxml2ly</code></h3>

<a name="index-MusicXML"></a>

<p><a href="http://www.musicxml.org">MusicXML</a> is an XML dialect
for representing music notation.
</p>
<p><code>musicxml2ly</code> extracts the notes, articulations, score structure,
lyrics, etc. from part-wise MusicXML files, and writes them to a &lsquo;<tt>.ly</tt>&rsquo;
file and is invoked from the command-line as follows;
</p>
<blockquote><pre class="example">musicxml2ly [<var>option</var>]&hellip; <var>xml-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>If the given filename is &lsquo;<tt>-</tt>&rsquo;, <code>musicxml2ly</code> reads input
from the command line.
</p>
<p>The following options are supported by <code>musicxml2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-a, --absolute</code></dt>
<dd><p>convert pitches in absolute mode.
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>print usage and option summary.
</p>
</dd>
<dt> <code>-l, --language=LANG</code></dt>
<dd><p>use LANG for pitch names, e.g. &rsquo;deutsch&rsquo; for note names in German.
</p>
</dd>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>Set the output verbosity to <var>loglevel</var>. Possible values are
<code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>, <code>PROGRESS</code> (default) and
<code>DEBUG</code>.
</p>
</dd>
<dt> <code>--lxml</code></dt>
<dd><p>use the lxml.etree Python package for XML-parsing; uses less memory and
cpu time.
</p>
</dd>
<dt> <code>-m, --midi</code></dt>
<dd><p>activate midi-block.
</p>
</dd>
<dt> <code>-nd, --no-articulation-directions</code></dt>
<dd><p>do not convert directions (<code>^</code>, <code>_</code> or <code>-</code>) for
articulations, dynamics, etc.
</p>
</dd>
<dt> <code>--no-beaming</code></dt>
<dd><p>do not convert beaming information, use LilyPond&rsquo;s automatic
beaming instead.
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>set output filename to <var>file</var>.  If <var>file</var> is &lsquo;<tt>-</tt>&rsquo;, the
output will be printed on stdout.  If not given,
<var>xml-file</var>&lsquo;<tt>.ly</tt>&rsquo; will be used.
</p>
</dd>
<dt> <code>-r, --relative</code></dt>
<dd><p>convert pitches in relative mode (default).
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>be verbose.
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>print version information.
</p>
</dd>
<dt> <code>-z, --compressed</code></dt>
<dd><p>input file is a zip-compressed MusicXML file.
</p></dd>
</dl>


<hr size="6">
<a name="Invoking-abc2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-musicxml2ly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invoking musicxml2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-etf2ly" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Invoking etf2ly &gt; </a>]</td></tr></table>
<a name="invoking-abc2ly"></a>
<h3 class="subsection">4.3.3 Invoking <code>abc2ly</code></h3>

<div class="warning"><p><strong>Nota:</strong> This is not currently supported and may eventually be removed
from future versions of LilyPond.
</p>
</div>
<a name="index-ABC"></a>

<p>ABC is a fairly simple ASCII based format.  It is described at the ABC
site:
</p>
<blockquote><p><a href="http://www.walshaw.plus.com/abc/learn.html">http://www.walshaw.plus.com/abc/learn.html</a>.
</p></blockquote>

<p><code>abc2ly</code> translates from ABC to LilyPond.  It is invoked as
follows:
</p>
<blockquote><pre class="example">abc2ly [<var>option</var>]&hellip; <var>abc-file</var>
</pre></blockquote>

<p>The following options are supported by <code>abc2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-b, --beams=None</code></dt>
<dd><p>preserve ABC&rsquo;s notion of beams
</p></dd>
<dt> <code>-h, --help</code></dt>
<dd><p>this help
</p></dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>set output filename to <var>file</var>.
</p></dd>
<dt> <code>-s, --strict</code></dt>
<dd><p>be strict about success
</p></dd>
<dt> <code>--version</code></dt>
<dd><p>print version information.
</p></dd>
</dl>

<p>There is a rudimentary facility for adding LilyPond code to the ABC
source file.  For example;
</p>
<blockquote><pre class="example">%%LY voices \set autoBeaming = ##f
</pre></blockquote>

<p>This will cause the text following the keyword &lsquo;voices&rsquo; to be inserted
into the current voice of the LilyPond output file.
</p>
<p>Similarly,
</p>
<blockquote><pre class="example">%%LY slyrics more words
</pre></blockquote>

<p>will cause the text following the &lsquo;slyrics&rsquo; keyword to be inserted
into the current line of lyrics.
</p>
<a name="Advertiments-i-problemes-coneguts"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>
<p>The ABC standard is not very &lsquo;standard&rsquo;.  For extended features
(e.g., polyphonic music) different conventions exist.
</p>
<p>Multiple tunes in one file cannot be converted.
</p>
<p>ABC synchronizes words and notes at the beginning of a line;
<code>abc2ly</code> does not.
</p>
<p><code>abc2ly</code> ignores the ABC beaming.
</p>

<hr size="6">
<a name="Invoking-etf2ly"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-abc2ly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invoking abc2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-formats" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Other formats &gt; </a>]</td></tr></table>
<a name="invoking-etf2ly"></a>
<h3 class="subsection">4.3.4 Invoking <code>etf2ly</code></h3>

<div class="warning"><p><strong>Nota:</strong> This is not currently supported and may eventually be removed
from future versions of LilyPond.
</p>
</div>
<a name="index-Enigma-Transport-Format"></a>
<a name="index-ETF"></a>
<a name="index-enigma"></a>
<a name="index-Finale"></a>
<a name="index-Coda-Technology"></a>

<p>ETF (Enigma Transport Format) is a format used by Coda Music
Technology&rsquo;s Finale product.  <code>etf2ly</code> will convert part of an
ETF file to a ready-to-use LilyPond file.
</p>
<p>It is invoked from the command-line as follows;
</p>
<blockquote><pre class="example">etf2ly [<var>option</var>]&hellip; <var>etf-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#converting-from-other-formats">Converting from other formats</a>, for
more information about this.
</p>
<p>The following options are supported by <code>etf2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-h, --help</code></dt>
<dd><p>this help
</p></dd>
<dt> <code>-o, --output=<var>FILE</var></code></dt>
<dd><p>set output filename to <var>FILE</var>
</p></dd>
<dt> <code>--version</code></dt>
<dd><p>version information
</p></dd>
</dl>

<a name="Advertiments-i-problemes-coneguts-1"></a>
<h4 class="subsubheading">Advertiments i problemes coneguts</h4>
<p>The list of articulation scripts is incomplete.  Empty measures
confuse <code>etf2ly</code>.  Sequences of grace notes are ended
improperly.
</p>

<hr size="6">
<a name="Other-formats"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-etf2ly" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Invoking etf2ly&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Converting from other formats&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-output-in-other-programs" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;LilyPond output in other programs &gt; </a>]</td></tr></table>
<a name="other-formats"></a>
<h3 class="subsection">4.3.5 Other formats</h3>

<a name="index-External-programs_002c-generating-LilyPond-files"></a>

<p>LilyPond itself does not come with support for any other formats,
but some external tools can also generate LilyPond files.  These
are listed in <a name="index-Easier-editing-1"></a>
<a href="web-big-page.ca.html#easier-editing">Easier editing</a>.
</p>

<hr size="6">
<a name="LilyPond-output-in-other-programs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-formats" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Other formats&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;External programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#luatex" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;LuaTex &gt; </a>]</td></tr></table>
<a name="lilypond-output-in-other-programs"></a>
<h2 class="section">4.4 LilyPond output in other programs</h2>

<p>This section shows methods to integrate text and music, different than
the automated method with <code>lilypond-book</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#luatex" accesskey="1">4.4.1 LuaTex</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#openoffice-and-libreoffice" accesskey="2">4.4.2 OpenOffice and LibreOffice</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#other-programs" accesskey="3">4.4.3 Other programs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="LuaTex"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-output-in-other-programs" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; LilyPond output in other programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;LilyPond output in other programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#openoffice-and-libreoffice" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;OpenOffice and LibreOffice &gt; </a>]</td></tr></table>
<a name="luatex"></a>
<h3 class="subsection">4.4.1 LuaTex</h3>

<a name="index-LuaTex"></a>
<a name="index-lyluatex"></a>

<p>As well as <code>lilypond-book</code> to integrate LilyPond output,
there is an alternative program that can be used when using LuaTex
called
<a href="https://github.com/jperon/lyluatex/blob/master/README.en.md">lyluatex</a>.
</p>

<hr size="6">
<a name="OpenOffice-and-LibreOffice"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#luatex" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; LuaTex&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;LilyPond output in other programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-programs" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Other programs &gt; </a>]</td></tr></table>
<a name="openoffice-and-libreoffice"></a>
<h3 class="subsection">4.4.2 OpenOffice and LibreOffice</h3>

<a name="index-OpenOffice_002eorg"></a>
<a name="index-LibreOffice_002eorg"></a>
<a name="index-OOoLilyPond"></a>

<p>LilyPond notation can be added to OpenOffice.org and LibreOffice with
<a href="http://ooolilypond.sourceforge.net">OOoLilyPond</a>, an
OpenOffice.org extension that converts LilyPond files into images within
OpenOffice.org documents.  Although this is no longer being developed,
it appears to still work with version 4.
</p>

<hr size="6">
<a name="Other-programs"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#openoffice-and-libreoffice" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; OpenOffice and LibreOffice&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;LilyPond output in other programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#independent-includes" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Independent includes &gt; </a>]</td></tr></table>
<a name="other-programs"></a>
<h3 class="subsection">4.4.3 Other programs</h3>

<p>Other programs that can handle &lsquo;<tt>PNG</tt>&rsquo;, &lsquo;<tt>EPS</tt>&rsquo;, or &lsquo;<tt>PDF</tt>&rsquo;
formats should use <code>lilypond</code> instead of <code>lilypond-book</code>.
Each LilyPond output file must be created and inserted separately.
Consult the program&rsquo;s own documentation on how to insert files from
other sources.
</p>
<p>To help reduce the white space around your LilyPond score, use the
following options;
</p>
<blockquote><pre class="example">\paper{
  indent=0\mm
  line-width=120\mm
  oddFooterMarkup=##f
  oddHeaderMarkup=##f
  bookTitleMarkup = ##f
  scoreTitleMarkup = ##f
}

<var>&hellip; music &hellip;</var>
</pre></blockquote>

<p>To produce &lsquo;<tt>EPS</tt>&rsquo; images;
</p>
<blockquote><pre class="example">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts myfile.ly
</pre></blockquote>

<p>To produce &lsquo;<tt>PNG</tt>&rsquo; images;
</p>
<blockquote><pre class="example">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts --png myfile.ly
</pre></blockquote>

<p>For transparent &lsquo;<tt>PNG</tt>&rsquo; images
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts -dpixmap-format=pngalpha --png myfile.ly
</pre></td></tr></table>

<a name="index-fragments_002c-music"></a>
<a name="index-quoting_002c-music-fragments"></a>
<a name="index-music-fragments_002c-quoting"></a>

<p>If you need to quote many fragments from a large score, you can also use
the clip systems feature, see <a name="index-Extracting-fragments-of-music"></a>
<a href="notation-big-page.ca.html#extracting-fragments-of-music">Extracting fragments of music</a>.
</p>

<hr size="6">
<a name="Independent-includes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-programs" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Other programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;External programs&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#midi-articulation" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;MIDI articulation &gt; </a>]</td></tr></table>
<a name="independent-includes"></a>
<h2 class="section">4.5 Independent <code>include</code>s</h2>

<p>Some users have produced files that can be <code>\include</code>d with
LilyPond to produce certain effects and those listed below are part of
the LilyPond distribution.  Also see <a name="index-Working-with-input-files"></a>
<a href="notation-big-page.ca.html#working-with-input-files">Working with input files</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#midi-articulation" accesskey="1">4.5.1 MIDI articulation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="MIDI-articulation"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="Capítol següent">&nbsp;Suggeriments per escriure fitxers d'entrada &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#independent-includes" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Independent includes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#independent-includes" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Independent includes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#suggestions-for-writing-files" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Suggeriments per escriure fitxers d'entrada &gt; </a>]</td></tr></table>
<a name="midi-articulation"></a>
<h3 class="subsection">4.5.1 MIDI articulation</h3>

<a name="index-MIDI-1"></a>
<a name="index-Articulate-project"></a>

<p>The <a href="http://www.nicta.com.au/articulate">Articulate</a> project is an
attempt to enhance LilyPond&rsquo;s MIDI output and works by adjusting note
lengths (that are not under slurs) according to the articulation
markings attached to them.  For example, a &lsquo;staccato&rsquo; halves the note
value, &lsquo;tenuto&rsquo; gives a note its full duration and so on.  See
<a name="index-Enhancing-MIDI-output"></a>
<a href="notation-big-page.ca.html#enhancing-midi-output">Enhancing MIDI output</a>.
</p>



<hr size="6">
<a name="Suggeriments-per-escriure-fitxers-d_0027entrada"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; External programs&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#midi-articulation" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; MIDI articulation&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#general-suggestions" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Suggeriments de tipus general &gt; </a>]</td></tr></table>
<a name="suggestions-for-writing-files"></a>
<h1 class="chapter">5. Suggeriments per escriure fitxers d&rsquo;entrada</h1>

<p>En aquest moment teniu la preparació per començar a escriure
fitxers del LilyPond més grans &ndash; no sols els petits exemples que
apareixen en el tutorial, sinó peces completes &ndash;. Però, com heu
de procedir per fer-lo?
</p>
<p>En la mesura que el LilyPond entengui els seus fitxers i produeixi
la sortida que preteníeu, realment no importa massa quin aspecte
tinguin els vostres fitxers.  Tot i així existeixen algunes altres
coses a tenir en compte quan s&rsquo;escriuen fitxers del LilyPond.
</p>
<ul>
<li> Què passa si feu un error? L&rsquo;estructura d&rsquo;un fitxers del
LilyPond pot fer que certs errors es facin més fàcils (o més
difícils) de trobar.

</li><li> Què passa si voleu compartir els vostres fitxers amb altres
persones? De fet, i si voleu alterar els vostres propis fitxers
després d&rsquo;alguns anys?  Alguns fitxers del LilyPond s&rsquo;entenen a
primera vista; d&rsquo;altres poden portar-vos una hora d&rsquo;entendre.

</li><li> Què passa si voleu actualitzar el vostre fitxers del
LilyPond per poder-lo usar amb una versió més recent del programa?

<p>La sintaxi de l&rsquo;entrada es modifica de forma ocasional segons el
LilyPond es va perfeccionant.  Gairebé tots els canvis es poden
fer de forma automàtica amb <code>convert-ly</code>, però a alguns
altres els caldria una ajuda manual.  Els fitxers del LilyPond es
poden estructura perquè siguin més fàcils (o més difícils)
d&rsquo;actualitzar.
</p>
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#general-suggestions" accesskey="1">5.1 Suggeriments de tipus general</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#typesetting-existing-music" accesskey="2">5.2 Gravació de música existent</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#large-projects" accesskey="3">5.3 Projectes grans</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#troubleshooting" accesskey="4">5.4 Solució de problemes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#make-and-makefiles" accesskey="5">5.5 Make i els Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Suggeriments-de-tipus-general"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#suggestions-for-writing-files" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#typesetting-existing-music" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Gravació de música existent &gt; </a>]</td></tr></table>
<a name="general-suggestions"></a>
<h2 class="section">5.1 Suggeriments de tipus general</h2>

<p>Us presentem alguns suggeriments que us poden servir d&rsquo;ajuda per
evitar o corregir problemes:
</p>
<ul>
<li> <strong>Incloeu els números de <code>\version</code> a tots els fitxers</strong>.
Adoneu-vos que totes les plantilles contenen informació sobre la
versió (<code>\version</code>).  Us recomanem molt que sempre incloeu la
versió, tot i que els vostre fitxer pugui ser molt petit.  Des de
l&rsquo;experiència personal us podem dir que força frustrant intentar
recordar el número de versió del LilyPond que estàveu fent servir
fa uns anys.  <code>convert-ly</code> requereix que declareu quina
versió del LilyPond fèieu servir.

</li><li> <strong>Incloeu comprovacions</strong>:
<a name="index-Comprovacio-de-compas-i-de-numero-de-compas-1"></a>
<a href="notation-big-page.ca.html#bar-and-bar-number-checks">Comprovació de compàs i de número de compàs</a>,
<a name="index-Comprovacio-d_0027octava"></a>
<a href="notation-big-page.ca.html#octave-checks">Comprovació d'octava</a>.
Si incloeu comprovacions de tant en tant, en cas que cometeu un
error podreu localitzar-lo molt més ràpidament.  Amb quina
freqüència és &lsquo;de tant en tant&rsquo;?  Depèn de la complexitat de la
música.  Per a una música molt senzilla, potser tan sols una o
dues vegades.  Per a una música molt complexa, potser a cada
compàs.

</li><li> <strong>Un compàs per cada línia de text</strong>. Si hi ha quelcom
molt complicat, ja sigui a la pròpia música o a la sortida que
desitgeu produir, sovint convé escriure un sol compàs per a cada
línia.  L&rsquo;estalvi en espai de pantalla que s&rsquo;obté acumulant nou
compassos per línia no paga la pena si després heu de &lsquo;depurar&rsquo;
els fitxers.

</li><li> <strong>Comenteu els fitxers</strong>.  Utilitzeu o bé números de
compàs (de tant en tant), o referències a temes musicals (&lsquo;segon
tema dels violins,&rsquo; &lsquo;quarta variació,&rsquo; etc.).  Potser que no us
calguin comentaris quan introduïu una peça per primer cop, però si
voleu tornar a ella o modificar quelcom al cap de dos o tres anys,
i també si li passeu la font a un amic, serà tot un desafiament
determinar les seves intencions o de quina menara estava
estructurat el fitxer si no li heu afegit els comentaris.

</li><li> <strong>Apliqueu marges a les claus</strong>.  Molts problemes
estan casat per una falta d&rsquo;equilibri en el nombre de <code>{</code> i
<code>}</code>.

</li><li> <strong>Escriviu les duracions explícitament</strong> al començament
de les seccions i identificadors.  Si especifiqueu <code>c4 d e</code>
al principi d&rsquo;una frase (en lloc de sols <code>c d e</code>) us podeu
estalviar problemes si reelaboreu la música més tard.

</li><li> <strong>Separeu els ajustaments</strong> de les definicions
musicals. Consulteu
<a name="index-Estalvi-de-tecleig-mitjancant-variables-i-funcions"></a>
<a href="learning-big-page.ca.html#saving-typing-with-variables-and-functions">Estalvi de tecleig mitjançant variables i funcions</a> i
<a name="index-Fulls-d_0027estil"></a>
<a href="learning-big-page.ca.html#style-sheets">Fulls d'estil</a>

</li></ul>

<hr size="6">
<a name="Gravaci_00f3-de-m_00fasica-existent"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#general-suggestions" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Suggeriments de tipus general&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#large-projects" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Projectes grans &gt; </a>]</td></tr></table>
<a name="typesetting-existing-music"></a>
<h2 class="section">5.2 Gravació de música existent</h2>

<p>Si esteu introduint música a partir d&rsquo;una partitura existent (és a
dir, gravant un full de música ja imprès),
</p>
<ul>
<li> Introduïu al LilyPond cada sistema del manuscrit, o còpia
física, per separat (però manteniu la pràctica d&rsquo;escriure un
compàs per línia de text), i comproveu cada sistema quan l&rsquo;hàgiu
acabat.  Podeu usar les propietats <code>showLastLength</code> o
<code>showFirstLength</code> per accelerar el procés (vegeu
<a name="index-Skipping-corrected-music"></a>
<a href="notation-big-page.ca.html#skipping-corrected-music">Omissió de la música corregida</a>).

</li><li> Definiu <code>mBreak = { \break }</code> i inseriu
<code>\mBreak</code> dins del fitxer d&rsquo;entrada on el manuscrit tingui un
salt de línia.  D&rsquo;aquesta forma us resultarà molt més fàcil
comparar la música del LilyPond amb l&rsquo;original.  Quan hageu acabat
de revisar la vostra partitura podreu definir
<code>mBreak = { }</code> per treure tots aquests salts de línia.
Així permetreu el LilyPond col·locar els salts on el LilyPond el
consideri més oportú.

</li><li> En escriure una part per a un instrument transpositor dins
d&rsquo;una variable, es recomana que les notes estiguin envoltades dins de

<blockquote><pre class="example">\transpose c altura-natural {&hellip;}
</pre></blockquote>

<p>(on <code>altura-natural</code> és l&rsquo;afinació natural de l&rsquo;instrument)
de forma que la música dins de la variable estigui realment en Do
major.  Després podem tornar a transportar-les en sentit invers
quan s&rsquo;utilitza la variable, si és necessari, però potser no
vulguem fer-lo (per exemple en imprimir una partitura en afinació
de concert, en convertir una part de trombó de clau de Sol a clau
de Fa, etc.).  És menys probable cometre errors als transports si
tota la música que està dins de les variables es troba en un to
coherent.
</p>
<p>A més a més, feu els transport exclusivament cap o des de Do
major.  Això significa que a part de Do major, les úniques
tonalitats que usarem seran els tons d&rsquo;afinació dels instruments
transpositors: bes per a una trompeta en Si bemoll, aes per a un
clarinet en La bemoll, etc.
</p>
</li></ul>

<hr size="6">
<a name="Projectes-grans"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#typesetting-existing-music" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Gravació de música existent&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#troubleshooting" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Solució de problemes &gt; </a>]</td></tr></table>
<a name="large-projects"></a>
<h2 class="section">5.3 Projectes grans</h2>

<p>En treballar en projectes grans es fa essencial tenir una
estructura clara als fitxers dels LilyPond:
</p>
<ul>
<li> <strong>Utilitzeu un identificador per a cada veu</strong>, amb un
mínim d&rsquo;estructura dins de la definició.  L&rsquo;estructura de la
secció <code>\score</code> és la que canviarà amb major probabilitat:
per contra, és extremadament improbable que canviï la definició de
<code>violí</code> a versions noves del LilyPond.


<blockquote><pre class="example">violí = \relative {
g'4 c'8. e16
}
&hellip;
\score {
  \new GrandStaff {
    \new Staff {
      \violí
    }
  }
}
</pre></blockquote>

</li><li> <strong>Separeu els ajustaments de les definicions
musicals</strong>. Ja s&rsquo;ha mencionat amb anterioritat, però per a
projectes grans és vital.  Potser haurem de canviar la definició
de <code>fdesprésp</code>, però en aquest cas sols ho haurem de fer un
cop, i encara podrem evitar tocar res dins de <code>violí</code>.

<blockquote><pre class="example">fdesprésp = _\markup{
  \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p }
violí = \relative {
g'4\fluegop c'8. e16
}
</pre></blockquote>

</li></ul>


<hr size="6">
<a name="Soluci_00f3-de-problemes"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#large-projects" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Projectes grans&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#make-and-makefiles" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Make i els Makefiles &gt; </a>]</td></tr></table>
<a name="troubleshooting"></a>
<h2 class="section">5.4 Solució de problemes</h2>

<p>Abans o després escriureu un fitxer que el LilyPond no podrà
compilar.  Els missatges que el LilyPond proporciona poden
ajudar-vos a trobar l&rsquo;error, però en molts casos haureu de portar
endavant algun tipus d&rsquo;investigació per determinar l&rsquo;origen del
problema.  Les eines més poderoses per a aquest propòsit son el
comentari d&rsquo;una sola línia (indicat per <code>%</code>) i el comentari
de bloc (indicat per <code>%{&hellip;%}</code>).  Si no sabeu on és el
problema, comenceu convertint seccions grans del fitxer d&rsquo;entrada
en un comentari.  Després d&rsquo;eliminar una secció convertint-la en
un comentari, proveu a compilar un fitxer un altre cop.  Si
funciona, aleshores el problema hauria d&rsquo;estar a la porció que
havíeu eliminat.  Si no funciona, continueu eliminant material
(transformant-lo en comentaris) fins que tingueu quelcom que
funcioni.
</p>
<p>En un cas extrem podríeu acabat amb sols
</p>
<blockquote><pre class="example">\score {
  &lt;&lt;
    % \melodia
    % \armonia
    % \baix
  &gt;&gt;
  \layout{}
}
</pre></blockquote>

<p>(en altres paraules: un fitxer sense música)
</p>
<p>Si passa això, no abandoneu.  Traieu el comentari d&rsquo;una secció
petita &ndash; diguem-ne la part del baix &ndash; i observeu si funciona.
Si no és així, transformeu en comentaris tota la música del baix
(però deixeu el <code>\baix</code> de la secció <code>\score</code> no comentat.
</p>
<blockquote><pre class="example">bajo = \relative {
%{
  c'4 c c c
  d d d d
%}
}
</pre></blockquote>

<p>Ara comenceu poc a poc traient comentaris a cada cop més fraccions
de la part del <code>baix</code> fins que trobeu la línia del problema.
</p>
<p>Una altra tècnica de depuració molt útil és la construcció de
<a name="index-Exemples-minims"></a>
<a href="web-big-page.ca.html#tiny-examples">Exemples mínims</a>.
</p>
<hr size="6">
<a name="Make-i-els-Makefiles"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="Capítol següent">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#troubleshooting" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Solució de problemes&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#gnu-free-documentation-license" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;GNU Free Documentation License &gt; </a>]</td></tr></table>
<a name="make-and-makefiles"></a>
<h2 class="section">5.5 Make i els Makefiles</h2>

<a name="index-make_002c-fitxers-de"></a>
<a name="index-make"></a>

<p>Possiblement totes les plataformes on pot executar-se el LilyPond
contemplen una possibilitat de programari anomenada <code>make</code>.
Aquest programa llegeix un fitxer especial anomenat
<code>Makefile</code> que defineix les relacions de dependència entre
els fitxers i quines instruccions necessitem donar al sistema
operatiu per produir un fitxer a partir d&rsquo;un altre.  Per exemple,
el fitxer de make detallaria com obtenir
&lsquo;<tt>balada.pdf</tt>&rsquo; i &lsquo;<tt>balada.midi</tt>&rsquo; a partir de &lsquo;<tt>balada.ly</tt>&rsquo;
mitjançant l&rsquo;execució del LilyPond.
</p>
<p>Hi ha ocasions en les quals és una bona idea crear un
<code>Makefile</code> per al nostre projecte, bé sigui per la nostra
pròpia comoditat o com a cortesia per a altres que possiblement
tinguin accés als nostres fitxers font.  Això és cert per a
projectes molt grans amb molts fitxers d&rsquo;inclusió i diferents
opcions de sortida (per exemple partitura completa, particel·les,
partitura del director, reducció per a piano, etc.), o per a
projectes que requereixen ordres difícils per muntar-los (com els
projectes de <code>lilypond-book</code>). La complexitat i flexibilitat
dels Mekfiles varia enormement segons les necessitats i
l&rsquo;habilitat dels autors.  El programa GNU Make ve instal·lat a les
distribucions del GNU/Linux i al MacOS X, i també existeix per al
Windows.
</p>
<p>Consulteu el <strong>Manual de GNU Make</strong> per veure tots els
detalls sobre l&rsquo;ús de <code>make</code>, atès que el segueix a
continuació ofereix sols una pinzellada de tot els és capaç de fer.
</p>
<p>Les instruccions que defineixen les regles a un fitxer de make
difereixen en funció de la plataforma; per exemple, les diferents
formes del GNU/Linux i del MacOS usen <code>bash</code>, mentre que el Windows
usa <code>cmd</code>.  Observeu que al MacOS C, hem de configurar el
sistema perquè faci servir l&rsquo;interpret d&rsquo;ordres.  A continuació
presentem alguns makefiles d&rsquo;exemple, amb versions tant per al
GNU/Linux/MacOS com per al Windows.
</p>
<p>El primer exemple és per a una obra orquestral en quatre moviments
amb l&rsquo;estructura de directoris següent:
</p>
<blockquote><pre class="example">Sinfonia/
|-- MIDI/
|-- Makefile
|-- Notes/
|   |-- cello.ily
|   |-- xifres.ily
|   |-- trompa.ily
|   |-- oboe.ily
|   |-- trioCordes.ily
|   |-- viola.ily
|   |-- violiU.ily
|   `-- violiDos.ily
|-- PDF/
|-- Particelles/
|   |-- sinfonia-cello.ly
|   |-- sinfonia-trompa.ly
|   |-- sinfonia-oboes.ly
|   |-- sinfonia-viola.ly
|   |-- sinfonia-violiU.ly
|   `-- sinfonia-violiDos.ly
|-- Partitures/
|   |-- sinfonia.ly
|   |-- sinfoniaI.ly
|   |-- sinfoniaII.ly
|   |-- sinfoniaIII.ly
|   `-- sinfoniaIV.ly
`-- sinfoniaDefs.ily
</pre></blockquote>

<p>Els fitxers &lsquo;<tt>.ly</tt>&rsquo; dels directoris <code>Partitures</code> i
<code>Particelles</code> obtenen les notes de fitxers &lsquo;<tt>.ily</tt>&rsquo; que estan al
directori <code>Notes</code>:
</p>
<blockquote><pre class="example">%%% principi del fitxer &quot;sinfonia-cello.ly&quot;
\include ../definicionsSinf.ily
\include ../Notes/cello.ily
</pre></blockquote>

<p>El makefile tindrà els objectius de <code>partitura</code> (la peça
completa en tot el seu esplendor), <code>moviments</code> (partitura
completa dels moviments individuals) i <code>particel·les</code> (parts
individuals per als faristols). També hi ha un objectiu
<code>fitxer</code> que produeix un fitxer tar de distribució (tarball)
dels fitxers font, adequat per compartir-lo a través de la web o
per correu electrònic.   A continuació presentem el makefile per a
GNU/Linux o MacOS C.  S&rsquo;ha de desar amb el nom exacte
<code>Makefile</code> al directori superior del projecte:
</p>
<div class="warning"><p><strong>Nota:</strong> Quan es defineix un objectiu o una regla de patró, les
línies següents han de començar amb tabuladors, no amb espais.
</p>
</div>
<blockquote><pre class="example"># nom principal dels fitxers de sortida
nom = sinfonia
# determinació del nombre de processadors
CPU_CORES=`cat /proc/cpuinfo | grep -m1 &quot;cpu cores&quot; | sed s/&quot;.*: &quot;//`
# L'ordre per executar el LilyPond
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click -djob-count=$(CPU_CORES)

# Els sufixos utilitzats a aquest Makefile.
.SUFFIXES: .ly .ily .pdf .midi

# Els fitxers d'entrada i de sortida es busquen dins dels directoris relacionats a
# la variable VPATH.  Tots ells són subdirectoris del directori
# en curs (donat per la variable de GNU make `CURDIR').
VPATH = \
  $(CURDIR)/Partitures \
  $(CURDIR)/PDF \
  $(CURDIR)/Particelles \
  $(CURDIR)/Notes

# La regla de patró per crear fitxers PDF i MIDI a partir fitxers d'entrada LY
# Els fitxers de sortida .pdf es col·loquen al subdirectori `PDF', i els fitxers
# .midi van al subdirectori `MIDI'.
%.pdf %.midi: %.ly
        $(LILY_CMD) $&lt;; \           # Aquesta línia comença amb un salt de tabulació
        if test -f &quot;$*.pdf&quot;; then \
            mv &quot;$*.pdf&quot; PDF/; \
        fi; \
        if test -f &quot;$*.midi&quot;; then \
            mv &quot;$*.midi&quot; MIDI/; \
        fi

notes = \
  cello.ily \
  trompa.ily \
  oboe.ily \
  viola.ily \
  violiU.ily \
  violiDos.ily

# Dependències dels moviments
$(nom)I.pdf: $(nom)I.ly $(notes)
$(nom)II.pdf: $(nom)II.ly $(notes)
$(nom)III.pdf: $(nom)III.ly $(notes)
$(nom)IV.pdf: $(nom)IV.ly $(notes)

# Dependències de la partitura completa.
$(nom).pdf: $(nom).ly $(notes)

# Dependències de les particel·les.
$(nom)-cello.pdf: $(nom)-cello.ly cello.ily
$(nom)-trompa.pdf: $(nom)-trompa.ly trompa.ily
$(nom)-oboes.pdf: $(nom)-oboes.ly oboe.ily
$(nom)-viola.pdf: $(nom)-viola.ly viola.ily
$(nom)-violiU.pdf: $(nom)-violiU.ly violiU.ily
$(nom)-violiDos.pdf: $(nom)-violiDos.ly violiDos.ily

# Teclegeu `make partitura' per generar la partitura completa dels quatre
# moviments com un fitxer únic.
.PHONY: partitura
partitura: $(nom).pdf

# Teclegeu `make particelles' per generar totes les particel·les
# Teclegeu `make pepet.pdf' per generar la particel·la de
# l'instrument `pepet'.

# Exemple: `make sinfonia-cello.pdf'.
.PHONY: particellas
particellas: $(nom)-cello.pdf \
       $(nom)-violinUno.pdf \
       $(nom)-violinDos.pdf \
       $(nom)-viola.pdf \
       $(nom)-oboes.pdf \
       $(nom)-trompa.pdf

# Teclegeu `make moviments' per generar els fitxers dels
# quatre moviments de forma separada.
.PHONY: moviments
moviments: $(nom)I.pdf \
           $(nom)II.pdf \
           $(nom)III.pdf \
           $(nom)IV.pdf

all: partitura particelles moviments

fitxer:
        tar -cvvf stamitz.tar \       # aquesta línia comença amb un salt de tabulació
        --exclude=*pdf --exclude=*~ \
        --exclude=*midi --exclude=*.tar \
        ../Stamitz/*
</pre></blockquote>

<p>A la plataforma Windows hi ha certes complicacions.  Després de
descarregar i instal·lar el programa GNU Make per al Windows,
haurem de configurar la ruta adequada a las variables d&rsquo;entorn del
sistema de que l&rsquo;intèrpret d&rsquo;ordres del DOS pugui trobar el
programa Make.  Per fer-lo, polseu amb el botó dret sobre &quot;El meu
ordinador&quot;, escolliu <code>Propietats</code> i <code>Avançades</code>. Polseu
sobre <code>Variables d'entorn</code>, i després a la pestanya
<code>Variables del sistema</code>, seleccioneu <code>Ruta</code>, polseu
sobre <code>edita</code>  i afegiu la ruta al fitxer executable de GNU
Make, amb la qual cosa quedarà quelcom semblant al següent:
</p>
<blockquote><pre class="example">C:\Fitxers de programa\GnuWin32\bin
</pre></blockquote>

<p>El makefile en si s&rsquo;ha de modificar perquè gestioni diverses
instruccions de l&rsquo;intèrpret d&rsquo;ordres i perquè pugui tractar amb
els espais que apareixen al nom d&rsquo;alguns directoris del sistema
predeterminats.  L&rsquo;objectiu <code>fitxer</code> s&rsquo;elimina perquè el
Windows no té l&rsquo;ordre <code>tar</code>, i el Windows a més té una
extensió predeterminada diferent per als fitxers MIDI.
</p>
<blockquote><pre class="example">## VERSIÓ PER AL WINDOWS
##
nom = sinfonia
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click \
                    -djob-count=$(NUMBER_OF_PROCESSORS)

#obtenció del nom 8.3 de CURDIR (truc per als espais a PATH)
workdir = $(shell for /f &quot;tokens=*&quot; %%b in (&quot;$(CURDIR)&quot;) \
          do @echo %%~sb)

.SUFFIXES: .ly .ily .pdf .mid

VPATH = \
  $(workdir)/Partitures \
  $(workdir)/PDF \
  $(workdir)/Particelles \
  $(workdir)/Notes

%.pdf %.mid: %.ly
        $(LILY_CMD) $&lt;      # aquesta línia comença amb un salt de tabulació
        if exist &quot;$*.pdf&quot;  move /Y &quot;$*.pdf&quot;  PDF/ # començament amb tab
        if exist &quot;$*.mid&quot; move /Y &quot;$*.mid&quot; MIDI/  # començament amb tab

notes = \
  cello.ily \
  xifres.ily \
  trompa.ily \
  oboe.ily \
  trioCordes.ily \
  viola.ily \
  violiU.ily \
  violiDos.ily

$(nom)I.pdf: $(nom)I.ly $(notes)
$(nom)II.pdf: $(nom)II.ly $(notes)
$(nom)III.pdf: $(nom)III.ly $(notes)
$(nom)IV.pdf: $(nom)IV.ly $(notes)

$(nom).pdf: $(nom).ly $(notes)

$(nom)-cello.pdf: $(nom)-cello.ly cello.ily
$(nom)-trompa.pdf: $(nom)-trompa.ly trompa.ily
$(nom)-oboes.pdf: $(nom)-oboes.ly oboe.ily
$(nom)-viola.pdf: $(nom)-viola.ly viola.ily
$(nom)-violiU.pdf: $(nom)-violiU.ly violiU.ily
$(nom)-violiDos.pdf: $(nom)-violiDos.ly violiDos.ily

.PHONY: partitura
partitura: $(nom).pdf

.PHONY: particelles
particelles: $(nom)-cello.pdf \
       $(nom)-violiU.pdf \
       $(nom)-violiDos.pdf \
       $(nom)-viola.pdf \
       $(nom)-oboes.pdf \
       $(nom)-trompa.pdf

.PHONY: moviments
moviments: $(nom)I.pdf \
           $(nom)II.pdf \
           $(nom)III.pdf \
           $(nom)IV.pdf

all: partitura particelles moviments
</pre></blockquote>

<p>El Makefile següent és per a un document de
<code>lilypond-book</code> fet en LaTeX.  Aquest projecte té un
índex, que requereix executar l&rsquo;ordre <code>latex</code> dues vegades
per actualitzar els enllaços.  Tots els fitxers de sortida
s&rsquo;emmagatzemen al directori <code>sortida</code> per als documents .pdf
i al directori <code>sortidahtml</code> per a la sortida en format html.
</p>
<blockquote><pre class="example">SHELL=/bin/sh
NOM=elmeuprojecte
DIR_SORTIDA=sortida
DIR_WEB=sortidahtml
VISUALITZADOR=acroread
NAVEGADOR=firefox
LILYBOOK_PDF=lilypond-book --output=$(DIR_SORTIDA) --pdf $(NOM).lytex
LILYBOOK_HTML=lilypond-book --output=$(DIR_WEB) $(NOM).lytex
PDF=cd $(DIR_SORTIDA) &amp;&amp; pdflatex $(NOM)
HTML=cd $(DIR_WEB) &amp;&amp; latex2html $(NOM)
INDEX=cd $(DIR_SORTIDA) &amp;&amp; makeindex $(NOM)
VISTA_PREVIA=$(VISUALITZADOR) $(DIR_SORTIDA)/$(NOM).pdf &amp;

all: pdf web desar

pdf:
        $(LILYBOOK_PDF)  # comença amb un tab
        $(PDF)           # comença amb un tab
        $(INDEX)        # comença amb un tab
        $(PDF)           # comença amb un tab
        $(VISTA_PREVIA)  # comença amb un tab

web:
        $(LILYBOOK_HTML) # comença amb un tab
        $(HTML)          # comença amb un tab
        cp -R $(DIR_WEB)/$(NOM)/ ./  #
        $(NAVEGADOR) $(NOM)/$(NOM).html &amp;  # comença amb un tab

desar: pdf
        cp $(DIR_SORTIDA)/$(NOM).pdf $(NOM).pdf  # comença amb un tab

clean:
        rm -rf $(DIR_SORTIDA) # comença amb un tab

web-clean:
        rm -rf $(DIR_WEB) # comença amb un tab

fitxer:
        tar -cvvf elmeuprojecte.tar \ # comença amb un tab
        --exclude=sortida/* \
        --exclude=sortidahtml/* \
        --exclude=elmeuprojecte/* \
        --exclude=*midi \
        --exclude=*pdf \
        --exclude=*~ \
        ../ElMeuProjecte/*
</pre></blockquote>

<p>PERFER: aconseguir que funcioni a windows
</p>
<p>El makefile anterior no funciona al Windows.  Una alternativa per
als usuaris del Windows seria crear un fitxer de lots senzill que
contingui les ordres de muntatge.  Això no segueix les
dependències com ho fa un makefile, però almenys redueix el procés
de construcció a una sola instrucció.  Deseu el codi següent com
<code>muntatge.bat</code> o <code>muntatge.cmd</code>. El fitxer de lots
es pot executar en la línia d&rsquo;ordres del DOS o simplement fent
doble clic sobre la seva icona.
</p>
<blockquote><pre class="example">lilypond-book --output=sortida --pdf elmeuprojecte.lytex
cd sortida
pdflatex elmeuprojecte
makeindex elmeuprojecte
pdflatex elmeuprojecte
cd ..
copy sortida\elmeuprojecte.pdf ElMeuProjecte.pdf
</pre></blockquote>


<a name="Vegeu-tambe"></a>
<h4 class="subsubheading">Vegeu també</h4>
<p>Manual d&rsquo;utilització del programa:
<a name="index-Utilitzacio-des-de-la-linia-d_0027ordres"></a>
<a href="usage-big-page.ca.html#command_002dline-usage">Utilització des de la línia d'ordres</a>,
<a name="index-lilypond_002dbook"></a>
<a href="usage-big-page.ca.html#lilypond_002dbook">lilypond-book</a>
</p>
<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Suggeriments per escriure fitxers d'entrada&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond-index" title="Capítol següent">&nbsp;Índex del LilyPond &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#make-and-makefiles" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Make i els Makefiles&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-index" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Índex del LilyPond &gt; </a>]</td></tr></table>
<a name="gnu-free-documentation-license"></a>
<h1 class="appendix">A. GNU Free Documentation License</h1>
<p align="center"> Version 1.3, 3 November 2008
</p>

<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li>
RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>


<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h2 class="heading">ADDENDUM: How to use this License for your documents</h2>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></td></tr></table>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></td></tr></table>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>



<hr size="6">
<a name="g_t_00cdndex-del-LilyPond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#gnu-free-documentation-license" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#gnu-free-documentation-license" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<a name="lilypond-index"></a>
<h1 class="appendix">B. Índex del LilyPond</h1>

<table><tr><th valign="top">Salta a: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Entrada d&rsquo;índex</th><th align="left"> Secció</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-1">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005cheader-in-LaTeX-documents">\header in LaTeX documents</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ABC">ABC</a></td><td valign="top"><a href="#invoking-abc2ly">4.3.3 Invoking <code>abc2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-actualitzacio-d_0027un-fitxer-del-LilyPond">actualització d&rsquo;un fitxer del LilyPond</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. Actualització de fitxers amb <code>convert-ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-actualitzacio-de-fitxers-d_0027entrada-antics">actualització de fitxers d&rsquo;entrada antics</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 Perquè canvia la sintaxi?</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-advertiment">advertiment</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-apuntar-i-clicar_002c-linia-d_0027ordres">apuntar i clicar, línia d&rsquo;ordres</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Articulate-project">Articulate project</a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI articulation</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Barres-de-compas"><code>Barres de compàs</code></a></td><td valign="top"><a href="#music-runs-off-the-page">La música se surt de la pàgina</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-carpeta_002c-dirigir-la-sortida-cap-a">carpeta, dirigir la sortida cap a</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cerca_002c-ruta-de">cerca, ruta de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chroot_002c-executar-dins-d_0027una-gabia">chroot, executar dins d&rsquo;una gàbia</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coda-Technology">Coda Technology</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-coloring_002c-syntax">coloring, syntax</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Comprovacio-d_0027octava"><code>Comprovació d'octava</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggeriments de tipus general</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Comprovacio-de-compas-i-de-numero-de-compas"><code>Comprovació de compàs i de número de compàs</code></a></td><td valign="top"><a href="#music-runs-off-the-page">La música se surt de la pàgina</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Comprovacio-de-compas-i-de-numero-de-compas-1"><code>Comprovació de compàs i de número de compàs</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggeriments de tipus general</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly">convert-ly</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. Actualització de fitxers amb <code>convert-ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly-1">convert-ly</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 Perquè canvia la sintaxi?</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-crides_002c-traca-de">crides, traça de</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-docbook">docbook</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DocBook_002c-adding-music">DocBook, adding music</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documents_002c-adding-music">documents, adding music</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dvips">dvips</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Easier-editing"><code>Easier editing</code></a></td><td valign="top"><a href="#other-editors">Other editors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Easier-editing-1"><code>Easier editing</code></a></td><td valign="top"><a href="#other-formats">4.3.5 Other formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-editors">editors</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-emacs">emacs</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Enhancing-MIDI-output"><code>Enhancing MIDI output</code></a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI articulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enigma">enigma</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Enigma-Transport-Format">Enigma Transport Format</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error">error</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-de-programacio">error de programació</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-del-Scheme">error del Scheme</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-fatal">error fatal</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002c-format-dels-missatges-de">error, format dels missatges de</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002c-missatges-d_0027error">error, missatges d&rsquo;error</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Estalvi-de-tecleig-mitjancant-variables-i-funcions"><code>Estalvi de tecleig mitjançant variables i funcions</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggeriments de tipus general</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ETF">ETF</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Evince">Evince</a></td><td valign="top"><a href="#extra-configuration-for-evince">Extra configuration for Evince</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Exemples-minims"><code>Exemples mínims</code></a></td><td valign="top"><a href="#troubleshooting">5.4 Solució de problemes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expressions-del-Scheme_002c-avaluacio">expressions del Scheme, avaluació</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-External-programs_002c-generating-LilyPond-files">External programs, generating LilyPond files</a></td><td valign="top"><a href="#other-formats">4.3.5 Other formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extracting-fragments-of-music"><code>Extracting fragments of music</code></a></td><td valign="top"><a href="#other-programs">4.4.3 Other programs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-fatal_002c-error">fatal, error</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-size_002c-output">file size, output</a></td><td valign="top"><a href="#enabling-point-and-click">Enabling point and click</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Finale">Finale</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fitxers_002c-cerca-de">fitxers, cerca de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Flexible-vertical-spacing-within-systems"><code>Flexible vertical spacing within systems</code></a></td><td valign="top"><a href="#warning-staff-affinities-should-only-decrease">Advertiment sobre que les afinitats del pentagrama sols han de decrèixer</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format_002c-sortida">format, sortida</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fragments_002c-music">fragments, music</a></td><td valign="top"><a href="#other-programs">4.4.3 Other programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Fulls-d_0027estil"><code>Fulls d'estil</code></a></td><td valign="top"><a href="#general-suggestions">5.1 Suggeriments de tipus general</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML">HTML</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML_002c-adding-music">HTML, adding music</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-invocacio-de-lilypond">invocació de <code>lilypond</code></a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-dvips">invoking dvips</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG">LANG</a></td><td valign="top"><a href="#environment-variables">Variables d&rsquo;entorn</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTex">LaTex</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTeX_002c-adding-music">LaTeX, adding music</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LibreOffice_002eorg">LibreOffice.org</a></td><td valign="top"><a href="#openoffice-and-libreoffice">4.4.2 OpenOffice and LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lilypond_002dbook"><code>lilypond-book</code></a></td><td valign="top"><a href="#Vegeu-tambe">Vegeu també</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LILYPOND_005fDATADIR">LILYPOND_DATADIR</a></td><td valign="top"><a href="#environment-variables">Variables d&rsquo;entorn</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loglevel">loglevel</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LuaTex">LuaTex</a></td><td valign="top"><a href="#luatex">4.4.1 LuaTex</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lyluatex">lyluatex</a></td><td valign="top"><a href="#luatex">4.4.1 LuaTex</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-linia-d_0027ordres_002c-opcions-de">línia d&rsquo;ordres, opcions de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X"><code>MacOS X</code></a></td><td valign="top"><a href="#command_002dline-usage">1.2 Utilització des de la línia d&rsquo;ordres</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-1"><code>MacOS X</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-2"><code>MacOS X</code></a></td><td valign="top"><a href="#converting-from-other-formats">4.3 Converting from other formats</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make">make</a></td><td valign="top"><a href="#make-and-makefiles">5.5 Make i els Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002c-fitxers-de">make, fitxers de</a></td><td valign="top"><a href="#make-and-makefiles">5.5 Make i els Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index"><code>Manuals</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; Utilització</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Manuals"><code>Manuals</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; Utilització</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI">MIDI</a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI-1">MIDI</a></td><td valign="top"><a href="#midi-articulation">4.5.1 MIDI articulation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-missatges-d_0027error">missatges d&rsquo;error</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modes_002c-editor">modes, editor</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modificadors">modificadors</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-music-fragments_002c-quoting">music fragments, quoting</a></td><td valign="top"><a href="#other-programs">4.4.3 Other programs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-musicology">musicology</a></td><td valign="top"><a href="#an-example-of-a-musicological-document">3.1 An example of a musicological document</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MusicXML">MusicXML</a></td><td valign="top"><a href="#invoking-musicxml2ly">4.3.2 Invoking <code>musicxml2ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OOoLilyPond">OOoLilyPond</a></td><td valign="top"><a href="#openoffice-and-libreoffice">4.4.2 OpenOffice and LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-opcions-de-la-linia-d_0027ordres-per-a-lilypond">opcions de la línia d&rsquo;ordres per a <code>lilypond</code></a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenOffice_002eorg">OpenOffice.org</a></td><td valign="top"><a href="#openoffice-and-libreoffice">4.4.2 OpenOffice and LibreOffice</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Other-sources-of-information"><code>Other sources of information</code></a></td><td valign="top"><a href="#vim-mode">Vim mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-outline-fonts">outline fonts</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-PDF-_0028format-de-document-portatil_0029_002c-sortida-de">PDF (format de document portàtil), sortida de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PNG-_0028Portable-Network-Graphics_0029_002c-sortida">PNG (Portable Network Graphics), sortida</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click">point and click</a></td><td valign="top"><a href="#point-and-click">4.1 Point and click</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Postscript-_0028PS_0029_002c-sortida">Postscript (PS), sortida</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preview-image">preview image</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-programacio_002c-error-de">programació, error de</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PS-_0028Postscript_0029_002c-sortida">PS (Postscript), sortida</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting_002c-music-fragments">quoting, music fragments</a></td><td valign="top"><a href="#other-programs">4.4.3 Other programs</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-registre_002c-nivell-de">registre, nivell de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme_002c-avaluacio-d_0027expressions">Scheme, avaluació d&rsquo;expressions</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme_002c-error-de">Scheme, error de</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Skipping-corrected-music"><code>Skipping corrected music</code></a></td><td valign="top"><a href="#typesetting-existing-music">5.2 Gravació de música existent</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida-neta_002c-fixar-el-nivell">sortida neta, fixar el nivell</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida_002c-establir-el-nom-del-fitxer-de">sortida, establir el nom del fitxer de</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida_002c-format">sortida, format</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida_002c-PDF-_0028format-de-document-portatil_0029">sortida, PDF (format de document portàtil)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida_002c-PNG-_0028Portable-Network-Graphics_0029">sortida, PNG (Portable Network Graphics)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sortida_002c-PS-_0028Postscript_0029">sortida, PS (Postscript)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Staff"><code>Staff</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-coloring">syntax coloring</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi">texi</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo-1">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Texinfo_002c-adding-music">Texinfo, adding music</a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Text-encoding"><code>Text encoding</code></a></td><td valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname">Missatge d&rsquo;error FT_Get_Glyph_Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thumbnail">thumbnail</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-and-lilypond_002dbook">titling and lilypond-book</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-in-HTML">titling in HTML</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-traca-del-Scheme">traça del Scheme</a></td><td valign="top"><a href="#error-messages">1.3 Missatges d&rsquo;error</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Tutorial"><code>Tutorial</code></a></td><td valign="top"><a href="#normal-usage">1.1 Utilització normal</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type1-fonts">type1 fonts</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Utilitzacio-des-de-la-linia-d_0027ordres"><code>Utilització des de la línia d'ordres</code></a></td><td valign="top"><a href="#Vegeu-tambe">Vegeu també</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-vim">vim</a></td><td valign="top"><a href="#text-editor-support">4.2 Text editor support</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Voice"><code>Voice</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 Invoking <code>midi2ly</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Windows"><code>Windows</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Working-with-input-files"><code>Working with input files</code></a></td><td valign="top"><a href="#independent-includes">4.5 Independent <code>include</code>s</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-X">X</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Xpdf">Xpdf</a></td><td valign="top"><a href="#using-xpdf-for-point-and-click">Using Xpdf</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Salta a: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-X" class="summary-letter"><b>X</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td></tr></table>
<h1>Notes a peu de pàgina</h1>
<p class="footnote"><small>[<a name="FOOT1" href="#DOCF1">1</a>]</small> L&rsquo;estat del GUILE no es restableix
després de processar un fitxer <code>.ly</code>, per la qual cosa heu de
tenir cura de no modificar cap valor predeterminat des de dins del
Scheme.
</p><p class="footnote"><small>[<a name="FOOT2" href="#DOCF2">2</a>]</small> Almenys això és possible en qualsevol fitxer del
LilyPond que no contingui Scheme.  Si hi ha Scheme dins del
fitxer, conté un llenguatge Turing-complet, i ens trobem amb el
famós &ldquo;Problema de l&rsquo;aturada&rdquo;  informàtica.
</p><p class="footnote"><small>[<a name="FOOT3" href="#DOCF3">3</a>]</small> This
tutorial is processed with Texinfo, so the example gives slightly
different results in layout.
</p><p class="footnote"><small>[<a name="FOOT4" href="#DOCF4">4</a>]</small> Note
that PDFLaTeX and LaTeX may not be both usable to compile any
LaTeX document, that is why we explain the two ways.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td></tr></table>
<h1>Taula de contingus</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Execucio-del-LilyPond" href="#running-lilypond">1. Execució del LilyPond</a>
  <ul class="toc">
    <li><a name="toc-Utilitzacio-normal" href="#normal-usage">1.1 Utilització normal</a></li>
    <li><a name="toc-Utilitzacio-des-de-la-linia-d_0027ordres" href="#command_002dline-usage">1.2 Utilització des de la línia d&rsquo;ordres</a>
    <ul class="toc">
      <li><a name="toc-Invocacio-del-lilypond" href="#invoking-lilypond">Invocació del <code>lilypond</code></a>
      <ul class="toc">
        <li><a name="toc-Instruccions-estandard-de-la-linia-d_0027ordres" href="#invoking-lilypond">Instruccions estàndard de la línia d&rsquo;ordres</a></li>
      </ul></li>
      <li><a name="toc-Opcions-basiques-de-la-linia-d_0027ordres-per-al-LilyPond" href="#basic-command-line-options-for-lilypond">Opcions bàsiques de la línia d&rsquo;ordres per al LilyPond</a></li>
      <li><a name="toc-Opcions-avancades-de-la-linia-d_0027ordres-per-al-LilyPond" href="#advanced-command-line-options-for-lilypond">Opcions avançades de la línia d&rsquo;ordres per al LilyPond</a></li>
      <li><a name="toc-Variables-d_0027entorn-1" href="#environment-variables">Variables d&rsquo;entorn</a></li>
      <li><a name="toc-El-LilyPond-a-una-gabia-de-chroot" href="#lilypond-in-chroot-jail">El LilyPond a una gàbia de chroot</a></li>
    </ul></li>
    <li><a name="toc-Missatges-d_0027error-1" href="#error-messages">1.3 Missatges d&rsquo;error</a></li>
    <li><a name="toc-Errors-comuns-1" href="#common-errors">1.4 Errors comuns</a>
    <ul class="toc">
      <li><a name="toc-La-musica-se-surt-de-la-pagina" href="#music-runs-off-the-page">La música se surt de la pàgina</a></li>
      <li><a name="toc-Apareix-un-pentagrama-de-mes" href="#an-extra-staff-appears">Apareix un pentagrama de més</a></li>
      <li><a name="toc-Missatge-d_0027error-Unbound-variable-_0025-1" href="#error-message-unbound-variable-_0025">Missatge d&rsquo;error Unbound variable %</a></li>
      <li><a name="toc-Missatge-d_0027error-FT_005fGet_005fGlyph_005fName-1" href="#error-message-ft_005fget_005fglyph_005fname">Missatge d&rsquo;error FT_Get_Glyph_Name</a></li>
      <li><a name="toc-Advertiment-sobre-que-les-afinitats-del-pentagrama-sols-han-de-decreixer" href="#warning-staff-affinities-should-only-decrease">Advertiment sobre que les afinitats del pentagrama sols han de decrèixer</a></li>
      <li><a name="toc-Missatge-d_0027error-Unexpected-new-_005cnew" href="#error-message-unexpected-new">Missatge d&rsquo;error Unexpected new <code>\new</code></a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Actualitzacio-de-fitxers-amb-convert_002dly" href="#updating-files-with-convert_002dly">2. Actualització de fitxers amb <code>convert-ly</code></a>
  <ul class="toc">
    <li><a name="toc-Perque-canvia-la-sintaxi_003f" href="#why-does-the-syntax-change_003f">2.1 Perquè canvia la sintaxi?</a></li>
    <li><a name="toc-Invocacio-de-convert_002dly" href="#invoking-convert_002dly">2.2 Invocació de <code>convert-ly</code></a></li>
    <li><a name="toc-Opcions-de-la-linia-d_0027ordres-per-a-convert_002dly" href="#command-line-options-for-convert_002dly">2.3 Opcions de la línia d&rsquo;ordres per a <code>convert-ly</code></a></li>
    <li><a name="toc-Problemes-amb-convert_002dly-1" href="#problems-running-convert_002dly">2.4 Problemes amb <code>convert-ly</code></a></li>
    <li><a name="toc-Conversions-manuals-1" href="#manual-conversions">2.5 Conversions manuals</a></li>
  </ul></li>
  <li><a name="toc-Running-lilypond_002dbook" href="#lilypond_002dbook">3. Running <code>lilypond-book</code></a>
  <ul class="toc">
    <li><a name="toc-An-example-of-a-musicological-document-1" href="#an-example-of-a-musicological-document">3.1 An example of a musicological document</a></li>
    <li><a name="toc-Integrating-music-and-text-1" href="#integrating-music-and-text">3.2 Integrating music and text</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-1" href="#latex">3.2.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-1" href="#texinfo">3.2.2 Texinfo</a></li>
      <li><a name="toc-HTML-1" href="#html">3.2.3 HTML</a></li>
      <li><a name="toc-DocBook-1" href="#docbook">3.2.4 DocBook</a></li>
    </ul></li>
    <li><a name="toc-Music-fragment-options-1" href="#music-fragment-options">3.3 Music fragment options</a></li>
    <li><a name="toc-Invoking-lilypond_002dbook-1" href="#invoking-lilypond_002dbook">3.4 Invoking <code>lilypond-book</code></a></li>
    <li><a name="toc-Filename-extensions-1" href="#filename-extensions">3.5 Filename extensions</a></li>
    <li><a name="toc-lilypond_002dbook-templates-1" href="#lilypond_002dbook-templates">3.6 lilypond-book templates</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-2" href="#lilypond_002dbook-templates">3.6.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-2" href="#lilypond_002dbook-templates">3.6.2 Texinfo</a></li>
      <li><a name="toc-html" href="#lilypond_002dbook-templates">3.6.3 html</a></li>
      <li><a name="toc-xelatex" href="#lilypond_002dbook-templates">3.6.4 xelatex</a></li>
    </ul></li>
    <li><a name="toc-Sharing-the-table-of-contents-1" href="#sharing-the-table-of-contents">3.7 Sharing the table of contents</a></li>
    <li><a name="toc-Alternative-methods-of-mixing-text-and-music" href="#alternate-methods-of-mixing-text-and-music">3.8 Alternative methods of mixing text and music</a></li>
  </ul></li>
  <li><a name="toc-External-programs-1" href="#external-programs">4. External programs</a>
  <ul class="toc">
    <li><a name="toc-Point-and-click-1" href="#point-and-click">4.1 Point and click</a>
    <ul class="toc">
      <li><a name="toc-Configuring-the-system" href="#configuring-the-system-for-point-and-click">4.1.1 Configuring the system</a>
      <ul class="toc">
        <li><a name="toc-Using-Xpdf" href="#using-xpdf-for-point-and-click">Using Xpdf</a></li>
        <li><a name="toc-Using-GNOME-2" href="#using-gnome-2-for-point-and-click">Using GNOME 2</a></li>
        <li><a name="toc-Using-GNOME-3" href="#using-gnome-3-for-point-and-click">Using GNOME 3</a></li>
        <li><a name="toc-Extra-configuration-for-Evince-1" href="#extra-configuration-for-evince">Extra configuration for Evince</a></li>
      </ul></li>
      <li><a name="toc-Enabling-point-and-click-1" href="#enabling-point-and-click">Enabling point and click</a></li>
      <li><a name="toc-Selective-point_002dand_002dclick-1" href="#selective-point_002dand_002dclick">Selective point-and-click</a></li>
    </ul></li>
    <li><a name="toc-Text-editor-support-1" href="#text-editor-support">4.2 Text editor support</a>
    <ul class="toc">
      <li><a name="toc-Emacs-mode-1" href="#emacs-mode">Emacs mode</a></li>
      <li><a name="toc-Vim-mode-1" href="#vim-mode">Vim mode</a></li>
      <li><a name="toc-Other-editors-1" href="#other-editors">Other editors</a></li>
    </ul></li>
    <li><a name="toc-Converting-from-other-formats-1" href="#converting-from-other-formats">4.3 Converting from other formats</a>
    <ul class="toc">
      <li><a name="toc-Invoking-midi2ly-1" href="#invoking-midi2ly">4.3.1 Invoking <code>midi2ly</code></a></li>
      <li><a name="toc-Invoking-musicxml2ly-1" href="#invoking-musicxml2ly">4.3.2 Invoking <code>musicxml2ly</code></a></li>
      <li><a name="toc-Invoking-abc2ly-1" href="#invoking-abc2ly">4.3.3 Invoking <code>abc2ly</code></a></li>
      <li><a name="toc-Invoking-etf2ly-1" href="#invoking-etf2ly">4.3.4 Invoking <code>etf2ly</code></a></li>
      <li><a name="toc-Other-formats-1" href="#other-formats">4.3.5 Other formats</a></li>
    </ul></li>
    <li><a name="toc-LilyPond-output-in-other-programs-1" href="#lilypond-output-in-other-programs">4.4 LilyPond output in other programs</a>
    <ul class="toc">
      <li><a name="toc-LuaTex-1" href="#luatex">4.4.1 LuaTex</a></li>
      <li><a name="toc-OpenOffice-and-LibreOffice-1" href="#openoffice-and-libreoffice">4.4.2 OpenOffice and LibreOffice</a></li>
      <li><a name="toc-Other-programs-1" href="#other-programs">4.4.3 Other programs</a></li>
    </ul></li>
    <li><a name="toc-Independent-includes-1" href="#independent-includes">4.5 Independent <code>include</code>s</a>
    <ul class="toc">
      <li><a name="toc-MIDI-articulation-1" href="#midi-articulation">4.5.1 MIDI articulation</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Suggeriments-per-escriure-fitxers-d_0027entrada-1" href="#suggestions-for-writing-files">5. Suggeriments per escriure fitxers d&rsquo;entrada</a>
  <ul class="toc">
    <li><a name="toc-Suggeriments-de-tipus-general-1" href="#general-suggestions">5.1 Suggeriments de tipus general</a></li>
    <li><a name="toc-Gravacio-de-musica-existent" href="#typesetting-existing-music">5.2 Gravació de música existent</a></li>
    <li><a name="toc-Projectes-grans-1" href="#large-projects">5.3 Projectes grans</a></li>
    <li><a name="toc-Solucio-de-problemes" href="#troubleshooting">5.4 Solució de problemes</a></li>
    <li><a name="toc-Make-i-els-Makefiles-1" href="#make-and-makefiles">5.5 Make i els Makefiles</a></li>
  </ul></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#gnu-free-documentation-license">A. GNU Free Documentation License</a></li>
  <li><a name="toc-Index-del-LilyPond" href="#lilypond-index">B. Índex del LilyPond</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="#lilypond-index" title="Índex" rel="index">Índex</a>][<a href="#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td></tr></table>
<h1>Quant a aquest document</h1>
<p>
  This document was generated by <em>GUB</em> on <em>Agost 6, 2017</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  Els botons dels plafons de navegació tenen els significat següent:
</p>
<table border="1">
  <tr>
    <th> Botó </th>
    <th> Nom </th>
    <th> Ves a </th>
    <th> De 1.2.3 ves a</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">Endarrere ràpid</td>
    <td>Inici d&rsquo;aquest capítol o capítol previ</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [Part superior] </td>
    <td align="center">Part superior</td>
    <td>Portada (inici) del document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Continguts] </td>
    <td align="center">Continguts</td>
    <td>Taula de continguts</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Índex] </td>
    <td align="center">Índex</td>
    <td>Índex</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">Quant a</td>
    <td>Quant a (ajuda)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">Endavant ràpid</td>
    <td>Capítol següent</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Endarrere</td>
    <td>Secció prèvia en ordre de lectura</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ Amunt ] </td>
    <td align="center">Amunt</td>
    <td>Amunt secció</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Endavant</td>
    <td>Secció següent en ordre de lectura</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  on l&rsquo;<strong> Exemple </strong> suposa que la posició actual està a <strong> Subsubsecció U-Dos-tres </strong> d&rsquo;un document a l&rsquo;estructura següent:
</p>

<ul>
  <li> 1. Secció u
    <ul>
      <li>1.1 Subsecció U-U
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsecció U-Dos
        <ul>
          <li>1.2.1 Subsubsecció U-Dos-U</li>
          <li>1.2.2 Subsubsecció U-Dos-Dos</li>
          <li>1.2.3 Subsubsecció U-Dos-Tres &nbsp; &nbsp;
            <strong>&lt;== Posició actual </strong></li>
          <li>1.2.4 Subsubsecció U-Dos-Quatre</li>
        </ul>
      </li>
      <li>1.3 Subsecció U-Tres
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsecció U-Quatre</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Aquesta pàgina correspon a LilyPond-2.19.65 (branca de desenvolupament).
</p>
<p class="footer_report">
Agraïm la vostra ajuda: sisplau <a href="http://lilypond.org/help-us.html">ajudeu-nos</a> informant d'errors a la nostra <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">llista de correu d'errors</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Altres idiomes: <a href="usage-big-page.html">English</a>, <a href="usage-big-page.de.html">deutsch</a>, <a href="usage-big-page.es.html">español</a>, <a href="usage-big-page.fr.html">français</a>, <a href="usage-big-page.hu.html">magyar</a>, <a href="usage-big-page.it.html">italiano</a>, <a href="usage-big-page.ja.html">日本語</a>.
 <br>
 Quant a la <a href="http://www.lilypond.org/website/misc/browser-language">selecció automàtica de la llengua</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../Documentation/web/manuals.ca.html"
         title="Documentation Index">&lt;&lt; Torna a l'índex de la documentació</a></p>
<h4 class="toc_header"> <a href="#index" title="Start of the manual">LilyPond &mdash; Utilització  v2.19.65 (branca de desenvolupament). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Execucio-del-LilyPond" href="usage-big-page.ca.html#running-lilypond">1. Execució del LilyPond</a>
  <ul class="toc">
    <li class=""><a name="toc-Utilitzacio-normal" href="usage-big-page.ca.html#normal-usage">1.1 Utilització normal</a>    </li>
    <li class=""><a name="toc-Utilitzacio-des-de-la-linia-d_0027ordres" href="usage-big-page.ca.html#command_002dline-usage">1.2 Utilització des de la línia d&rsquo;ordres</a>    </li>
    <li class=""><a name="toc-Missatges-d_0027error-1" href="usage-big-page.ca.html#error-messages">1.3 Missatges d&rsquo;error</a>    </li>
    <li class=""><a name="toc-Errors-comuns-1" href="usage-big-page.ca.html#common-errors">1.4 Errors comuns</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Actualitzacio-de-fitxers-amb-convert_002dly" href="usage-big-page.ca.html#updating-files-with-convert_002dly">2. Actualització de fitxers amb <code>convert-ly</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Perque-canvia-la-sintaxi_003f" href="usage-big-page.ca.html#why-does-the-syntax-change_003f">2.1 Perquè canvia la sintaxi?</a>    </li>
    <li class=""><a name="toc-Invocacio-de-convert_002dly" href="usage-big-page.ca.html#invoking-convert_002dly">2.2 Invocació de <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Opcions-de-la-linia-d_0027ordres-per-a-convert_002dly" href="usage-big-page.ca.html#command-line-options-for-convert_002dly">2.3 Opcions de la línia d&rsquo;ordres per a <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Problemes-amb-convert_002dly-1" href="usage-big-page.ca.html#problems-running-convert_002dly">2.4 Problemes amb <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Conversions-manuals-1" href="usage-big-page.ca.html#manual-conversions">2.5 Conversions manuals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Running-lilypond_002dbook" href="usage-big-page.ca.html#lilypond_002dbook">3. Running <code>lilypond-book</code></a>
  <ul class="toc">
    <li class=""><a name="toc-An-example-of-a-musicological-document-1" href="usage-big-page.ca.html#an-example-of-a-musicological-document">3.1 An example of a musicological document</a>    </li>
    <li class=""><a name="toc-Integrating-music-and-text-1" href="usage-big-page.ca.html#integrating-music-and-text">3.2 Integrating music and text</a>    </li>
    <li class=""><a name="toc-Music-fragment-options-1" href="usage-big-page.ca.html#music-fragment-options">3.3 Music fragment options</a>    </li>
    <li class=""><a name="toc-Invoking-lilypond_002dbook-1" href="usage-big-page.ca.html#invoking-lilypond_002dbook">3.4 Invoking <code>lilypond-book</code></a>    </li>
    <li class=""><a name="toc-Filename-extensions-1" href="usage-big-page.ca.html#filename-extensions">3.5 Filename extensions</a>    </li>
    <li class=""><a name="toc-lilypond_002dbook-templates-1" href="usage-big-page.ca.html#lilypond_002dbook-templates">3.6 lilypond-book templates</a>    </li>
    <li class=""><a name="toc-Sharing-the-table-of-contents-1" href="usage-big-page.ca.html#sharing-the-table-of-contents">3.7 Sharing the table of contents</a>    </li>
    <li class=""><a name="toc-Alternative-methods-of-mixing-text-and-music" href="usage-big-page.ca.html#alternate-methods-of-mixing-text-and-music">3.8 Alternative methods of mixing text and music</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-External-programs-1" href="usage-big-page.ca.html#external-programs">4. External programs</a>
  <ul class="toc">
    <li class=""><a name="toc-Point-and-click-1" href="usage-big-page.ca.html#point-and-click">4.1 Point and click</a>    </li>
    <li class=""><a name="toc-Text-editor-support-1" href="usage-big-page.ca.html#text-editor-support">4.2 Text editor support</a>    </li>
    <li class=""><a name="toc-Converting-from-other-formats-1" href="usage-big-page.ca.html#converting-from-other-formats">4.3 Converting from other formats</a>    </li>
    <li class=""><a name="toc-LilyPond-output-in-other-programs-1" href="usage-big-page.ca.html#lilypond-output-in-other-programs">4.4 LilyPond output in other programs</a>    </li>
    <li class=""><a name="toc-Independent-includes-1" href="usage-big-page.ca.html#independent-includes">4.5 Independent <code>include</code>s</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Suggeriments-per-escriure-fitxers-d_0027entrada-1" href="usage-big-page.ca.html#suggestions-for-writing-files">5. Suggeriments per escriure fitxers d&rsquo;entrada</a>
  <ul class="toc">
    <li class=""><a name="toc-Suggeriments-de-tipus-general-1" href="usage-big-page.ca.html#general-suggestions">5.1 Suggeriments de tipus general</a>    </li>
    <li class=""><a name="toc-Gravacio-de-musica-existent" href="usage-big-page.ca.html#typesetting-existing-music">5.2 Gravació de música existent</a>    </li>
    <li class=""><a name="toc-Projectes-grans-1" href="usage-big-page.ca.html#large-projects">5.3 Projectes grans</a>    </li>
    <li class=""><a name="toc-Solucio-de-problemes" href="usage-big-page.ca.html#troubleshooting">5.4 Solució de problemes</a>    </li>
    <li class=""><a name="toc-Make-i-els-Makefiles-1" href="usage-big-page.ca.html#make-and-makefiles">5.5 Make i els Makefiles</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="usage-big-page.ca.html#gnu-free-documentation-license">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-del-LilyPond" href="usage-big-page.ca.html#lilypond-index">B. Índex del LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: 9d074d78d7c25852afa87005e21c118630f4f83b

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.

we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Cerca a Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Buscar">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
