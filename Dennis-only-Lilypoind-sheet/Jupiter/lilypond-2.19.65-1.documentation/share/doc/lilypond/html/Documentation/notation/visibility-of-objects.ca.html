<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2015 pels autors.

La traducció de la següent nota de copyright s'ofereix com a
cortesia per a les persones de parla no anglesa, però únicament la
nota en anglès té validesa legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

S'atorga permís per copiar, distribuir i/o modificar aquest
document sota els termes de la Llicència de Documentació Lliure de
GNU, versió 1.1 o qualsevol posterior publicada per la Free
Software Foundation; sense cap de les seccions invariants.
S'inclou una còpia d'aquesta llicència dins de la secció titulada
"Llicència de Documentació Lliure de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on Agost 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Referència de la notació del GNU LilyPond: 5.4.7 Visibility of objects</title>

<meta name="description" content="Referència de la notació del GNU LilyPond: 5.4.7 Visibility of objects">
<meta name="keywords" content="Referència de la notació del GNU LilyPond: 5.4.7 Visibility of objects">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ca.html#index" rel="start" title="LilyPond &mdash; Referència de la notació">
<link href="lilypond-command-index.ca.html#lilypond-command-index" rel="index" title="D. Índex d'ordres del LilyPond">
<link href="index_toc.ca.html#SEC_Contents" rel="contents" title="Taula de contingus">
<link href="index_abt.ca.html#SEC_About" rel="help" title="Quant a aquest document">
<link href="useful-concepts-and-properties.ca.html#useful-concepts-and-properties" rel="up" title="5.4 Useful concepts and properties">
<link href="lilypond-index.ca.html#lilypond-index" rel="next" title="E. Índex del LilyPond">
<link href="spanners.ca.html#spanners" rel="previous" title="5.4.6 Spanners">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ca" class="notation devStatus">


<div id="main">
<a name="Visibility-of-objects"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="spanners.ca.html#using-the-line_002dspanner_002dinterface" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using the line-spanner-interface&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="useful-concepts-and-properties.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Useful concepts and properties&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#removing-the-stencil" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Removing the stencil &gt; </a>]</td></tr></table>
<a name="visibility-of-objects"></a>
<h3 class="subsection">5.4.7 Visibility of objects</h3>

<a name="index-objects_002c-visibility-of"></a>
<a name="index-grobs_002c-visibility-of"></a>
<a name="index-visibility-of-objects"></a>

<p>There are four main ways in which the visibility of layout objects
can be controlled: their stencil can be removed, they can be made
transparent, they can be colored white, or their
<code>break-visibility</code> property can be overridden.  The first
three apply to all layout objects; the last to just a few &ndash; the
<em>breakable</em> objects.  The Learning Manual introduces these
four techniques, see <a name="index-Visibility-and-color-of-objects-3"></a>
<a href="../learning/visibility-and-color-of-objects.ca.html">Visibility and color of objects</a>.
</p>
<p>There are also a few other techniques which are specific to
certain layout objects.  These are covered under Special
considerations.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#removing-the-stencil" accesskey="1">Removing the stencil</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#making-objects-transparent" accesskey="2">Making objects transparent</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#painting-objects-white" accesskey="3">Painting objects white</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#using-break_002dvisibility" accesskey="4">Using break-visibility</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#special-considerations" accesskey="5">Special considerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Removing-the-stencil"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#visibility-of-objects" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Visibility of objects&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#making-objects-transparent" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Making objects transparent &gt; </a>]</td></tr></table>
<a name="removing-the-stencil"></a>
<h4 class="unnumberedsubsubsec">Removing the stencil</h4>

<a name="index-stencil_002c-removing"></a>
<a name="index-_005comit"></a>
<a name="index-_005comit-1"></a>

<p>Every layout object has a stencil property.  By default this is set
to the specific function which draws that object.  If this property
is overridden to <code>#f</code> no function will be called and the object
will not be drawn.  The default action can be recovered with
<code>\revert</code>.
</p>
<blockquote><pre class="verbatim">a1 a
\override Score.BarLine.stencil = ##f
a a
\revert Score.BarLine.stencil
a a a
</pre><p>
 <a href="../d9/lily-00f5e6da.ly">
  <img align="middle"
       border="0"
       src="../d9/lily-00f5e6da.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This rather common operation has a shortcut <code>\omit</code>:
</p>
<blockquote><pre class="verbatim">a1 a
\omit Score.BarLine
a a
\undo \omit Score.BarLine
a a a
</pre><p>
 <a href="../27/lily-5affe06e.ly">
  <img align="middle"
       border="0"
       src="../27/lily-5affe06e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Making-objects-transparent"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#removing-the-stencil" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Removing the stencil&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#painting-objects-white" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Painting objects white &gt; </a>]</td></tr></table>
<a name="making-objects-transparent"></a>
<h4 class="unnumberedsubsubsec">Making objects transparent</h4>

<a name="index-transparent_002c-making-objects"></a>
<a name="index-_005chide"></a>
<a name="index-_005chide-1"></a>

<p>Every layout object has a transparent property which by default is
set to <code>#f</code>.  If set to <code>#t</code> the object still occupies
space but is made invisible.
</p>
<blockquote><pre class="verbatim">a'4 a'
\once \override NoteHead.transparent = ##t
a' a'
</pre><p>
 <a href="../13/lily-397e6cb0.ly">
  <img align="middle"
       border="0"
       src="../13/lily-397e6cb0.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This rather common operation has a shortcut <code>\hide</code>:
</p>
<blockquote><pre class="verbatim">a'4 a'
\once \hide NoteHead
a' a'
</pre><p>
 <a href="../4a/lily-2d00dc5c.ly">
  <img align="middle"
       border="0"
       src="../4a/lily-2d00dc5c.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Painting-objects-white"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#making-objects-transparent" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Making objects transparent&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#using-break_002dvisibility" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Using break-visibility &gt; </a>]</td></tr></table>
<a name="painting-objects-white"></a>
<h4 class="unnumberedsubsubsec">Painting objects white</h4>

<a name="index-objects_002c-coloring"></a>
<a name="index-coloring-objects-1"></a>
<a name="index-layers"></a>
<a name="index-printing-order"></a>
<a name="index-overwriting-objects"></a>
<a name="index-objects_002c-overwriting"></a>
<a name="index-grobs_002c-overwriting"></a>

<p>Every layout object has a color property which by default is set
to <code>black</code>.  If this is overridden to <code>white</code> the object
will be indistinguishable from the white background.  However,
if the object crosses other objects the color of the crossing
points will be determined by the order in which they are drawn,
and this may leave a ghostly image of the white object, as shown
here:
</p>
<blockquote><pre class="verbatim">\override Staff.Clef.color = #white
a'1
</pre><p>
 <a href="../fd/lily-5b559d30.ly">
  <img align="middle"
       border="0"
       src="../fd/lily-5b559d30.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>This may be avoided by changing the order of printing the objects.
All layout objects have a <code>layer</code> property which should be set
to an integer.  Objects with the lowest value of <code>layer</code> are
drawn first, then objects with progressively higher values are drawn,
so objects with higher values overwrite objects with lower values.
By default most objects are assigned a <code>layer</code> value of
<code>1</code>, although a few objects, including <code>StaffSymbol</code> and
<code>BarLine</code>, are assigned a value of <code>0</code>.  The order of
printing objects with the same value of <code>layer</code> is indeterminate.
</p>
<p>In the example above the white clef, with a default <code>layer</code>
value of <code>1</code>, is drawn after the staff lines (default
<code>layer</code> value <code>0</code>), so overwriting them.  To change this,
the <code>Clef</code> object must be given in a lower value of
<code>layer</code>, say <code>-1</code>, so that it is drawn earlier:
</p>
<blockquote><pre class="verbatim">\override Staff.Clef.color = #white
\override Staff.Clef.layer = #-1
a'1
</pre><p>
 <a href="../9d/lily-ba94492c.ly">
  <img align="middle"
       border="0"
       src="../9d/lily-ba94492c.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Using-break_002dvisibility"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#painting-objects-white" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Painting objects white&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#special-considerations" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Special considerations &gt; </a>]</td></tr></table>
<a name="using-break_002dvisibility"></a>
<h4 class="unnumberedsubsubsec">Using break-visibility</h4>


<a name="index-break_002dvisibility"></a>

<p>Most layout objects are printed only once, but some like
bar lines, clefs, time signatures and key signatures, may need
to be printed twice when a line break occurs &ndash; once at the end
of the line and again at the start of the next line.  Such
objects are called <em>breakable</em>, and have a property, the
<code>break-visibility</code> property to control their visibility
at the three positions in which they may appear &ndash; at the
start of a line, within a line if they are changed, and at the
end of a line if a change takes place there.
</p>
<p>For example, the time signature
by default will be printed at the start of the first line, but
nowhere else unless it changes, when it will be printed at the
point at which the change occurs.  If this change occurs at the
end of a line the new time signature will be printed at the start
of the next line and a cautionary time signature will be printed
at the end of the previous line as well.
</p>
<p>This behaviour is controlled by the <code>break-visibility</code>
property, which is explained in
<a name="index-Visibility-and-color-of-objects-4"></a>
<a href="../learning/visibility-and-color-of-objects.ca.html">Visibility and color of objects</a>.  This property takes
a vector of three booleans which, in order, determine whether the
object is printed at the end of, within the body of, or at the
beginning of a line.  Or to be more precise, before a line break,
where there is no line break, or after a line break.
</p>
<p>Alternatively, these eight combinations may be specified
by pre-defined functions, defined in &lsquo;<tt>scm/output-lib.scm</tt>&rsquo;,
where the last three columns indicate whether the layout objects
will be visible in the positions shown at the head of the columns:
</p>
<table>
<thead><tr><th>Function</th><th>Vector</th><th>Before</th><th>At no</th><th>After</th></tr></thead>
<thead><tr><th>form</th><th>form</th><th>break</th><th>break</th><th>break</th></tr></thead>
<tr><td><code>all-visible</code></td><td><code>#(#t #t #t)</code></td><td>yes</td><td>yes</td><td>yes</td></tr>
<tr><td><code>begin-of-line-visible</code></td><td><code>#(#f #f #t)</code></td><td>no</td><td>no</td><td>yes</td></tr>
<tr><td><code>center-visible</code></td><td><code>#(#f #t #f)</code></td><td>no</td><td>yes</td><td>no</td></tr>
<tr><td><code>end-of-line-visible</code></td><td><code>#(#t #f #f)</code></td><td>yes</td><td>no</td><td>no</td></tr>
<tr><td><code>begin-of-line-invisible</code></td><td><code>#(#t #t #f)</code></td><td>yes</td><td>yes</td><td>no</td></tr>
<tr><td><code>center-invisible</code></td><td><code>#(#t #f #t)</code></td><td>yes</td><td>no</td><td>yes</td></tr>
<tr><td><code>end-of-line-invisible</code></td><td><code>#(#f #t #t)</code></td><td>no</td><td>yes</td><td>yes</td></tr>
<tr><td><code>all-invisible</code></td><td><code>#(#f #f #f)</code></td><td>no</td><td>no</td><td>no</td></tr>
</table>

<p>The default settings of <code>break-visibility</code> depend on the
layout object.  The following table shows all the layout objects
of interest which are affected by <code>break-visibility</code> and the
default setting of this property:
</p>
<table>
<thead><tr><th width="30%">Layout object</th><th width="30%">Usual context</th><th width="40%">Default setting</th></tr></thead>
<tr><td width="30%"><code>BarLine</code></td><td width="30%"><code>Score</code></td><td width="40%">calculated</td></tr>
<tr><td width="30%"><code>BarNumber</code></td><td width="30%"><code>Score</code></td><td width="40%"><code>begin-of-line-visible</code></td></tr>
<tr><td width="30%"><code>BreathingSign</code></td><td width="30%"><code>Voice</code></td><td width="40%"><code>begin-of-line-invisible</code></td></tr>
<tr><td width="30%"><code>Clef</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>begin-of-line-visible</code></td></tr>
<tr><td width="30%"><code>Custos</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>end-of-line-visible</code></td></tr>
<tr><td width="30%"><code>DoublePercentRepeat</code></td><td width="30%"><code>Voice</code></td><td width="40%"><code>begin-of-line-invisible</code></td></tr>
<tr><td width="30%"><code>KeyCancellation</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>begin-of-line-invisible</code></td></tr>
<tr><td width="30%"><code>KeySignature</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>begin-of-line-visible</code></td></tr>
<tr><td width="30%"><code>ClefModifier</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>begin-of-line-visible</code></td></tr>
<tr><td width="30%"><code>RehearsalMark</code></td><td width="30%"><code>Score</code></td><td width="40%"><code>end-of-line-invisible</code></td></tr>
<tr><td width="30%"><code>TimeSignature</code></td><td width="30%"><code>Staff</code></td><td width="40%"><code>all-visible</code></td></tr>
</table>

<p>The example below shows the use of the vector form to control the
visibility of bar lines:
</p>
<blockquote><pre class="verbatim">\relative {
  f'4 g a b
  f4 g a b
  % Remove bar line at the end of the current line
  \once \override Score.BarLine.break-visibility = ##(#f #t #t)
  \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../52/lily-9303f175.ly">
  <img align="middle"
       border="0"
       src="../52/lily-9303f175.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Although all three components of the vector used to override
<code>break-visibility</code> must be present, not all of them are
effective with every layout object, and some combinations may
even give errors.  The following limitations apply:
</p>
<ul>
<li> Bar lines cannot be printed at the start of line.

</li><li> A bar number cannot be printed at the start of the <em>first</em>
line unless it is set to be different from <code>1</code>.

</li><li> Clef &ndash; see the next section.

</li><li> Double percent repeats are either <em>all printed</em> or
<em>all suppressed</em>.  Use <code>begin-of-line-invisible</code>
to print them and <code>all-invisible</code> to suppress them.

</li><li> Key signature &ndash; see the next section.

</li><li> ClefModifier &ndash; see the next section.
</li></ul>


<hr size="6">
<a name="Special-considerations"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-break_002dvisibility" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using break-visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="line-styles.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Line styles &gt; </a>]</td></tr></table>
<a name="special-considerations"></a>
<h4 class="unnumberedsubsubsec">Special considerations</h4>

<a name="-Visibility-following-explicit-changes"></a>
<h4 class="subsubheading"><i> Visibility following explicit changes</i></h4>

<a name="index-key-signature_002c-visibility-following-explicit-change"></a>
<a name="index-explicitKeySignatureVisibility"></a>
<a name="index-clef_002c-visibility-following-explicit-change"></a>
<a name="index-explicitClefVisibility"></a>

<p>The <code>break-visibility</code> property controls the visibility of
key signatures and changes of clef only at the start of lines,
i.e., after a break.  It has no effect on the visibility of the
key signature or clef following an explicit key change or an
explicit clef change within or at the end of a line.  In the
following example the key signature following the explicit change
to B-flat major is still visible, even though <code>all-invisible</code>
is set.
</p>
<blockquote><pre class="verbatim">\relative {
  \key g \major
  f'4 g a b
  % Try to remove all key signatures
  \override Staff.KeySignature.break-visibility = #all-invisible
  \key bes \major
  f4 g a b
  \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../77/lily-4ae20ecc.ly">
  <img align="middle"
       border="0"
       src="../77/lily-4ae20ecc.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The visibility of such explicit key signature and clef changes is
controlled by the <code>explicitKeySignatureVisibility</code> and
<code>explicitClefVisibility</code> properties.  These are the equivalent
of the <code>break-visibility</code> property and both take a vector of
three booleans or the predefined functions listed above, exactly like
<code>break-visibility</code>.  Both are properties of the Staff context,
not the layout objects themselves, and so they are set using the
<code>\set</code> command.  Both are set by default to <code>all-visible</code>.
These properties control only the visibility of key signatures and
clefs resulting from explicit changes and do not affect key
signatures and clefs at the beginning of lines;
<code>break-visibility</code> must still be overridden in the appropriate
object to remove these.
</p>
<blockquote><pre class="verbatim">\relative {
  \key g \major
  f'4 g a b
  \set Staff.explicitKeySignatureVisibility = #all-invisible
  \override Staff.KeySignature.break-visibility = #all-invisible
  \key bes \major
  f4 g a b \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../fb/lily-2df09bb1.ly">
  <img align="middle"
       border="0"
       src="../fb/lily-2df09bb1.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="-Visibility-of-cancelling-accidentals"></a>
<h4 class="subsubheading"><i> Visibility of cancelling accidentals</i></h4>

<p>To remove the cancelling accidentals printed at an explicit key
change, set the Staff context property <code>printKeyCancellation</code>
to <code>#f</code>:
</p>
<blockquote><pre class="verbatim">\relative {
  \key g \major
  f'4 g a b
  \set Staff.explicitKeySignatureVisibility = #all-invisible
  \set Staff.printKeyCancellation = ##f
  \override Staff.KeySignature.break-visibility = #all-invisible
  \key bes \major
  f4 g a b \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../08/lily-0286162a.ly">
  <img align="middle"
       border="0"
       src="../08/lily-0286162a.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>With these overrides only the accidentals before the notes remain
to indicate the change of key.
</p>
<p>Note that when changing the key to C&nbsp;major or A&nbsp;minor
the cancelling accidentals would be the <em>only</em> indication of
the key change.  In this case setting <code>printKeyCancellation</code> to
<code>#f</code> has no effect:
</p>
<blockquote><pre class="verbatim">\relative {
  \key g \major
  f'4 g a b
  \set Staff.explicitKeySignatureVisibility = #all-invisible
  \set Staff.printKeyCancellation = ##f
  \key c \major
  f4 g a b \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../6c/lily-91414cae.ly">
  <img align="middle"
       border="0"
       src="../6c/lily-91414cae.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>To suppress the cancelling accidentals even when the key is
changed to C&nbsp;major or A&nbsp;minor, override
the visibility of the <code>KeyCancellation</code> grob instead:
</p>
<blockquote><pre class="verbatim">\relative {
  \key g \major
  f'4 g a b
  \set Staff.explicitKeySignatureVisibility = #all-invisible
  \override Staff.KeyCancellation.break-visibility = #all-invisible
  \key c \major
  f4 g a b \break
  f4 g a b
  f4 g a b
}
</pre><p>
 <a href="../2f/lily-888bc645.ly">
  <img align="middle"
       border="0"
       src="../2f/lily-888bc645.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<a name="-Automatic-bars"></a>
<h4 class="subsubheading"><i> Automatic bars</i></h4>

<a name="index-automaticBars"></a>
<a name="index-bar-lines_002c-suppressing"></a>

<p>As a special case, the printing of bar lines can also be turned off
by setting the <code>automaticBars</code> property in the Score context.
If set to <code>#f</code>, bar lines will not be printed automatically;
they must be explicitly created with a <code>\bar</code> command.  Unlike
the <code>\cadenzaOn</code> predefined command, measures are still counted.
Bar generation will resume according to that count if this property
is later set to <code>#t</code>.  When set to <code>#f</code>, line breaks can
occur only at explicit <code>\bar</code> commands.
</p>

<a name="-Transposed-clefs"></a>
<h4 class="subsubheading"><i> Transposed clefs</i></h4>

<a name="index-transposed-clefs_002c-visibility-of"></a>
<a name="index-visibility-of-transposed-clefs"></a>
<a name="index-clefs_002c-visibility-of-transposition"></a>

<p>The small transposition symbol on transposed clefs is produced by the
<code>ClefModifier</code> layout object.  Its visibility is automatically
inherited from the <code>Clef</code> object, so it is not necessary to apply
any required <code>break-visibility</code> overrides to the <code>ClefModifier</code>
layout objects to suppress transposition symbols for invisible clefs.
</p>
<p>For explicit clef changes, the <code>explicitClefVisibility</code>
property controls both the clef symbol and any transposition symbol
associated with it.
</p>
<a name="Vegeu-tambe-45"></a>
<h4 class="subsubheading">Vegeu també</h4>
<p>Learning Manual:
<a name="index-Visibility-and-color-of-objects-5"></a>
<a href="../learning/visibility-and-color-of-objects.ca.html">Visibility and color of objects</a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="changing-defaults.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Changing defaults&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-command-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="notation-manual-tables.ca.html" title="Capítol següent">&nbsp;Notation manual tables &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#using-break_002dvisibility" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Using break-visibility&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#visibility-of-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Visibility of objects&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="line-styles.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Line styles &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Aquesta pàgina correspon a LilyPond-2.19.65 (branca de desenvolupament).
</p>
<p class="footer_report">
Agraïm la vostra ajuda: sisplau <a href="http://lilypond.org/help-us.html">ajudeu-nos</a> informant d'errors a la nostra <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">llista de correu d'errors</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Altres idiomes: <a href="visibility-of-objects.html">English</a>, <a href="visibility-of-objects.de.html">deutsch</a>, <a href="visibility-of-objects.es.html">español</a>, <a href="visibility-of-objects.fr.html">français</a>, <a href="visibility-of-objects.it.html">italiano</a>, <a href="visibility-of-objects.ja.html">日本語</a>.
 <br>
 Quant a la <a href="http://www.lilypond.org/website/misc/browser-language">selecció automàtica de la llengua</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.ca.html"
         title="Documentation Index">&lt;&lt; Torna a l'índex de la documentació</a></p>
<h4 class="toc_header"> <a href="index.ca.html" title="Start of the manual">LilyPond &mdash; Referència de la notació  v2.19.65 (branca de desenvolupament). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Notacio-musical" href="musical-notation.ca.html">1. Notació musical</a>
  <ul class="toc">
    <li class=""><a name="toc-Altures-1" href="pitches.ca.html">1.1 Altures</a>    </li>
    <li class=""><a name="toc-Duracions-1" href="rhythms.ca.html">1.2 Duracions</a>    </li>
    <li class=""><a name="toc-Expressions-1" href="expressive-marks.ca.html">1.3 Expressions</a>    </li>
    <li class=""><a name="toc-Repeticions-1" href="repeats.ca.html">1.4 Repeticions</a>    </li>
    <li class=""><a name="toc-Notes-simultanies" href="simultaneous-notes.ca.html">1.5 Notes simultànies</a>    </li>
    <li class=""><a name="toc-Notacio-dels-pentagrames" href="staff-notation.ca.html">1.6 Notació dels pentagrames</a>    </li>
    <li class=""><a name="toc-Editorial-annotations-1" href="editorial-annotations.ca.html">1.7 Editorial annotations</a>    </li>
    <li class=""><a name="toc-Text-1" href="text.ca.html">1.8 Text</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Specialist-notation-1" href="specialist-notation.ca.html">2. Specialist notation</a>
  <ul class="toc">
    <li class=""><a name="toc-Vocal-music-1" href="vocal-music.ca.html">2.1 Vocal music</a>    </li>
    <li class=""><a name="toc-Keyboard-and-other-multi_002dstaff-instruments-1" href="keyboard-and-other-multi_002dstaff-instruments.ca.html">2.2 Keyboard and other multi-staff instruments</a>    </li>
    <li class=""><a name="toc-Unfretted-string-instruments-1" href="unfretted-string-instruments.ca.html">2.3 Unfretted string instruments</a>    </li>
    <li class=""><a name="toc-Fretted-string-instruments-1" href="fretted-string-instruments.ca.html">2.4 Fretted string instruments</a>    </li>
    <li class=""><a name="toc-Percussion-1" href="percussion.ca.html">2.5 Percussion</a>    </li>
    <li class=""><a name="toc-Wind-instruments-1" href="wind-instruments.ca.html">2.6 Wind instruments</a>    </li>
    <li class=""><a name="toc-Chord-notation-1" href="chord-notation.ca.html">2.7 Chord notation</a>    </li>
    <li class=""><a name="toc-Contemporary-music-1" href="contemporary-music.ca.html">2.8 Contemporary music</a>    </li>
    <li class=""><a name="toc-Ancient-notation-1" href="ancient-notation.ca.html">2.9 Ancient notation</a>    </li>
    <li class=""><a name="toc-World-music-1" href="world-music.ca.html">2.10 World music</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-General-input-and-output-1" href="general-input-and-output.ca.html">3. General input and output</a>
  <ul class="toc">
    <li class=""><a name="toc-Input-structure-1" href="input-structure.ca.html">3.1 Input structure</a>    </li>
    <li class=""><a name="toc-Titles-and-headers-1" href="titles-and-headers.ca.html">3.2 Titles and headers</a>    </li>
    <li class=""><a name="toc-Working-with-input-files-1" href="working-with-input-files.ca.html">3.3 Working with input files</a>    </li>
    <li class=""><a name="toc-Controlling-output-1" href="controlling-output.ca.html">3.4 Controlling output</a>    </li>
    <li class=""><a name="toc-Creating-MIDI-output-1" href="creating-midi-output.ca.html">3.5 Creating MIDI output</a>    </li>
    <li class=""><a name="toc-Extracting-musical-information-1" href="extracting-musical-information.ca.html">3.6 Extracting musical information</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Spacing-issues-1" href="spacing-issues.ca.html">4. Spacing issues</a>
  <ul class="toc">
    <li class=""><a name="toc-Page-layout-1" href="page-layout.ca.html">4.1 Page layout</a>    </li>
    <li class=""><a name="toc-Score-layout-1" href="score-layout.ca.html">4.2 Score layout</a>    </li>
    <li class=""><a name="toc-Breaks-1" href="breaks.ca.html">4.3 Breaks</a>    </li>
    <li class=""><a name="toc-Vertical-spacing-1" href="vertical-spacing.ca.html">4.4 Vertical spacing</a>    </li>
    <li class=""><a name="toc-Horizontal-spacing-1" href="horizontal-spacing.ca.html">4.5 Horizontal spacing</a>    </li>
    <li class=""><a name="toc-Fitting-music-onto-fewer-pages-1" href="fitting-music-onto-fewer-pages.ca.html">4.6 Fitting music onto fewer pages</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Changing-defaults-1" href="changing-defaults.ca.html">5. Changing defaults</a>
  <ul class="toc">
    <li class=""><a name="toc-Interpretation-contexts-1" href="interpretation-contexts.ca.html">5.1 Interpretation contexts</a>    </li>
    <li class=""><a name="toc-Explaining-the-Internals-Reference-1" href="explaining-the-internals-reference.ca.html">5.2 Explaining the Internals Reference</a>    </li>
    <li class=""><a name="toc-Modifying-properties-1" href="modifying-properties.ca.html">5.3 Modifying properties</a>    </li>
    <li class=" toc_current"><a name="toc-Useful-concepts-and-properties-1" href="useful-concepts-and-properties.ca.html">5.4 Useful concepts and properties</a>
    <ul class="toc">
      <li class=""><a name="toc-Input-modes-1" href="input-modes.ca.html">5.4.1 Input modes</a>      </li>
      <li class=""><a name="toc-Direction-and-placement-1" href="direction-and-placement.ca.html">5.4.2 Direction and placement</a>      </li>
      <li class=""><a name="toc-Distances-and-measurements-1" href="distances-and-measurements.ca.html">5.4.3 Distances and measurements</a>      </li>
      <li class=""><a name="toc-Dimensions-1" href="dimensions.ca.html">5.4.4 Dimensions</a>      </li>
      <li class=""><a name="toc-Staff-symbol-properties-1" href="staff-symbol-properties.ca.html">5.4.5 Staff symbol properties</a>      </li>
      <li class=""><a name="toc-Spanners-1" href="spanners.ca.html">5.4.6 Spanners</a>      </li>
      <li class=" toc_current"><a name="toc-Visibility-of-objects-1" href="visibility-of-objects.ca.html">5.4.7 Visibility of objects</a>
      <ul class="toc">
        <li class=""><a name="toc-Removing-the-stencil-1" href="visibility-of-objects.ca.html#removing-the-stencil">Removing the stencil</a>        </li>
        <li class=""><a name="toc-Making-objects-transparent-1" href="visibility-of-objects.ca.html#making-objects-transparent">Making objects transparent</a>        </li>
        <li class=""><a name="toc-Painting-objects-white-1" href="visibility-of-objects.ca.html#painting-objects-white">Painting objects white</a>        </li>
        <li class=""><a name="toc-Using-break_002dvisibility-1" href="visibility-of-objects.ca.html#using-break_002dvisibility">Using break-visibility</a>        </li>
        <li class=""><a name="toc-Special-considerations-1" href="visibility-of-objects.ca.html#special-considerations">Special considerations</a>        </li>
      </ul>
      </li>
      <li class=""><a name="toc-Line-styles-1" href="line-styles.ca.html">5.4.8 Line styles</a>      </li>
      <li class=""><a name="toc-Rotating-objects-1" href="rotating-objects.ca.html">5.4.9 Rotating objects</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Advanced-tweaks-1" href="advanced-tweaks.ca.html">5.5 Advanced tweaks</a>    </li>
    <li class=""><a name="toc-Using-music-functions-1" href="using-music-functions.ca.html">5.6 Using music functions</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Notation-manual-tables-1" href="notation-manual-tables.ca.html">A. Notation manual tables</a>
  <ul class="toc">
    <li class=""><a name="toc-Chord-name-chart-1" href="chord-name-chart.ca.html">A.1 Chord name chart</a>    </li>
    <li class=""><a name="toc-Common-chord-modifiers-1" href="common-chord-modifiers.ca.html">A.2 Common chord modifiers</a>    </li>
    <li class=""><a name="toc-Predefined-string-tunings-1" href="predefined-string-tunings.ca.html">A.3 Predefined string tunings</a>    </li>
    <li class=""><a name="toc-Predefined-fretboard-diagrams-1" href="predefined-fretboard-diagrams.ca.html">A.4 Predefined fretboard diagrams</a>    </li>
    <li class=""><a name="toc-Predefined-paper-sizes-1" href="predefined-paper-sizes.ca.html">A.5 Predefined paper sizes</a>    </li>
    <li class=""><a name="toc-MIDI-instruments-1" href="midi-instruments.ca.html">A.6 MIDI instruments</a>    </li>
    <li class=""><a name="toc-List-of-colors-1" href="list-of-colors.ca.html">A.7 List of colors</a>    </li>
    <li class=""><a name="toc-The-Emmentaler-font-1" href="the-emmentaler-font.ca.html">A.8 The Emmentaler font</a>    </li>
    <li class=""><a name="toc-Note-head-styles-1" href="note-head-styles.ca.html">A.9 Note head styles</a>    </li>
    <li class=""><a name="toc-Clef-styles-1" href="clef-styles.ca.html">A.10 Clef styles</a>    </li>
    <li class=""><a name="toc-Text-markup-commands-1" href="text-markup-commands.ca.html">A.11 Text markup commands</a>    </li>
    <li class=""><a name="toc-Text-markup-list-commands-1" href="text-markup-list-commands.ca.html">A.12 Text markup list commands</a>    </li>
    <li class=""><a name="toc-List-of-special-characters-1" href="list-of-special-characters.ca.html">A.13 List of special characters</a>    </li>
    <li class=""><a name="toc-List-of-articulations-1" href="list-of-articulations.ca.html">A.14 List of articulations</a>    </li>
    <li class=""><a name="toc-Percussion-notes-1" href="percussion-notes.ca.html">A.15 Percussion notes</a>    </li>
    <li class=""><a name="toc-Technical-glossary-1" href="technical-glossary.ca.html">A.16 Technical glossary</a>    </li>
    <li class=""><a name="toc-All-context-properties-1" href="all-context-properties.ca.html">A.17 All context properties</a>    </li>
    <li class=""><a name="toc-Layout-properties-1" href="layout-properties.ca.html">A.18 Layout properties</a>    </li>
    <li class=""><a name="toc-Available-music-functions-1" href="available-music-functions.ca.html">A.19 Available music functions</a>    </li>
    <li class=""><a name="toc-Context-modification-identifiers-1" href="context-modification-identifiers.ca.html">A.20 Context modification identifiers</a>    </li>
    <li class=""><a name="toc-Predefined-type-predicates-1" href="predefined-type-predicates.ca.html">A.21 Predefined type predicates</a>    </li>
    <li class=""><a name="toc-Scheme-functions-1" href="scheme-functions.ca.html">A.22 Scheme functions</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Cheat-sheet-1" href="cheat-sheet.ca.html">B. Cheat sheet</a>  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.ca.html">C. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-d_0027ordres-del-LilyPond" href="lilypond-command-index.ca.html">D. Índex d&rsquo;ordres del LilyPond</a>  </li>
  <li class=""><a name="toc-Index-del-LilyPond" href="lilypond-index.ca.html">E. Índex del LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: 9d074d78d7c25852afa87005e21c118630f4f83b

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.

we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Cerca a Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Buscar">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
