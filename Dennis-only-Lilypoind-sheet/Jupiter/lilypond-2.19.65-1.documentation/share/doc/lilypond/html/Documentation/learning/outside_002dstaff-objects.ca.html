<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2015 pels autors.

La traducció de la següent nota de copyright s'ofereix com a
cortesia per a les persones de parla no anglesa, però únicament la
nota en anglès té validesa legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

S'atorga permís per copiar, distribuir i/o modificar aquest
document sota els termes de la Llicència de Documentació Lliure de
GNU, versió 1.1 o qualsevol posterior publicada per la Free
Software Foundation; sense cap de les seccions invariants.
S'inclou una còpia d'aquesta llicència dins de la secció titulada
"Llicència de Documentació Lliure de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on Agost 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Manual d'aprenentatge del GNU LilyPond: 4.4.3 Objectes fora del pentagrama</title>

<meta name="description" content="Manual d'aprenentatge del GNU LilyPond: 4.4.3 Objectes fora del pentagrama">
<meta name="keywords" content="Manual d'aprenentatge del GNU LilyPond: 4.4.3 Objectes fora del pentagrama">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ca.html#index" rel="start" title="LilyPond &mdash; Manual d'aprenentatge">
<link href="lilypond-index.ca.html#lilypond-index" rel="index" title="C. Índex del LilyPond">
<link href="index_toc.ca.html#SEC_Contents" rel="contents" title="Taula de contingus">
<link href="index_abt.ca.html#SEC_About" rel="help" title="Quant a aquest document">
<link href="placement-of-objects.ca.html#placement-of-objects" rel="up" title="4.4 Col·locació dels objectes">
<link href="lilypond-index.ca.html#lilypond-index" rel="next" title="C. Índex del LilyPond">
<link href="within_002dstaff-objects.ca.html#within_002dstaff-objects" rel="previous" title="4.4.2 Objectes interiors al pentagrama">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ca" class="learning devStatus">


<div id="main">
<a name="Objectes-fora-del-pentagrama"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="within_002dstaff-objects.ca.html#fingering" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Digitacions&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="placement-of-objects.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Col·locació dels objectes&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#the-outside_002dstaff_002dpriority-property" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;La propietat outside-staff-priority (prioritat fora del pentagrama) &gt; </a>]</td></tr></table>
<a name="outside_002dstaff-objects"></a>
<h3 class="subsection">4.4.3 Objectes fora del pentagrama</h3>

<p>Els objectes fora del pentagrama se situen automàticament per
evitar les col·lisions.  Hi ha diverses formes de sobreescriure la
col·locació automàtica si el posicionat no resulta òptim.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#the-outside_002dstaff_002dpriority-property" accesskey="1">La propietat <code>outside-staff-priority</code> (prioritat fora del pentagrama)</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#the-textlengthon-command" accesskey="2">L&rsquo;ordre <code>\textLengthOn</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#dynamics-placement" accesskey="3">Posicionament dels matisos dinàmics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#grob-sizing" accesskey="4">Escalat d&rsquo;un «Grob»</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="La-propietat-outside_002dstaff_002dpriority-_0028prioritat-fora-del-pentagrama_0029"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#outside_002dstaff-objects" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#outside_002dstaff-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#the-textlengthon-command" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;L'ordre textLengthOn &gt; </a>]</td></tr></table>
<a name="the-outside_002dstaff_002dpriority-property"></a>
<h4 class="unnumberedsubsubsec">La propietat <code>outside-staff-priority</code> (prioritat fora del pentagrama)</h4>

<p>Els objectes fora-del-pentagrama es col·loquen automàticament per
evitar les col·lisions.  Els objectes que tenen el valor més bais
de la propietat <code>outside-staff-priority</code> se situen més a prop
del pentagrama, i llavors altres objectes fora-del-pentagrama
s&rsquo;aixequen tant com sigui necessari per evitar la col·lisió.  La
prioritat <code>outside-staff-priority</code> es defineix al
<code>grob-interface</code> i així és una propietat de totes els
objectes de presentació.  De forma predeterminada s&rsquo;estableix a
<code>#f</code> per a tots els objectes dins-del-pentagrama, i a un
valor numèric adequat a cada objecte fora-del-pentagrama quan es
crea l&rsquo;objecte.  La taula següent presenta els valors numèrics
predeterminats per a alguns dels objectes fora-del-pentagrama més comuns.
</p>
<a name="index-objectes-d_0027extensio"></a>

<p>Observeu els noms una mica inusuals d&rsquo;alguns dels objectes: els
objectes d&rsquo;extensió es creen automàticament per controlar el
posicionament vertical dels grobs que (potser) comencen i acaben
en diferents moments musicals, de manera que qualsevol modificació
a la prioritat <code>outside-staff-priority</code> del grob subjacent no
té cap efecte.  Per exemple, canviar la
<code>outside-staff-priority</code> de l&rsquo;objecte de regulador
<code>Hairpin</code> no té efecte sobre la posició vertical dels
reguladors: en comptes d&rsquo;això, hem de canviar la
<code>outside-staff-priority</code> de l&rsquo;objecte associat
<code>DynamicLineSpanner</code>.  Aquesta sobreescriptura s&rsquo;ha de fer al
començament de l&rsquo;objecte d&rsquo;extensió, que podria incloure diversos
reguladors o matisos dinàmics encadenats.
</p>
<table>
<thead><tr><th width="30%">Objecte de presentació</th><th width="30%">Prioritat</th><th width="30%">Controla la posició de:</th></tr></thead>
<tr><td width="30%"><code>RehearsalMark</code></td><td width="30%"><code>1500</code></td><td width="30%">Lletres d&rsquo;assaig</td></tr>
<tr><td width="30%"><code>MetronomeMark</code></td><td width="30%"><code>1000</code></td><td width="30%">Indicacions metronòmiques</td></tr>
<tr><td width="30%"><code>VoltaBracketSpanner</code></td><td width="30%"><code>600</code></td><td width="30%">Caixetes de primer i segona vegada</td></tr>
<tr><td width="30%"><code>TextScript</code></td><td width="30%"><code>450</code></td><td width="30%">Text en elements de marcatge</td></tr>
<tr><td width="30%"><code>MultiMeasureRestText</code></td><td width="30%"><code>450</code></td><td width="30%">Text sobre silencis de compàs complet</td></tr>
<tr><td width="30%"><code>OttavaBracket</code></td><td width="30%"><code>400</code></td><td width="30%">Indicadors d&rsquo;octava alta i baixa</td></tr>
<tr><td width="30%"><code>TextSpanner</code></td><td width="30%"><code>350</code></td><td width="30%">Objectes d&rsquo;extensió de text</td></tr>
<tr><td width="30%"><code>DynamicLineSpanner</code></td><td width="30%"><code>250</code></td><td width="30%">Totes les indicacions dinàmiques</td></tr>
<tr><td width="30%"><code>VoltaBracketSpanner</code></td><td width="30%"><code>100</code></td><td width="30%">Números de compàs</td></tr>
<tr><td width="30%"><code>TrillSpanner</code></td><td width="30%"><code>50</code></td><td width="30%">Trins mantinguts</td></tr>
</table>

<p>Vet aquí un exemple que mostra la situació predeterminada d&rsquo;alguns
d&rsquo;ells.
</p>
<a name="index-text_002c-extensions-de"></a>
<a name="index-octava-alta-y-baixa_002c-clau-de"></a>

<a name="index-_005cstartTextSpan"></a>
<a name="index-_005cstartTextSpan-1"></a>
<a name="index-_005cstopTextSpan"></a>
<a name="index-_005cstopTextSpan-1"></a>

<a name="index-TextSpanner_002c-exemple-de-sobreescriptura"></a>
<a name="index-bound_002ddetails_002c-propietat_002c-exemple"></a>

<blockquote><pre class="verbatim">% Estableix els detalls per a un Text Spanner posterior
\override TextSpanner.bound-details.left.text
    = \markup { \small \bold Slower }
% Col·loca la indicació dinàmica a sobre del pentagrama
\dynamicUp
% Inicia l'indicador d'octava
\ottava #1
c''4 \startTextSpan
% Afegeix el text de la indicació dinàmica i el símbol
c''4\pp\&lt;
c''4
% Afegeix el fragment de text
c''4^Text |
c''4 c''
% Afegeix el text de la dinàmica i finalitza el símbol
c''4\ff c'' \stopTextSpan |
% Atura l'indicador d'octava
\ottava #0
c'4 c' c' c' |
</pre><p>
 <a href="../be/lily-592c9233.ly">
  <img align="middle"
       border="0"
       src="../be/lily-592c9233.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Aquest exemple també mostra com crear textos amb extensió (Text
Spanners): textos amb línies extensores per sobre d&rsquo;una secció de
música.  L&rsquo;extensor abasta des de l&rsquo;ordre<code>\startTextSpan</code>
fins l&rsquo;ordre <code>\stopTextSpan</code>, i el format del text es
defineix per mitjà de l&rsquo;ordre <code>\override TextSpanner</code>.  Per
veure més detalls, consulteu<a name="index-Text-spanners"></a>
<a href="../notation/writing-text.ca.html#text-spanners">Extensions de text</a>.
</p>
<p>També mostra la manera de crear indicadors d&rsquo;octava alta i baixa.
</p>
<a name="index-ajustar-la-ubicacio-dels-numeros-de-compas"></a>
<a name="index-numeros-de-compas_002c-ajustar-posicio"></a>
<a name="index-ajustar-la-situacio-de-marques-metronomiques"></a>
<a name="index-metronom_002c-situacio-de-les-indicacions-de"></a>
<a name="index-ajustar-la-situacio-de-les-lletres-d_0027assaig"></a>
<a name="index-assaig_002c-lletres_002c-ajustar-la-col_00b7locacio"></a>

<p>Si els valors predeterminats de <code>outside-staff-priority</code> no
us ofereixen les col·locacions desitjades es pot sobreescriure la
prioritat de qualssevol dels objectes.  Suposeu que volguéssim que
l&rsquo;indicador d&rsquo;octava estigués situat per sota de l&rsquo;element
extensor de text a l&rsquo;exemple de dalt.  Tot el que hem de fer és
localitzar la prioritat de <code>OttavaBracket</code> al RFI o en les
taules anteriors, i reduir-lo a un valor inferior al de
<code>TextSpanner</code>, recordant que <code>OttavaBracket</code> es crea
dins del context <code>Staff</code>:
</p>
<a name="index-TextSpanner_002c-exemple-de-sobreescriptura-1"></a>
<a name="index-bound_002ddetails_002c-propietat_002c-exemple-1"></a>

<blockquote><pre class="verbatim">% Estableix els detalls per a un Text Spanner posterior
\override TextSpanner.bound-details.left.text
    = \markup { \small \bold Slower }
% Ubica els indicadors de dinàmica a sobre del pentagrama
\dynamicUp
% Posa els següent indicador d'octava a sota dels Text Spanners
\once \override Staff.OttavaBracket.outside-staff-priority = #340
% Inicia l'indicador d'octava
\ottava #1
c''4 \startTextSpan
% Afegeix el text de la dinàmica
c''4\pp
% Afegeix l'extensor de la línia de dinàmica
c''4\&lt;
% Afegeix el fragment de text
c''4^Text |
c''4 c''
% Afegeix el text de la dinàmica
c''4\ff c'' \stopTextSpan |
% Atura l'indicador d'octava
\ottava #0
c'4 c' c' c' |
</pre><p>
 <a href="../f6/lily-c07ad3d4.ly">
  <img align="middle"
       border="0"
       src="../f6/lily-c07ad3d4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Observeu que alguns d&rsquo;aquests objectes, concretament els números de
compàs, les indicacions metronòmiques i les lletres d&rsquo;assaig, es
fiquen de forma predeterminada dins del context <code>Score</code>; així
doncs, us heu d&rsquo;assegurar que utilitzeu el context adequat quan se
sobreescriuen les propietats.
</p>
<a name="index-lligadures-i-outside_002dstaff_002dpriority"></a>
<a name="index-lligadures-i-articulacions"></a>
<a name="index-articulacions-i-lligadures"></a>

<p>De forma predeterminada, les lligadures d&rsquo;expressió estan
classificades com objectes dins-del-pentagrama, però amb
freqüència apareixen a sobre del pentagrama si les notes que
uneixen són molt agudes.  Això pot empènyer els objectes
fora-del-pentagrama com les articulacions a una posició molt
elevada, atès que la lligadura es col·locarà en primer lloc.  La
propietat <code>avoid-slur</code> de l&rsquo;articulació es pot establir al valor
<code>'inside</code> (per dins) per portar-la a l&rsquo;interior de la
lligadura, però la propietat <code>avoid-slur</code> és efectiva sols si
la prioritat <code>outside-staff-priority</code> està també establerta
al valor <code>#f</code>.  De forma alternativa, la prioritat
<code>outside-staff-priority</code> de la lligadura es pot fixar en un
valor numèrica per fer que se situï en línia amb altres objectes
fora del pentagrama d&rsquo;acord amb aquest valor.  Vet aquí un exemple
que mostra l&rsquo;efecte dels dos mètodes:
</p>
<blockquote><pre class="verbatim">\relative c'' {
  c4( c^\markup { \tiny \sharp } d4.) c8 |
  c4(
    \once \override TextScript.avoid-slur = #'inside
    \once \override TextScript.outside-staff-priority = ##f
    c4^\markup { \tiny \sharp } d4.) c8 |
  \once \override Slur.outside-staff-priority = #500
    c4( c^\markup { \tiny \sharp } d4.) c8 |
}
</pre><p>
 <a href="../23/lily-244d87e7.ly">
  <img align="middle"
       border="0"
       src="../23/lily-244d87e7.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Els canvis a <code>outside-staff-priority</code> també es poden usar per
controlar la ubicació vertical dels objectes individuals, tot i
que els resultats poden no ser sempre desitjables.  Suposeu que
voleu que &ldquo;Text3&rdquo; se situï per sobre de &ldquo;Text4&rdquo; a l&rsquo;exemple
sota l&rsquo;epígraf Comportament Automàtic de més a dalt (vegeu
<a href="automatic-behavior.ca.html">Comportament automàtic</a>).  Tot el que estem fer és localitzar
la prioritat de <code>TextScript</code> en el RFI o en les taules de
dalt, i augmentar la prioritat de &ldquo;Text3&rdquo; fins un valor superior:
</p>
<a name="index-TextScript_002c-exemple-de-sobreescriptura"></a>
<a name="index-outside_002dstaff_002dpriority_002c-propietat_002c-exemple"></a>

<blockquote><pre class="verbatim">c''2^&quot;Text1&quot;
c''2^&quot;Text2&quot; |
\once \override TextScript.outside-staff-priority = #500
c''2^&quot;Text3&quot;
c''2^&quot;Text4&quot; |
</pre><p>
 <a href="../50/lily-f5954fc4.ly">
  <img align="middle"
       border="0"
       src="../50/lily-f5954fc4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Això, certament, aixeca a &ldquo;Text3&rdquo; per sobre de &ldquo;Text4&rdquo;, però
també l&rsquo;aixeca per sobre de &ldquo;Text2&rdquo;, i &ldquo;Text4&rdquo; ara cau cap a
baix.  Potser no sigui tan bona idea.  I si el que realment volem
fer és posicionar totes les anotacions a la mateixa distància per
sobre del pentagrama?  Per fer-lo, ens caldrà clarament espaiar
les notes en sentit horitzontal per fer lloc per al text  Això es
fa usant l&rsquo;ordre <code>textLengthOn</code>.
</p>
<hr size="6">
<a name="L_0027ordre-textLengthOn"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#the-outside_002dstaff_002dpriority-property" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; La propietat outside-staff-priority (prioritat fora del pentagrama)&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#outside_002dstaff-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#dynamics-placement" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Posicionament dels matisos dinàmics &gt; </a>]</td></tr></table>
<a name="the-textlengthon-command"></a>
<h4 class="unnumberedsubsubsec">L&rsquo;ordre <code>\textLengthOn</code></h4>

<a name="index-notes_002c-espaiar-amb-el-text"></a>

<a name="index-_005ctextLengthOn"></a>
<a name="index-_005ctextLengthOn-1"></a>
<a name="index-_005ctextLengthOff"></a>
<a name="index-_005ctextLengthOff-1"></a>

<p>De forma predeterminada, el text produït mitjançant marcatge no
ocupa cap espai horitzontal en quant es refereix a la disposició
de la música.  L&rsquo;ordre <code>\textLengthOn</code> inverteix aquest
comportament, fent que les notes resultin tan espaiades com sigui
necessari per encabir el text:
</p>
<blockquote><pre class="verbatim">\textLengthOn  % Fa que hi hagi més espai entre les notes per encabir el text
c''2^&quot;Text1&quot;
c''2^&quot;Text2&quot; |
c''2^&quot;Text3&quot;
c''2^&quot;Text4&quot; |
</pre><p>
 <a href="../35/lily-09e7794b.ly">
  <img align="middle"
       border="0"
       src="../35/lily-09e7794b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>L&rsquo;ordre per tornar al comportament predeterminat és
<code>\textLengthOff</code>.  De forma alternativa es pot usar
<code>\once</code> amb <code>\textLengthOn</code> si l&rsquo;efecte s&rsquo;ha de limitar
a un sol moment musical.  El comportament d&rsquo;espaiat corresponent
per a les indicacions d&rsquo;assaig i les indicacions de tempo es
controla independentment amb les ordres <code>\markLengthOn</code> y
<code>\markLengthOff</code>.
</p>
<a name="index-marcatge_002c-text-de_002c-permetre-les-col_00b7lisions-en"></a>

<p>El text de marcatge també evita les notes que es projecten per
sobre del pentagrama.  Si això no és el que desitgem, el
desplaçament automàtic cap a dalt es pot desactivar mitjançant
l&rsquo;establiment de la prioritat a <code>#f</code>.  Vet aquí un exemple
que mostra com el text de marcatge interactua amb aquestes notes.
</p>
<a name="index-TextScript_002c-exemple-de-sobreescriptura-1"></a>
<a name="index-outside_002dstaff_002dpriority_002c-propietat_002c-exemple-1"></a>

<blockquote><pre class="verbatim">\relative {
  % Aquest marcatge és suficientment curt per encabir sense col·lisió
  c''2^&quot;Tex&quot; c'' |
  R1 |

  % Això és massa llarg per encabir, per això és mou cap amunt
  c,,2^&quot;Text&quot; c'' |
  R1 |

  % Desactiva l'evitament de col·lisions
  \once \override TextScript.outside-staff-priority = ##f
  c,,2^&quot;Long Text   &quot; c'' |
  R1 |

  % Desactiva l'evitament de col·lisions
  \once \override TextScript.outside-staff-priority = ##f
  \textLengthOn        % i activa textLengthOn
  c,,2^&quot;Long Text   &quot;  % Es respecten els espais al final
  c''2 |
}
</pre><p>
 <a href="../3b/lily-f1e0fea5.ly">
  <img align="middle"
       border="0"
       src="../3b/lily-f1e0fea5.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Posicionament-dels-matisos-din_00e0mics"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#the-textlengthon-command" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; L'ordre textLengthOn&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#outside_002dstaff-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#grob-sizing" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Escalat d'un «Grob» &gt; </a>]</td></tr></table>
<a name="dynamics-placement"></a>
<h4 class="unnumberedsubsubsec">Posicionament dels matisos dinàmics</h4>

<a name="index-ajustament-de-la-col_00b7locacio-dels-matisos"></a>
<a name="index-dinamica_002c-ajustament-de-la-col_00b7locacio-de-les-indicacions-de"></a>
<a name="index-matisos_002c-ajustament-de-la-col_00b7locacio"></a>

<p>Les indicacions de matís dinàmic normalment es col·locaran per
sota del pentagrama, però es poden posicionar per sobre amb
l&rsquo;ordre <code>\dynamicUp</code>.  Se situaran verticalment respecte a la
nota a la que van adossades, i flotaran per sota (o per sobre) de
tots els objectes dins-del-pentagrama com ara les lligadures de
fraseig i números de compàs.  Això pot oferir resultats força
acceptables, com mostra aquest exemple:
</p>
<blockquote><pre class="verbatim">\relative {
  \clef &quot;bass&quot;
  \key aes \major
  \time 9/8
  \dynamicUp
  bes4.~\f\&lt; \( bes4 bes8 des4\ff\&gt; c16 bes\! |
  ees,2.~\)\mf ees4 r8 |
}
</pre><p>
 <a href="../88/lily-461e4504.ly">
  <img align="middle"
       border="0"
       src="../88/lily-461e4504.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Malgrat això, si les notes i les seves indicacions dinàmiques
adossades estan massa a prop, la col·locació automàtica evitarà
les col·lisions desplaçant les marques dinàmiques posteriors més
lluny, tot i que aquest pot no ser el lloc òptim, com mostra el
següent exemple més bé artificial:
</p>
<blockquote><pre class="verbatim">\dynamicUp
\relative { a'4\f b\mf a\mp b\p }
</pre><p>
 <a href="../68/lily-0fc78af9.ly">
  <img align="middle"
       border="0"
       src="../68/lily-0fc78af9.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Si es presentés una situació semblant en música &lsquo;real&rsquo;, podria
ser preferible espaiar les notes una mica més entre sí, de forma
que totes les marques dinàmiques poden cabre a la mateixa
distància vertical des del pentagrama.  Hem estat capaços de fer
això per al text de marcatge utilitzant l&rsquo;ordre
<code>\textLengthOn</code>, però no existeix una ordre equivalent per a
les indicacions de matís dinàmic.  Per tant, hem d&rsquo;esbrinar com
fer-ho utilitzant ordres <code>\override</code>.
</p>
<hr size="6">
<a name="Escalat-d_0027un-_00abGrob_00bb"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#dynamics-placement" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Posicionament dels matisos dinàmics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#outside_002dstaff-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="vertical-spacing.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Espaiat vertical &gt; </a>]</td></tr></table>
<a name="grob-sizing"></a>
<h4 class="unnumberedsubsubsec">Escalat d&rsquo;un «Grob»</h4>

<a name="index-grob_002c-canvi-de-mida-d_0027un"></a>
<a name="index-escala-dels-grobs"></a>

<p>En primer lloc hem d&rsquo;aprendre com s&rsquo;especifica la mida dels
grobs.  Tots els grobs tenen un punt de referència definit dins
d&rsquo;ells que s&rsquo;usa per col·locar-los respecte al seu objecte pare.
Aleshores, aquest punt del grob es posiciona a una distància
horitzontal, <code>X-offset</code>, i una distancia vertical,
<code>Y-offset</code>, a partir del seu pare.  La dimensió horitzontal
de l&rsquo;objecte ve donada per una parella de números,
<code>X-extent</code>, que diu on estan els límits esquerre i dret
respecte del punt de referència.  L&rsquo;amplitud vertical es defineix
de forma semblant mitjançant una parella de números,
<code>Y-extent</code>.  Aquestes són propietats de tots els grobs que
contemplen <code>grob-interface</code>.
</p>
<a name="index-extra_002dspacing_002dwidth"></a>

<p>De forma predeterminada, els objectes fora-del-pentagrama reben
una amplitud zero, de manera que poden solapar-se a la direcció
horitzontal.  Això es fa mitjançant el truc de fer que la dimensió
més a l&rsquo;esquerra sigui igual a menys infinit, establint el valor
de <code>extra-spacing-width</code> a <code>'(+inf.0 . -inf.0)</code>.  Així,
per assegurar que no se superposen en la direcció horitzontal hem
de sobreescriure aquest valor de <code>extra-spacing-width</code> per
donar-los una mica de espai addicional. Les unitats són l&rsquo;espai
entre dues línies del pentagrama, de forma que hauria de ser
suficient moure el límit esquerre mitja unitat a l&rsquo;esquerra i el
límit dret mitja unitat a la dreta:
</p>
<blockquote><pre class="example">\override DynamicText.extra-spacing-width = #'(-0.5 . 0.5)
</pre></blockquote>

<p>Vejam si funciona al nostre exemple anterior:
</p>
<a name="index-DynamicText_002c-exemple-de-sobreescritura"></a>
<a name="index-extra_002dspacing_002dwidth_002c-propietat_002c-exemple"></a>

<blockquote><pre class="verbatim">\dynamicUp
% Estén l'amplitud amb 1 espai de pentagrama
\override DynamicText.extra-spacing-width = #'(-0.5 . 0.5)
\relative { a'4\f b\mf a\mp b\p }
</pre><p>
 <a href="../fe/lily-5ee18467.ly">
  <img align="middle"
       border="0"
       src="../fe/lily-5ee18467.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Això té un aspecte millor, però potser hauríem preferit que les
indicacions de dinàmica estiguessin alineades sobre la mateixa
línia de base en lloc d&rsquo;anar cap amunt i cap avall amb les notes.
La propietat que ho fa és <code>staff-padding</code> (farciment de
pentagrama) que s&rsquo;estudia a la secció dedicada a les col·lisions
(vegeu <a href="col_00c2_00b7lisions-of-objects.ca.html">Col·lisions d&rsquo;objectes</a>).
</p>
<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="tweaking-output.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Ajustament de la sortida&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="templates.ca.html" title="Capítol següent">&nbsp;Plantilles &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#dynamics-placement" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Posicionament dels matisos dinàmics&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#outside_002dstaff-objects" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Objectes fora del pentagrama&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="vertical-spacing.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Espaiat vertical &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Aquesta pàgina correspon a LilyPond-2.19.65 (branca de desenvolupament).
</p>
<p class="footer_report">
Agraïm la vostra ajuda: sisplau <a href="http://lilypond.org/help-us.html">ajudeu-nos</a> informant d'errors a la nostra <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">llista de correu d'errors</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Altres idiomes: <a href="outside_002dstaff-objects.html">English</a>, <a href="outside_002dstaff-objects.cs.html">česky</a>, <a href="outside_002dstaff-objects.de.html">deutsch</a>, <a href="outside_002dstaff-objects.es.html">español</a>, <a href="outside_002dstaff-objects.fr.html">français</a>, <a href="outside_002dstaff-objects.it.html">italiano</a>, <a href="outside_002dstaff-objects.ja.html">日本語</a>, <a href="outside_002dstaff-objects.nl.html">nederlands</a>.
 <br>
 Quant a la <a href="http://www.lilypond.org/website/misc/browser-language">selecció automàtica de la llengua</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.ca.html"
         title="Documentation Index">&lt;&lt; Torna a l'índex de la documentació</a></p>
<h4 class="toc_header"> <a href="index.ca.html" title="Start of the manual">LilyPond &mdash; Manual d&rsquo;aprenentatge  v2.19.65 (branca de desenvolupament). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Tutorial-1" href="tutorial.ca.html">1. Tutorial</a>
  <ul class="toc">
    <li class=""><a name="toc-Compilacio-d_0027un-fitxer" href="compiling-a-file.ca.html">1.1 Compilació d&rsquo;un fitxer</a>    </li>
    <li class=""><a name="toc-Com-escriure-fitxers-d_0027entrada-1" href="how-to-write-input-files.ca.html">1.2 Com escriure fitxers d&rsquo;entrada</a>    </li>
    <li class=""><a name="toc-Gestio-dels-errors" href="dealing-with-errors.ca.html">1.3 Gestió dels errors</a>    </li>
    <li class=""><a name="toc-Com-llegir-els-manuals-1" href="how-to-read-the-manuals.ca.html">1.4 Com llegir els manuals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Notacio-corrent" href="common-notation.ca.html">2. Notació corrent</a>
  <ul class="toc">
    <li class=""><a name="toc-Notacio-en-un-sol-pentagrama" href="single-staff-notation.ca.html">2.1 Notació en un sol pentagrama</a>    </li>
    <li class=""><a name="toc-Diverses-notes-a-l_0027hora-1" href="multiple-notes-at-once.ca.html">2.2 Diverses notes a l&rsquo;hora</a>    </li>
    <li class=""><a name="toc-Cancons" href="songs.ca.html">2.3 Cançons</a>    </li>
    <li class=""><a name="toc-Retocs-finals-1" href="final-touches.ca.html">2.4 Retocs finals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Conceptes-fonamentals-1" href="fundamental-concepts.ca.html">3. Conceptes fonamentals</a>
  <ul class="toc">
    <li class=""><a name="toc-Com-funcionen-els-fitxers-d_0027entrada-del-LilyPond-1" href="how-lilypond-input-files-work.ca.html">3.1 Com funcionen els fitxers d&rsquo;entrada del LilyPond</a>    </li>
    <li class=""><a name="toc-Les-veus-contenen-musica" href="voices-contain-music.ca.html">3.2 Les veus contenen música</a>    </li>
    <li class=""><a name="toc-Contextos-i-gravadors-1" href="contexts-and-engravers.ca.html">3.3 Contextos i gravadors</a>    </li>
    <li class=""><a name="toc-Extensio-de-les-plantilles" href="extending-the-templates.ca.html">3.4 Extensió de les plantilles</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Ajustament-de-la-sortida-1" href="tweaking-output.ca.html">4. Ajustament de la sortida</a>
  <ul class="toc">
    <li class=""><a name="toc-Elements-d_0027ajustament-1" href="tweaking-basics.ca.html">4.1 Elements d&rsquo;ajustament</a>    </li>
    <li class=""><a name="toc-Manual-de-referencia-de-funcionament-intern" href="the-internals-reference-manual.ca.html">4.2 Manual de referència de funcionament intern</a>    </li>
    <li class=""><a name="toc-Aparenca-dels-objectes" href="appearance-of-objects.ca.html">4.3 Aparença dels objectes</a>    </li>
    <li class=" toc_current"><a name="toc-Col_00b7locacio-dels-objectes" href="placement-of-objects.ca.html">4.4 Col·locació dels objectes</a>
    <ul class="toc">
      <li class=""><a name="toc-Comportament-automatic" href="automatic-behavior.ca.html">4.4.1 Comportament automàtic</a>      </li>
      <li class=""><a name="toc-Objectes-interiors-al-pentagrama-1" href="within_002dstaff-objects.ca.html">4.4.2 Objectes interiors al pentagrama</a>      </li>
      <li class=" toc_current"><a name="toc-Objectes-fora-del-pentagrama-1" href="outside_002dstaff-objects.ca.html">4.4.3 Objectes fora del pentagrama</a>
      <ul class="toc">
        <li class=""><a name="toc-La-propietat-outside_002dstaff_002dpriority-_0028prioritat-fora-del-pentagrama_0029-1" href="outside_002dstaff-objects.ca.html#the-outside_002dstaff_002dpriority-property">La propietat <code>outside-staff-priority</code> (prioritat fora del pentagrama)</a>        </li>
        <li class=""><a name="toc-L_0027ordre-_005ctextLengthOn" href="outside_002dstaff-objects.ca.html#the-textlengthon-command">L&rsquo;ordre <code>\textLengthOn</code></a>        </li>
        <li class=""><a name="toc-Posicionament-dels-matisos-dinamics" href="outside_002dstaff-objects.ca.html#dynamics-placement">Posicionament dels matisos dinàmics</a>        </li>
        <li class=""><a name="toc-Escalat-d_0027un-_00abGrob_00bb-1" href="outside_002dstaff-objects.ca.html#grob-sizing">Escalat d&rsquo;un «Grob»</a>        </li>
      </ul>
      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Espaiat-vertical-1" href="vertical-spacing.ca.html">4.5 Espaiat vertical</a>    </li>
    <li class=""><a name="toc-Col_00b7lisions-d_0027objectes-1" href="col_00c2_00b7lisions-of-objects.ca.html">4.6 Col·lisions d&rsquo;objectes</a>    </li>
    <li class=""><a name="toc-Ajustaments-addicionals-1" href="further-tweaking.ca.html">4.7 Ajustaments addicionals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Plantilles-1" href="templates.ca.html">A. Plantilles</a>
  <ul class="toc">
    <li class=""><a name="toc-Plantilles-de-pentagrama-unic" href="single-staff-templates.ca.html">A.1 Plantilles de pentagrama únic</a>    </li>
    <li class=""><a name="toc-Plantilles-de-piano-1" href="piano-templates.ca.html">A.2 Plantilles de piano</a>    </li>
    <li class=""><a name="toc-Plantilles-de-quartet-de-corda-1" href="string-quartet-templates.ca.html">A.3 Plantilles de quartet de corda</a>    </li>
    <li class=""><a name="toc-Plantilles-de-conjunts-vocals-1" href="vocal-ensembles-templates.ca.html">A.4 Plantilles de conjunts vocals</a>    </li>
    <li class=""><a name="toc-Plantilles-orquestrals-1" href="orchestral-templates.ca.html">A.5 Plantilles orquestrals</a>    </li>
    <li class=""><a name="toc-Plantilles-per-a-notacio-antiga" href="ancient-notation-templates.ca.html">A.6 Plantilles per a notació antiga</a>    </li>
    <li class=""><a name="toc-Altres-plantilles-1" href="other-templates.ca.html">A.7 Altres plantilles</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.ca.html">B. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-del-LilyPond" href="lilypond-index.ca.html">C. Índex del LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: 9d074d78d7c25852afa87005e21c118630f4f83b

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.

we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Cerca a Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Buscar">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
