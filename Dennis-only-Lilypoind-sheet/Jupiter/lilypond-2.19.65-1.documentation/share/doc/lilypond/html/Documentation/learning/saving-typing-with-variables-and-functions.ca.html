<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2015 pels autors.

La traducció de la següent nota de copyright s'ofereix com a
cortesia per a les persones de parla no anglesa, però únicament la
nota en anglès té validesa legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

S'atorga permís per copiar, distribuir i/o modificar aquest
document sota els termes de la Llicència de Documentació Lliure de
GNU, versió 1.1 o qualsevol posterior publicada per la Free
Software Foundation; sense cap de les seccions invariants.
S'inclou una còpia d'aquesta llicència dins de la secció titulada
"Llicència de Documentació Lliure de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on Agost 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Manual d'aprenentatge del GNU LilyPond: 3.4.4 Estalvi de tecleig mitjançant variables i funcions</title>

<meta name="description" content="Manual d'aprenentatge del GNU LilyPond: 3.4.4 Estalvi de tecleig mitjançant variables i funcions">
<meta name="keywords" content="Manual d'aprenentatge del GNU LilyPond: 3.4.4 Estalvi de tecleig mitjançant variables i funcions">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ca.html#index" rel="start" title="LilyPond &mdash; Manual d'aprenentatge">
<link href="lilypond-index.ca.html#lilypond-index" rel="index" title="C. Índex del LilyPond">
<link href="index_toc.ca.html#SEC_Contents" rel="contents" title="Taula de contingus">
<link href="index_abt.ca.html#SEC_About" rel="help" title="Quant a aquest document">
<link href="extending-the-templates.ca.html#extending-the-templates" rel="up" title="3.4 Extensió de les plantilles">
<link href="lilypond-index.ca.html#lilypond-index" rel="next" title="C. Índex del LilyPond">
<link href="building-a-score-from-scratch.ca.html#building-a-score-from-scratch" rel="previous" title="3.4.3 Crear una partitura partint de zero">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ca" class="learning devStatus">


<div id="main">
<a name="Estalvi-de-tecleig-mitjan_00e7ant-variables-i-funcions"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Conceptes fonamentals&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.ca.html" title="Capítol següent">&nbsp;Ajustament de la sortida &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="building-a-score-from-scratch.ca.html" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Crear una partitura partint de zero&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="extending-the-templates.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Extensió de les plantilles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="scores-and-parts.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Partitures i particel·les &gt; </a>]</td></tr></table>
<a name="saving-typing-with-variables-and-functions"></a>
<h3 class="subsection">3.4.4 Estalvi de tecleig mitjançant variables i funcions</h3>

<a name="index-variables-2"></a>
<a name="index-identificadors-1"></a>

<p>Arribats a aquest punt, heu vist coses d&rsquo;aquest tipus:
</p>
<blockquote><pre class="verbatim">hornNotes = \relative { c''4 b dis c }

\score {
  {
    \hornNotes
  }
}
</pre><p>
 <a href="../69/lily-3c96a232.ly">
  <img align="middle"
       border="0"
       src="../69/lily-3c96a232.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Fins i tot us adonareu que això pot ser útil en música
minimalista:
</p>
<blockquote><pre class="verbatim">fragmentA = \relative { a'4 a8. b16 }
fragmentB = \relative { a'8. gis16 ees4 }

violí = \new Staff {
  \fragmentA \fragmentA |
  \fragmentB \fragmentA |
}

\score {
  {
    \violí
  }
}
</pre><p>
 <a href="../60/lily-262f6123.ly">
  <img align="middle"
       border="0"
       src="../60/lily-262f6123.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Tot i així també es pot fer servir aquests identificadors (que
també es coneixen com a variables, macros o instruccions
definides per l&rsquo;usuari) per fer trucs:
</p>
<blockquote><pre class="verbatim">dolce = \markup { \italic \bold dolce }

padText = { \once \override TextScript.padding = #5.0 }
fthenp =_\markup {
  \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p
}

violí = \relative {
  \repeat volta 2 {
    c''4._\dolce b8 a8 g a b |
    \padText
    c4.^&quot;hi there!&quot; d8 e' f g d |
    c,4.\fthenp b8 c4 c-. |
  }
}

\score {
  {
    \violí
  }
  \layout { ragged-right = ##t }
}
</pre><p>
 <a href="../53/lily-c5a75d22.ly">
  <img align="middle"
       border="0"
       src="../53/lily-c5a75d22.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Òbviament aquests identificadors són útils per estalviar tecleig.
Però són dignes de tenir en compte fins i tot si s&rsquo;utilitzaran un
sol cop: redueixen la complexitat.  Examinem l&rsquo;exemple anterior
reescrit sense cap identificador.  Trobareu que és molt més
difícil de llegir, sobretot l&rsquo;última línia.
</p>
<blockquote><pre class="example">violí = \relative {
  \repeat volta 2 {
    c''4._\markup { \italic \bold dolce } b8 a8 g a b |
    \once \override TextScript.padding = #5.0
    c4.^&quot;hi there!&quot; d8 e' f g d |
    c,4.\markup {
      \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p
    }
    b8 c4 c-. |
  }
}
</pre></blockquote>


<p>Fins ara hem contemplat la substitució estàtica: quan el LilyPonod
es troba amb <code>\padText</code>, el substitueix amb allò que hem
definit que sigui (és a dir, tot el que està a la dreta de
<code>padtext=</code>).
</p>
<p>El LilyPond també pot gestionar substitucions no estàtiques
(penseu en elles com funcions).
</p>
<blockquote><pre class="verbatim">padText =
#(define-music-function
     (padding)
     (number?)
   #{
     \once \override TextScript.padding = #padding
   #})

\relative {
  c'''4^&quot;piu mosso&quot; b a b |
  \padText #1.8
  c4^&quot;piu mosso&quot; d e f |
  \padText #2.6
  c4^&quot;piu mosso&quot; fis a g |
}
</pre><p>
 <a href="../65/lily-122305d2.ly">
  <img align="middle"
       border="0"
       src="../65/lily-122305d2.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>La utilització d&rsquo;identificadors també és una bona forma de reduir
el treball si la sintaxis d&rsquo;entrada del LilyPonod canvia (vegeu
<a name="index-Actualitzacio-de-fitxers-amb-convert_002dly"></a>
<a href="../usage/updating-files-with-convert_002dly.ca.html">Actualització de fitxers amb convert-ly</a>).  Si teniu una sola
definició (com ara <code>\dolce</code>) per a tots els fitxers (vegeu
<a href="style-sheets.ca.html">Fulls d&rsquo;estil</a>), i després la sintaxis es
modifica, sols haurà d&rsquo;actualitzar la seva definició <code>\dolce</code>
única, enlloc de haver de fer canvis a cadascú dels fitxers
&lsquo;<tt>.ly</tt>&rsquo;.
</p>
<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="fundamental-concepts.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; Conceptes fonamentals&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="tweaking-output.ca.html" title="Capítol següent">&nbsp;Ajustament de la sortida &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="building-a-score-from-scratch.ca.html" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Crear una partitura partint de zero&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="extending-the-templates.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Extensió de les plantilles&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="scores-and-parts.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Partitures i particel·les &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Aquesta pàgina correspon a LilyPond-2.19.65 (branca de desenvolupament).
</p>
<p class="footer_report">
Agraïm la vostra ajuda: sisplau <a href="http://lilypond.org/help-us.html">ajudeu-nos</a> informant d'errors a la nostra <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">llista de correu d'errors</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Altres idiomes: <a href="saving-typing-with-variables-and-functions.html">English</a>, <a href="saving-typing-with-variables-and-functions.cs.html">česky</a>, <a href="saving-typing-with-variables-and-functions.de.html">deutsch</a>, <a href="saving-typing-with-variables-and-functions.es.html">español</a>, <a href="saving-typing-with-variables-and-functions.fr.html">français</a>, <a href="saving-typing-with-variables-and-functions.hu.html">magyar</a>, <a href="saving-typing-with-variables-and-functions.it.html">italiano</a>, <a href="saving-typing-with-variables-and-functions.ja.html">日本語</a>, <a href="saving-typing-with-variables-and-functions.nl.html">nederlands</a>.
 <br>
 Quant a la <a href="http://www.lilypond.org/website/misc/browser-language">selecció automàtica de la llengua</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.ca.html"
         title="Documentation Index">&lt;&lt; Torna a l'índex de la documentació</a></p>
<h4 class="toc_header"> <a href="index.ca.html" title="Start of the manual">LilyPond &mdash; Manual d&rsquo;aprenentatge  v2.19.65 (branca de desenvolupament). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Tutorial-1" href="tutorial.ca.html">1. Tutorial</a>
  <ul class="toc">
    <li class=""><a name="toc-Compilacio-d_0027un-fitxer" href="compiling-a-file.ca.html">1.1 Compilació d&rsquo;un fitxer</a>    </li>
    <li class=""><a name="toc-Com-escriure-fitxers-d_0027entrada-1" href="how-to-write-input-files.ca.html">1.2 Com escriure fitxers d&rsquo;entrada</a>    </li>
    <li class=""><a name="toc-Gestio-dels-errors" href="dealing-with-errors.ca.html">1.3 Gestió dels errors</a>    </li>
    <li class=""><a name="toc-Com-llegir-els-manuals-1" href="how-to-read-the-manuals.ca.html">1.4 Com llegir els manuals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Notacio-corrent" href="common-notation.ca.html">2. Notació corrent</a>
  <ul class="toc">
    <li class=""><a name="toc-Notacio-en-un-sol-pentagrama" href="single-staff-notation.ca.html">2.1 Notació en un sol pentagrama</a>    </li>
    <li class=""><a name="toc-Diverses-notes-a-l_0027hora-1" href="multiple-notes-at-once.ca.html">2.2 Diverses notes a l&rsquo;hora</a>    </li>
    <li class=""><a name="toc-Cancons" href="songs.ca.html">2.3 Cançons</a>    </li>
    <li class=""><a name="toc-Retocs-finals-1" href="final-touches.ca.html">2.4 Retocs finals</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Conceptes-fonamentals-1" href="fundamental-concepts.ca.html">3. Conceptes fonamentals</a>
  <ul class="toc">
    <li class=""><a name="toc-Com-funcionen-els-fitxers-d_0027entrada-del-LilyPond-1" href="how-lilypond-input-files-work.ca.html">3.1 Com funcionen els fitxers d&rsquo;entrada del LilyPond</a>    </li>
    <li class=""><a name="toc-Les-veus-contenen-musica" href="voices-contain-music.ca.html">3.2 Les veus contenen música</a>    </li>
    <li class=""><a name="toc-Contextos-i-gravadors-1" href="contexts-and-engravers.ca.html">3.3 Contextos i gravadors</a>    </li>
    <li class=" toc_current"><a name="toc-Extensio-de-les-plantilles" href="extending-the-templates.ca.html">3.4 Extensió de les plantilles</a>
    <ul class="toc">
      <li class=""><a name="toc-Soprano-i-violoncel-1" href="soprano-and-cello.ca.html">3.4.1 Soprano i violoncel</a>      </li>
      <li class=""><a name="toc-Partitura-vocal-a-quatre-veus-SATB-1" href="four_002dpart-satb-vocal-score.ca.html">3.4.2 Partitura vocal a quatre veus SATB</a>      </li>
      <li class=""><a name="toc-Crear-una-partitura-partint-de-zero-1" href="building-a-score-from-scratch.ca.html">3.4.3 Crear una partitura partint de zero</a>      </li>
      <li class=" toc_current"><a name="toc-Estalvi-de-tecleig-mitjancant-variables-i-funcions" href="saving-typing-with-variables-and-functions.ca.html">3.4.4 Estalvi de tecleig mitjançant variables i funcions</a>      </li>
      <li class=""><a name="toc-Partitures-i-particel_00b7les-1" href="scores-and-parts.ca.html">3.4.5 Partitures i particel·les</a>      </li>
    </ul>
    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Ajustament-de-la-sortida-1" href="tweaking-output.ca.html">4. Ajustament de la sortida</a>
  <ul class="toc">
    <li class=""><a name="toc-Elements-d_0027ajustament-1" href="tweaking-basics.ca.html">4.1 Elements d&rsquo;ajustament</a>    </li>
    <li class=""><a name="toc-Manual-de-referencia-de-funcionament-intern" href="the-internals-reference-manual.ca.html">4.2 Manual de referència de funcionament intern</a>    </li>
    <li class=""><a name="toc-Aparenca-dels-objectes" href="appearance-of-objects.ca.html">4.3 Aparença dels objectes</a>    </li>
    <li class=""><a name="toc-Col_00b7locacio-dels-objectes" href="placement-of-objects.ca.html">4.4 Col·locació dels objectes</a>    </li>
    <li class=""><a name="toc-Espaiat-vertical-1" href="vertical-spacing.ca.html">4.5 Espaiat vertical</a>    </li>
    <li class=""><a name="toc-Col_00b7lisions-d_0027objectes-1" href="col_00c2_00b7lisions-of-objects.ca.html">4.6 Col·lisions d&rsquo;objectes</a>    </li>
    <li class=""><a name="toc-Ajustaments-addicionals-1" href="further-tweaking.ca.html">4.7 Ajustaments addicionals</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Plantilles-1" href="templates.ca.html">A. Plantilles</a>
  <ul class="toc">
    <li class=""><a name="toc-Plantilles-de-pentagrama-unic" href="single-staff-templates.ca.html">A.1 Plantilles de pentagrama únic</a>    </li>
    <li class=""><a name="toc-Plantilles-de-piano-1" href="piano-templates.ca.html">A.2 Plantilles de piano</a>    </li>
    <li class=""><a name="toc-Plantilles-de-quartet-de-corda-1" href="string-quartet-templates.ca.html">A.3 Plantilles de quartet de corda</a>    </li>
    <li class=""><a name="toc-Plantilles-de-conjunts-vocals-1" href="vocal-ensembles-templates.ca.html">A.4 Plantilles de conjunts vocals</a>    </li>
    <li class=""><a name="toc-Plantilles-orquestrals-1" href="orchestral-templates.ca.html">A.5 Plantilles orquestrals</a>    </li>
    <li class=""><a name="toc-Plantilles-per-a-notacio-antiga" href="ancient-notation-templates.ca.html">A.6 Plantilles per a notació antiga</a>    </li>
    <li class=""><a name="toc-Altres-plantilles-1" href="other-templates.ca.html">A.7 Altres plantilles</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.ca.html">B. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-del-LilyPond" href="lilypond-index.ca.html">C. Índex del LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: 9d074d78d7c25852afa87005e21c118630f4f83b

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.

we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Cerca a Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Buscar">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
