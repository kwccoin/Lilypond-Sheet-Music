<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 2002-2015 par les auteurs.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

La traduction de la notice de droits d'auteur ci-dessous vise à
faciliter sa compréhension par le lecteur non anglophone, mais seule la
notice en anglais a valeur légale.

Vous avez le droit de copier, distribuer et/ou modifier ce document
selon les termes de la Licence GNU de documentation libre, version 1.1
ou tout autre version ultérieure publiée par la Free Software
Foundation, "sans aucune section invariante".
Une copie de la licence est fournie à la section "Licence GNU de documentation libre".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on le 6 ao&ucirc;t 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Essai sur la gravure musicale automatisée: 1.4 De la théorie à la pratique</title>

<meta name="description" content="Essai sur la gravure musicale automatisée: 1.4 De la théorie à la pratique">
<meta name="keywords" content="Essai sur la gravure musicale automatisée: 1.4 De la théorie à la pratique">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.fr.html#index" rel="start" title="LilyPond &mdash; Essai sur la gravure musicale automatisée">
<link href="lilypond-index.fr.html#lilypond-index" rel="index" title="B. Index de LilyPond">
<link href="index_toc.fr.html#SEC_Contents" rel="contents" title="Table des mati&egrave;res">
<link href="index_abt.fr.html#SEC_About" rel="help" title="A propos de ce document">
<link href="music-engraving.fr.html#music-engraving" rel="up" title="1. La gravure musicale">
<link href="lilypond-index.fr.html#lilypond-index" rel="next" title="B. Index de LilyPond">
<link href="automated-engraving.fr.html#automated-engraving" rel="previous" title="1.3 La gravure automatisée">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="fr" class="essay devStatus">


<div id="main">
<a name="De-la-th_00e9orie-_00e0-la-pratique"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="music-engraving.fr.html" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; La gravure musicale&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html" title="Couverture (top) du document" rel="start">Racine</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="lilypond-index.fr.html" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="literature-list.fr.html" title="Chapitre suivant">&nbsp;Références bibliographiques &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="automated-engraving.fr.html#getting-things-right" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Règles de formatage&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="music-engraving.fr.html" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;La gravure musicale&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-representation" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Représentation de la musique &gt; </a>]</td></tr></table>
<a name="building-software"></a>
<h2 class="section">1.4 De la théorie à la pratique</h2>

<p>Nous allons nous intéresser, dans les paragraphes qui suivent, aux
arbitrages en terme de programmation qui ont participé à l&rsquo;élaboration
de LilyPond.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#music-representation" accesskey="1">Représentation de la musique</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">   le format de saisie
</td></tr>
<tr><td align="left" valign="top"><a href="#what-symbols-to-engrave_003f" accesskey="2">Les constituants de la gravure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> quels symboles graver
</td></tr>
<tr><td align="left" valign="top"><a href="#flexible-architecture" accesskey="3">Flexibilité architecturale</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="Repr_00e9sentation-de-la-musique"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="music-engraving.fr.html" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; La gravure musicale&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html" title="Couverture (top) du document" rel="start">Racine</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="lilypond-index.fr.html" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="literature-list.fr.html" title="Chapitre suivant">&nbsp;Références bibliographiques &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#building-software" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; De la théorie à la pratique&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#building-software" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;De la théorie à la pratique&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#what-symbols-to-engrave_003f" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Les constituants de la gravure &gt; </a>]</td></tr></table>
<a name="music-representation"></a>
<h3 class="unnumberedsubsec">Représentation de la musique</h3>

<a name="index-syntaxe"></a>
<a name="index-structures-recursives"></a>
<a name="index-recursivite-des-structures"></a>

<p>Le format de saisie idéal pour un système évolué de formatage consiste
en la description abstraite du contenu.  Dans le cas qui nous occupe, il
s&rsquo;agit tout bonnement de la musique.  Cela n&rsquo;est pas sans poser un
énorme problème : comment définir <em>ce qu&rsquo;est</em> la
musique ?  Pour résoudre ce problème, nous l&rsquo;avons inversé.  Au
lieu de définir ce qu&rsquo;est la musique, notre programme sert de
définition : nous avons écrit un programme capable de produire des
partitions, et avons ajusté son format de saisie pour être aussi léger
que possible.  Lorsque le format ne peut plus être simplifié, nous
avons par définition atteint le contenu même.  Autrement dit, notre
programme utilise la définition formelle d&rsquo;un document musical.
</p>
<p>La syntaxe est également celle de l&rsquo;interface utilisateur de LilyPond,
puisqu&rsquo;elle peut être facilement tapée au clavier :
</p>
<blockquote><pre class="example">{
  c'4 d'8
}
</pre></blockquote>

<p>sont un do médium noire et un ré croche juste au-dessus.
</p>
<blockquote><p>
 <a href="../7f/lily-00c5b815.ly">
  <img align="middle"
       border="0"
       src="../7f/lily-00c5b815.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>À petite échelle, une telle syntaxe est pratique.  À plus grande
échelle, une structuration est nécessaire.  Sans cela, comment saisir
des pièces aussi complexes qu&rsquo;un opéra ou une symphonie ?  La
structure est construite selon le même concept que les expressions
musicales : c&rsquo;est en combinant de petits fragments qu&rsquo;une musique
plus complexe peut être représentée.  Par exemple :
</p>
<blockquote><pre class="verbatim">f'4
</pre><p>
 <a href="../5d/lily-fb3d5810.ly">
  <img align="middle"
       border="0"
       src="../5d/lily-fb3d5810.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Quand des notes sont combinées simultanément, il suffit de les insérer
entre <code>&lt;&lt;</code> et <code>&gt;&gt;</code> :
</p>
<blockquote><pre class="example">&lt;&lt;c4 d4 e4&gt;&gt;
</pre></blockquote>

<blockquote><p>
 <a href="../75/lily-41f9d8ad.ly">
  <img align="middle"
       border="0"
       src="../75/lily-41f9d8ad.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Insérées dans une paire d&rsquo;accolades <code>{ &hellip; }</code>, ces
expressions sont intégrées dans une séquence :
</p>
<blockquote><pre class="example">{ f4 &lt;&lt;c4 d4 e4&gt;&gt; }
</pre></blockquote>

<blockquote><p>
 <a href="../c5/lily-e20e6528.ly">
  <img align="middle"
       border="0"
       src="../c5/lily-e20e6528.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Ceci constitue une nouvelle expression, qui peut être à son tour
combinée avec une autre expression simultanée (en l&rsquo;occurrence une
blanche) à l&rsquo;aide de <code>&lt;&lt;</code>, <code>\\</code> et <code>&gt;&gt;</code> :
</p>
<blockquote><pre class="example">&lt;&lt; g2 \\ { f4 &lt;&lt;c4 d4 e4&gt;&gt; } &gt;&gt;
</pre></blockquote>

<blockquote><p>
 <a href="../8a/lily-c40cca54.ly">
  <img align="middle"
       border="0"
       src="../8a/lily-c40cca54.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>De telles structures récursives peuvent être définies formellement et
de manière ordonnée avec une <em>grammaire libre de tout contexte</em>.
Le code d&rsquo;analyse de la saisie est également généré depuis cette
grammaire.  Autrement dit, la définition de la syntaxe de LilyPond est
claire et sans ambiguïté.
</p>
<p>Ce sont la syntaxe et l&rsquo;interface qui concernent les utilisateurs.
Elles sont sujettes à discussion, puisque relatives aux goûts de chacun.
Bien que ces discussions soient intéressantes, elles ne sont pas
productives.  À l&rsquo;échelle de LilyPond, l&rsquo;importance du format de saisie
est minime : inventer une syntaxe claire est bien plus aisé
qu&rsquo;écrire un code de mise en page décent.  Ceci est d&rsquo;ailleurs
illustré par le nombre de lignes de code de ces composants
respectifs : l&rsquo;analyse du texte de saisie et sa représentation
pèsent moins de 10 % du code.
</p>
<p>Dans la conception des structures utilisées par LilyPond, nous avons
pris certaines options divergentes des autres logiciels.  Considérons la
nature par essence hiérarchique de la notation musicale :
</p>
<blockquote><p>
 <a href="../69/lily-53ea49fe.ly">
  <img align="middle"
       border="0"
       src="../69/lily-53ea49fe.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Nous y voyons des hauteurs regroupées en accords appartenant à des
mesures elles-mêmes rattachées à des portées.  On pourrait représenter
cela par un système de boîtes imbriquées :
</p>
<blockquote><img src="../pictures/nestedboxes.png" alt="png">
</blockquote>

<p>Cette structure est cependant réductrice car reposant sur des postulats
extrêmement restrictifs.  Cela devient plus évident dès lors que la
musique se complique :
</p>
<blockquote><p>
 <a href="../c6/lily-d309cd80.ly">
  <img align="middle"
       border="0"
       src="../c6/lily-d309cd80.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Ici, les portées débutent et s&rsquo;arrêtent n&rsquo;importe où, les voix passent
d&rsquo;une portée à l&rsquo;autre, et parfois même occupent deux portées.  Nombre
de logiciels auront d&rsquo;énormes difficultés à reproduire cet exemple, pour
la bonne et simple raison qu&rsquo;ils se basent sur le modèle hiérarchique de
boîtes imbriquées.  LilyPond, quant à lui, tend à préserver la
dichotomie entre le format de saisie et une structure aussi flexible que
possible.
</p>

<hr size="6">
<a name="Les-constituants-de-la-gravure"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="music-engraving.fr.html" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; La gravure musicale&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html" title="Couverture (top) du document" rel="start">Racine</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="lilypond-index.fr.html" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="literature-list.fr.html" title="Chapitre suivant">&nbsp;Références bibliographiques &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-representation" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Représentation de la musique&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#building-software" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;De la théorie à la pratique&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#flexible-architecture" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Flexibilité architecturale &gt; </a>]</td></tr></table>
<a name="what-symbols-to-engrave_003f"></a>
<h3 class="unnumberedsubsec">Les constituants de la gravure</h3>

<a name="index-gravure-1"></a>
<a name="index-typographie"></a>
<a name="index-graveur"></a>
<a name="index-greffon"></a>
<a name="index-module"></a>

<p>Si le processus de formatage se charge de décider où positionner les
symboles, encore faudrait-il savoir <em>quels</em> symboles doivent
apparaître &ndash; ou bien, quelle notation utiliser.
</p>
<p>La notation musicale constitue une forme d&rsquo;enregistrement de la musique
qui a d&rsquo;ailleurs évolué sur un millier d&rsquo;années.  La forme que nous
utilisons de nos jours remonte au début de la Renaissance.  Bien que ses
fondements n&rsquo;aient pas changé &ndash; des têtes de note réparties sur une
portée à cinq lignes &ndash;, certains détails sont apparus qui permettent de
rendre compte des apports de la notation contemporaine.  La notation
musicale couvre cinq siècles de musique, allant de la simple monodie à
de gigantesques contrepoints orchestraux.
</p>
<p>Comment intégrer un tel monstre aux si nombreux visages ? Notre solution
est de clairement distinguer la notation &ndash; <em>quels</em> symboles
utiliser &ndash; de la gravure &ndash; <em>où</em> les placer.  Pour appréhender la
notation, nous l&rsquo;avons disséquée en éléments simples (et
programmables) : chaque type de symbole est géré par un module &ndash;
ou greffon &ndash; différent.  Tous ces modules sont entièrement
configurables et indépendants, chacun pouvant être développé et amélioré
séparément.  Nous appelons ces modules des graveurs (<em>engravers</em> en
anglais), par analogie avec ces professionnels qui mettent en forme
graphiquement les idées musicales.
</p>

<p>Le module le plus basique, qu&rsquo;on appelle <code>Note_heads_engraver</code>,
crée les têtes de notes :
</p>
<blockquote><p>
 <a href="../1e/lily-84b06b5e.ly">
  <img align="middle"
       border="0"
       src="../1e/lily-84b06b5e.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Puis le module <code>Staff_symbol_engraver</code> génère les objets
représentant les lignes de portée :
</p>
<blockquote><p>
 <a href="../d2/lily-eee21123.ly">
  <img align="middle"
       border="0"
       src="../d2/lily-eee21123.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>le module <code>Clef_engraver</code> fournit au <code>Note_heads_engraver</code>
la hauteur à laquelle doit être placée chaque tête de note :
</p>
<blockquote><p>
 <a href="../c4/lily-201207c4.ly">
  <img align="middle"
       border="0"
       src="../c4/lily-201207c4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>et, enfin, les hampes et leurs crochets sont gérés par le
<code>Stem_engraver</code> :
</p>
<blockquote><p>
 <a href="../35/lily-cf2ad001.ly">
  <img align="middle"
       border="0"
       src="../35/lily-cf2ad001.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Le module <code>Stem_engraver</code> est appelé dès qu&rsquo;une tête de note
apparaît.  Pour chaque note rencontrée &ndash; ou groupe de notes s&rsquo;il s&rsquo;agit
d&rsquo;un accord &ndash;, un objet hampe est créé et attaché à la tête de note.
Si l&rsquo;on ajoute les modules en charge des ligatures, des liaisons, des
accents, des barres de mesure, de la métrique et de l&rsquo;armure, nous avons
tout ce qui est nécessaire à une partition.
</p>
<blockquote><p>
 <a href="../52/lily-05260365.ly">
  <img align="middle"
       border="0"
       src="../52/lily-05260365.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-polyphonie"></a>
<a name="index-gravure-de-plusieurs-voix"></a>
<a name="index-contextes"></a>

<p>Le principe décrit plus haut fonctionne très bien pour de la musique
monophonique, mais qu&rsquo;en est-il de la polyphonie ?  Dans ce cas,
plusieurs voix peuvent partager la même portée :
</p>
<blockquote><p>
 <a href="../95/lily-a873bdd4.ly">
  <img align="middle"
       border="0"
       src="../95/lily-a873bdd4.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Ici, la portée et les altérations sont partagées mais les hampes,
liaisons, liens, etc. dépendent de chaque voix.  De plus, les graveurs
doivent être regroupés.  Les graveurs de têtes de note, hampes,
liaisons, etc. sont donc inclus dans un groupe appelé <em>Voice
context</em> (contexte de voix),  alors que l&rsquo;armure, les altérations, les
barres de mesures, etc. sont placées dans un groupe <em>Staff context</em>
(contexte de portée).  Dans le cas d&rsquo;une polyphonie, un contexte de
portée contient plusieurs contextes de voix.  De même, plusieurs
contextes de portée peuvent être assemblés dans un contexte de partition
(<em>Score context</em>) :
</p>
<blockquote><p>
 <a href="../ba/lily-d2d5c2cf.ly">
  <img align="middle"
       border="0"
       src="../ba/lily-d2d5c2cf.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="Voir-aussi"></a>
<h4 class="subsubheading">Voir aussi</h4>
<p>Référence des propriétés internes :
<a name="index-Contexts"></a>
<a href="../internals/contexts.fr.html">Contexts</a>.
</p>

<hr size="6">
<a name="Flexibilit_00e9-architecturale"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="music-engraving.fr.html" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; La gravure musicale&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html" title="Couverture (top) du document" rel="start">Racine</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="lilypond-index.fr.html" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="literature-list.fr.html" title="Chapitre suivant">&nbsp;Références bibliographiques &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#what-symbols-to-engrave_003f" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Les constituants de la gravure&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#building-software" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;De la théorie à la pratique&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="putting-lilypond-to-work.fr.html" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Démonstration par l'exemple &gt; </a>]</td></tr></table>
<a name="flexible-architecture"></a>
<h3 class="unnumberedsubsec">Flexibilité architecturale</h3>

<p>Pour ses premiers pas, LilyPond était totalement écrit en langage
C++ ; les programmeurs gravaient les fonctionnalités du programme
dans le marbre.  Cela s&rsquo;est avéré peu satisfaisant pour plusieurs
raisons :
</p>
<ul>
<li> Il peut arriver que LilyPond commette une erreur, auquel cas
l&rsquo;utilisateur doit pouvoir déroger aux décisions arbitraires, et donc
se servir du moteur de formatage.  Par conséquent,  les règles et
paramètres ne peuvent être fixés lors de la compilation, mais doivent
être accessibles lors de l&rsquo;exécution.

</li><li> Graver est une affaire de jugement visuel, donc une affaire de goût.
Nous savons que les utilisateurs peuvent ne pas être d&rsquo;accord avec nous.
Il faut donc qu&rsquo;il aient accès aux définitions des styles
typographiques.

</li><li> Enfin, nous redéfinissons continuellement les règles de formatage,
et avons donc besoin d&rsquo;une approche souple des règles.  Le C++ implique
une méthode de groupement des règles qui ne correspond pas au
fonctionnement de la notation musicale.

</li></ul>

<a name="index-Scheme_002c-langage-de-programmation"></a>
<a name="index-langage-de-programmation-Scheme"></a>

<p>Nous avons résolu ces problème par l&rsquo;adjonction d&rsquo;un interpréteur pour
le Scheme et la réécriture de parties entières de LilyPond dans ce
langage.  L&rsquo;architecture du programme repose sur la notion d&rsquo;objets
graphiques que l&rsquo;on peut décrire par des variables ou des fonctions
Scheme.  Elle doit prendre en compte les règles de formatage, le style
typographique et les décisions de formatage individuelles.
L&rsquo;utilisateur de LilyPond peut accéder directement à la majorité de ces
contrôles.
</p>
<p>La mise en page dépend des variables Scheme.  Par exemple, la variable
<var>direction</var> définie pour de nombreux objets, encode le choix entre
haut et bas (ou gauche et droite).  L&rsquo;image qui suit présente deux
accords, accentués et arpégés.  Pour le premier accord, la direction de
chaque objet est vers le bas (ou la gauche).  Les objets sont dirigés
vers le haut (ou la droite) pour le second.
</p>
<blockquote><p>
 <a href="../80/lily-ee8b9274.ly">
  <img align="middle"
       border="0"
       src="../80/lily-ee8b9274.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<a name="index-partition_002c-formatage"></a>
<a name="index-formatage-d_0027une-partition"></a>
<a name="index-formatage_002c-regles-de"></a>

<p>Le processus de mise en forme d&rsquo;une partition consiste à lire et
écrire des variables d&rsquo;objets.  Certaines variables ont une valeur
prédéfinie.  Par exemple, l&rsquo;épaisseur de nombreuses lignes &ndash;
caractéristiques d&rsquo;un style typographique &ndash; est préétablie.  La changer
entraîne un changement du style typographique.
</p>
<blockquote><p>
 <a href="../61/lily-f9243c39.ly">
  <img align="middle"
       border="0"
       src="../61/lily-f9243c39.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Les valeurs prédéfinies de certaines variables font aussi partie des
règles de formatage.  Chaque objet possède des variables contenant des
procédures.  Ces procédures réalisent le formatage prédéfini, dont
l&rsquo;apparence peut être changée en remplaçant ces procédures par d&rsquo;autres.
Dans l&rsquo;exemple suivant, la règle permettant à l&rsquo;objet « tête de note »
de dessiner son symbole est modifiée au cours de l&rsquo;extrait
musical :
</p>
<blockquote><p>
 <a href="../8b/lily-94984831.ly">
  <img align="middle"
       border="0"
       src="../8b/lily-94984831.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>




<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="music-engraving.fr.html" title="D&eacute;but de ce chapitre ou chapitre pr&eacute;c&eacute;dent"> &lt;&lt; La gravure musicale&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.fr.html" title="Couverture (top) du document" rel="start">Racine</a>][<a href="index_toc.fr.html#SEC_Contents" title="Table des mati&egrave;res" rel="contents">Table des mati&egrave;res</a>][<a href="lilypond-index.fr.html" title="Index" rel="index">Index</a>][<a href="index_abt.fr.html#SEC_About" title="A propos (page d&rsquo;aide)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="literature-list.fr.html" title="Chapitre suivant">&nbsp;Références bibliographiques &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#what-symbols-to-engrave_003f" title="Section pr&eacute;c&eacute;dente dans l&rsquo;ordre de lecture" accesskey="p" rel="previous"> &lt; Les constituants de la gravure&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#building-software" title="Section sup&eacute;rieure" accesskey="u" rel="up">&nbsp;Plus haut:&nbsp;De la théorie à la pratique&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="putting-lilypond-to-work.fr.html" title="Section suivante dans l&rsquo;ordre de lecture" accesskey="n" rel="next">&nbsp;Démonstration par l'exemple &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Cette page documente LilyPond-2.19.65 (branche de développement).
</p>
<p class="footer_report">
Vos <a href="http://lilypond.org/help-us.html">suggestions</a> sont les bienvenues ; signalez tout bogue en français à la <a href="http://n2.nabble.com/LilyPond-French-Users-f1298960.html">liste francophone des utilisateurs</a> ou en anglais à la <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">liste des utilisateurs</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Autres langues&nbsp;: <a href="building-software.html">English</a>, <a href="building-software.de.html">deutsch</a>, <a href="building-software.es.html">español</a>, <a href="building-software.hu.html">magyar</a>, <a href="building-software.it.html">italiano</a>.
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.fr.html"
         title="Documentation Index">&lt;&lt; Retour à l'accueil de la documentation</a></p>
<h4 class="toc_header"> <a href="index.fr.html" title="Start of the manual">LilyPond &mdash; Essai sur la gravure musicale automatisée  v2.19.65 (branche de développement). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=" toc_current"><a name="toc-La-gravure-musicale-1" href="music-engraving.fr.html">1. La gravure musicale</a>
  <ul class="toc">
    <li class=""><a name="toc-L_0027histoire-de-LilyPond-1" href="the-lilypond-story.fr.html">1.1 L&rsquo;histoire de LilyPond</a>    </li>
    <li class=""><a name="toc-La-gravure-en-details" href="engraving-details.fr.html">1.2 La gravure en détails</a>    </li>
    <li class=""><a name="toc-La-gravure-automatisee" href="automated-engraving.fr.html">1.3 La gravure automatisée</a>    </li>
    <li class=" toc_current"><a name="toc-De-la-theorie-a-la-pratique" href="building-software.fr.html">1.4 De la théorie à la pratique</a>
    <ul class="toc">
      <li class=""><a name="toc-Representation-de-la-musique" href="building-software.fr.html#music-representation">Représentation de la musique</a>      </li>
      <li class=""><a name="toc-Les-constituants-de-la-gravure-1" href="building-software.fr.html#what-symbols-to-engrave_003f">Les constituants de la gravure</a>      </li>
      <li class=""><a name="toc-Flexibilite-architecturale" href="building-software.fr.html#flexible-architecture">Flexibilité architecturale</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Demonstration-par-l_0027exemple" href="putting-lilypond-to-work.fr.html">1.5 Démonstration par l&rsquo;exemple</a>    </li>
    <li class=""><a name="toc-Comparatif-_0028BWV-861_0029-1" href="engraved-examples-_0028bwv-861_0029.fr.html">1.6 Comparatif (BWV 861)</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-References-bibliographiques" href="literature-list.fr.html">2. Références bibliographiques</a>
  <ul class="toc">
    <li class=""><a name="toc-Bibliographie-succincte-1" href="short-literature-list.fr.html">2.1 Bibliographie succincte</a>    </li>
    <li class=""><a name="toc-Bibliographie-developpee" href="long-literature-list.fr.html">2.2 Bibliographie développée</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.fr.html">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-de-LilyPond-1" href="lilypond-index.fr.html">B. Index de LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: febe2e4ff91dda9227e85274ae045e23c6b4ec28

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.
-->

<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Recherche sur Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Rechercher">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
