<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on August 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond Internals Reference: 2.1.29 TabStaff</title>

<meta name="description" content="LilyPond Internals Reference: 2.1.29 TabStaff">
<meta name="keywords" content="LilyPond Internals Reference: 2.1.29 TabStaff">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.zh.html#index" rel="start" title="GNU LilyPond &ndash; Internals Reference">
<link href="indices.zh.html#indices" rel="index" title="A. Indices">
<link href="index_toc.zh.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index_abt.zh.html#SEC_About" rel="help" title="About This Document">
<link href="contexts.zh.html#contexts" rel="up" title="2.1 Contexts">
<link href="indices.zh.html#indices" rel="next" title="A.2 Function index">
<link href="staffgroup.zh.html#staffgroup" rel="previous" title="2.1.28 StaffGroup">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="en" class="internals devStatus">


<div id="main">
<a name="TabStaff"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="translation.zh.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.zh.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.zh.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="indices.zh.html" title="Index" rel="index">Index</a>][<a href="index_abt.zh.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="backend.zh.html" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="staffgroup.zh.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; StaffGroup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts.zh.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="tabvoice.zh.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;TabVoice &gt; </a>]</td></tr></table>
<a name="tabstaff"></a>
<h3 class="subsection">2.1.29 TabStaff</h3>

<p>Context for generating tablature. It accepts only <code>TabVoice</code>
contexts and handles the line spacing, the tablature clef etc. properly.
</p>
<p>This context also accepts commands for the following context(s):
</p>
<p>Staff.
</p>
<p>This context creates the following layout object(s):
</p>
<p><a href="barline.zh.html">BarLine</a>, <a href="bassfigure.zh.html">BassFigure</a>, <a href="bassfigurealignment.zh.html">BassFigureAlignment</a>, <a href="bassfigurealignmentpositioning.zh.html">BassFigureAlignmentPositioning</a>, <a href="bassfigurebracket.zh.html">BassFigureBracket</a>, <a href="bassfigurecontinuation.zh.html">BassFigureContinuation</a>, <a href="bassfigureline.zh.html">BassFigureLine</a>, <a href="clef.zh.html">Clef</a>, <a href="clefmodifier.zh.html">ClefModifier</a>, <a href="cueclef.zh.html">CueClef</a>, <a href="cueendclef.zh.html">CueEndClef</a>, <a href="dotcolumn.zh.html">DotColumn</a>, <a href="fingeringcolumn.zh.html">FingeringColumn</a>, <a href="instrumentname.zh.html">InstrumentName</a>, <a href="ledgerlinespanner.zh.html">LedgerLineSpanner</a>, <a href="notecollision.zh.html">NoteCollision</a>, <a href="pianopedalbracket.zh.html">PianoPedalBracket</a>, <a href="restcollision.zh.html">RestCollision</a>, <a href="scriptrow.zh.html">ScriptRow</a>, <a href="sostenutopedal.zh.html">SostenutoPedal</a>, <a href="sostenutopedallinespanner.zh.html">SostenutoPedalLineSpanner</a>, <a href="staffspacing.zh.html">StaffSpacing</a>, <a href="staffsymbol.zh.html">StaffSymbol</a>, <a href="sustainpedal.zh.html">SustainPedal</a>, <a href="sustainpedallinespanner.zh.html">SustainPedalLineSpanner</a>, <a href="timesignature.zh.html">TimeSignature</a>, <a href="unacordapedal.zh.html">UnaCordaPedal</a>, <a href="unacordapedallinespanner.zh.html">UnaCordaPedalLineSpanner</a> and <a href="verticalaxisgroup.zh.html">VerticalAxisGroup</a>.
</p>
<p>This context sets the following properties:
</p>
<ul>
<li> Set grob-property <code>after-line-breaking</code> in <a href="repeattie.zh.html">RepeatTie</a> to 
<code>repeat-tie::handle-tab-note-head</code>.
</li><li> Set grob-property <code>after-line-breaking</code> in <a href="tie.zh.html">Tie</a> to 
<code>tie::handle-tab-note-head</code>.
</li><li> Set grob-property <code>avoid-note-head</code> in <a href="stem.zh.html">Stem</a> to 
<code>#t</code>.
</li><li> Set grob-property <code>beam-thickness</code> in <a href="beam.zh.html">Beam</a> to 
<code>0.32</code>.
</li><li> Set grob-property <code>beam-thickness</code> in <a href="stemtremolo.zh.html">StemTremolo</a> to 
<code>0.32</code>.
</li><li> Set grob-property <code>beam-width</code> in <a href="stemtremolo.zh.html">StemTremolo</a> to 
<code>stem-tremolo::calc-tab-width</code>.
</li><li> Set grob-property <code>bound-details.left</code> in <a href="glissando.zh.html">Glissando</a> to:
<pre class="verbatim">'((attach-dir . 1) (padding . 0.3))
</pre></li><li> Set grob-property <code>bound-details.right</code> in <a href="glissando.zh.html">Glissando</a> to:
<pre class="verbatim">'((attach-dir . -1) (padding . 0.3))
</pre></li><li> Set grob-property <code>details</code> in <a href="stem.zh.html">Stem</a> to:
<pre class="verbatim">'((lengths 0 0 0 0 0 0)
  (beamed-lengths 0 0 0)
  (beamed-minimum-free-lengths 0 0 0)
  (beamed-extreme-minimum-free-lengths 0 0)
  (stem-shorten 0 0))
</pre></li><li> Set grob-property <code>extra-dy</code> in <a href="glissando.zh.html">Glissando</a> to 
<code>glissando::calc-tab-extra-dy</code>.
</li><li> Set grob-property <code>glyph-name</code> in <a href="tabnotehead.zh.html">TabNoteHead</a> to 
<code>tab-note-head::calc-glyph-name</code>.
</li><li> Set grob-property <code>ignore-collision</code> in <a href="notecolumn.zh.html">NoteColumn</a> to 
<code>#t</code>.
</li><li> Set grob-property <code>length-fraction</code> in <a href="beam.zh.html">Beam</a> to 
<code>0.62</code>.
</li><li> Set grob-property <code>length-fraction</code> in <a href="stemtremolo.zh.html">StemTremolo</a> to 
<code>#&lt;procedure #f (grob)&gt;</code>.
</li><li> Set grob-property <code>no-stem-extend</code> in <a href="stem.zh.html">Stem</a> to 
<code>#t</code>.
</li><li> Set grob-property <code>staff-space</code> in <a href="staffsymbol.zh.html">StaffSymbol</a> to 
<code>1.5</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="arpeggio.zh.html">Arpeggio</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="beam.zh.html">Beam</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="clef.zh.html">Clef</a> to 
<code>clef::print-modern-tab-if-set</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="dots.zh.html">Dots</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="dynamictextspanner.zh.html">DynamicTextSpanner</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="dynamictext.zh.html">DynamicText</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="flag.zh.html">Flag</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="glissando.zh.html">Glissando</a> to 
<code>glissando::draw-tab-glissando</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="hairpin.zh.html">Hairpin</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="laissezvibrertie.zh.html">LaissezVibrerTie</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="multimeasurerestnumber.zh.html">MultiMeasureRestNumber</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="multimeasureresttext.zh.html">MultiMeasureRestText</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="multimeasurerest.zh.html">MultiMeasureRest</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="phrasingslur.zh.html">PhrasingSlur</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="repeattie.zh.html">RepeatTie</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="rest.zh.html">Rest</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="script.zh.html">Script</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="slur.zh.html">Slur</a> to 
<code>slur::draw-tab-slur</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="stemtremolo.zh.html">StemTremolo</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="stem.zh.html">Stem</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="tabnotehead.zh.html">TabNoteHead</a> to 
<code>tab-note-head::whiteout-if-style-set</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="textscript.zh.html">TextScript</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="textspanner.zh.html">TextSpanner</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="tie.zh.html">Tie</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="timesignature.zh.html">TimeSignature</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="tupletbracket.zh.html">TupletBracket</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>stencil</code> in <a href="tupletnumber.zh.html">TupletNumber</a> to 
<code>#f</code>.
</li><li> Set grob-property <code>style</code> in <a href="flag.zh.html">Flag</a> to 
<code>'no-flag</code>.
</li><li> Set translator property <code>autoBeaming</code> to 
<code>#f</code>.
</li><li> Set translator property <code>clefGlyph</code> to 
<code>&quot;clefs.tab&quot;</code>.
</li><li> Set translator property <code>clefPosition</code> to 
<code>0</code>.
</li><li> Set translator property <code>createSpacing</code> to 
<code>#t</code>.
</li><li> Set translator property <code>handleNegativeFrets</code> to 
<code>'recalculate</code>.
</li><li> Set translator property <code>ignoreFiguredBassRest</code> to 
<code>#f</code>.
</li><li> Set translator property <code>instrumentName</code> to 
<code>'()</code>.
</li><li> Set translator property <code>localAlterations</code> to 
<code>'()</code>.
</li><li> Set translator property <code>restrainOpenStrings</code> to 
<code>#f</code>.
</li><li> Set translator property <code>shortInstrumentName</code> to 
<code>'()</code>.
</li></ul>


<p>This is not a &lsquo;Bottom&rsquo; context; search for such a one will commence after creating an implicit context of type <a href="tabvoice.zh.html">TabVoice</a>.
</p>
<p>Context TabStaff can contain
<a href="cuevoice.zh.html">CueVoice</a>, <a href="nullvoice.zh.html">NullVoice</a> and <a href="tabvoice.zh.html">TabVoice</a>.
</p>
<p>This context is built from the following engraver(s):
</p><blockquote><dl compact="compact">
<dt> <code><a href="axis_005fgroup_005fengraver.zh.html">Axis_group_engraver</a></code></dt>
<dd><p>Group all objects created in this context in a <code>VerticalAxisGroup</code> spanner.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p>
</dd>
<dt> <code>hasAxisGroup</code> (boolean)</dt>
<dd><p>True if the current context is contained
in an axis group.
</p>
</dd>
<dt> <code>keepAliveInterfaces</code> (list)</dt>
<dd><p>A list of symbols, signifying grob
interfaces that are worth keeping a staff with <code>remove-empty</code> set
around for.
</p>
</dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>hasAxisGroup</code> (boolean)</dt>
<dd><p>True if the current context is contained
in an axis group.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="verticalaxisgroup.zh.html">VerticalAxisGroup</a>.
</p>


</dd>
<dt> <code><a href="bar_005fengraver.zh.html">Bar_engraver</a></code></dt>
<dd><p>Create barlines.  This engraver is controlled through the <code>whichBar</code> property.  If it has no bar line to create, it will forbid a linebreak at this point.  This engraver is required to trigger the creation of clefs at the start of systems.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>whichBar</code> (string)</dt>
<dd><p>This property is read to determine what type
of bar line to create.
</p>
<p>Example:
</p>
<blockquote><pre class="example">\set Staff.whichBar = &quot;.|:&quot;
</pre></blockquote>

<p>This will create a start-repeat bar in this staff only.  Valid values
are described in &lsquo;<tt>scm/bar-line.scm</tt>&rsquo;.
</p>
</dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>forbidBreak</code> (boolean)</dt>
<dd><p>If set to <code>#t</code>, prevent a line break
at this point.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="barline.zh.html">BarLine</a>.
</p>


</dd>
<dt> <code><a href="clef_005fengraver.zh.html">Clef_engraver</a></code></dt>
<dd><p>Determine and set reference point for pitches.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>clefGlyph</code> (string)</dt>
<dd><p>Name of the symbol within the music font.
</p>
</dd>
<dt> <code>clefPosition</code> (number)</dt>
<dd><p>Where should the center of the clef
symbol go, measured in half staff spaces from the center of the
staff.
</p>
</dd>
<dt> <code>clefTransposition</code> (integer)</dt>
<dd><p>Add this much extra transposition.
Values of 7 and -7 are common.
</p>
</dd>
<dt> <code>clefTranspositionStyle</code> (symbol)</dt>
<dd><p>Determines the way the ClefModifier
grob is displayed.  Possible values are &lsquo;<samp>default</samp>&rsquo;, &lsquo;<samp>parenthesized</samp>&rsquo;
and &lsquo;<samp>bracketed</samp>&rsquo;.
</p>
</dd>
<dt> <code>explicitClefVisibility</code> (vector)</dt>
<dd><p>&lsquo;<samp>break-visibility</samp>&rsquo;
function for clef changes.
</p>
</dd>
<dt> <code>forceClef</code> (boolean)</dt>
<dd><p>Show clef symbol, even if it has not
changed.  Only active for the first clef after the property is set, not
for the full staff.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="clef.zh.html">Clef</a> and <a href="clefmodifier.zh.html">ClefModifier</a>.
</p>


</dd>
<dt> <code><a href="collision_005fengraver.zh.html">Collision_engraver</a></code></dt>
<dd><p>Collect <code>NoteColumns</code>, and as soon as there are two or more, put them in a <code>NoteCollision</code> object.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="notecollision.zh.html">NoteCollision</a>.
</p>


</dd>
<dt> <code><a href="cue_005fclef_005fengraver.zh.html">Cue_clef_engraver</a></code></dt>
<dd><p>Determine and set reference point for pitches in cued voices.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>clefTransposition</code> (integer)</dt>
<dd><p>Add this much extra transposition.
Values of 7 and -7 are common.
</p>
</dd>
<dt> <code>cueClefGlyph</code> (string)</dt>
<dd><p>Name of the symbol within the music font.
</p>
</dd>
<dt> <code>cueClefPosition</code> (number)</dt>
<dd><p>Where should the center of the clef
symbol go, measured in half staff spaces from the center of the
staff.
</p>
</dd>
<dt> <code>cueClefTransposition</code> (integer)</dt>
<dd><p>Add this much extra transposition.
Values of 7 and -7 are common.
</p>
</dd>
<dt> <code>cueClefTranspositionStyle</code> (symbol)</dt>
<dd><p>Determines the way the ClefModifier
grob is displayed.  Possible values are &lsquo;<samp>default</samp>&rsquo;, &lsquo;<samp>parenthesized</samp>&rsquo;
and &lsquo;<samp>bracketed</samp>&rsquo;.
</p>
</dd>
<dt> <code>explicitCueClefVisibility</code> (vector)</dt>
<dd><p>&lsquo;<samp>break-visibility</samp>&rsquo;
function for cue clef changes.
</p>
</dd>
<dt> <code>middleCCuePosition</code> (number)</dt>
<dd><p>The position of the middle C,
as determined only by the clef of the cue notes.  This can be calculated by
looking at <code>cueClefPosition</code> and <code>cueClefGlyph</code>.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="clefmodifier.zh.html">ClefModifier</a>, <a href="cueclef.zh.html">CueClef</a> and <a href="cueendclef.zh.html">CueEndClef</a>.
</p>


</dd>
<dt> <code><a href="dot_005fcolumn_005fengraver.zh.html">Dot_column_engraver</a></code></dt>
<dd><p>Engrave dots on dotted notes shifted to the right of the note.  If omitted, then dots appear on top of the notes.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="dotcolumn.zh.html">DotColumn</a>.
</p>


</dd>
<dt> <code><a href="figured_005fbass_005fengraver.zh.html">Figured_bass_engraver</a></code></dt>
<dd><p>Make figured bass numbers.
</p>
<p>Music types accepted:
</p>
<p><a href="bass_002dfigure_002devent.zh.html">bass-figure-event</a> and <a href="rest_002devent.zh.html">rest-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>figuredBassAlterationDirection</code> (direction)</dt>
<dd><p>Where to put alterations
relative to the main figure.
</p>
</dd>
<dt> <code>figuredBassCenterContinuations</code> (boolean)</dt>
<dd><p>Whether to vertically
center pairs of extender lines.  This does not work with three or more
lines.
</p>
</dd>
<dt> <code>figuredBassFormatter</code> (procedure)</dt>
<dd><p>A routine generating a markup
for a bass figure.
</p>
</dd>
<dt> <code>ignoreFiguredBassRest</code> (boolean)</dt>
<dd><p>Don&rsquo;t swallow rest events.
</p>
</dd>
<dt> <code>implicitBassFigures</code> (list)</dt>
<dd><p>A list of bass figures that are not
printed as numbers, but only as extender lines.
</p>
</dd>
<dt> <code>useBassFigureExtenders</code> (boolean)</dt>
<dd><p>Whether to use extender lines
for repeated bass figures.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="bassfigure.zh.html">BassFigure</a>, <a href="bassfigurealignment.zh.html">BassFigureAlignment</a>, <a href="bassfigurebracket.zh.html">BassFigureBracket</a>, <a href="bassfigurecontinuation.zh.html">BassFigureContinuation</a> and <a href="bassfigureline.zh.html">BassFigureLine</a>.
</p>


</dd>
<dt> <code><a href="figured_005fbass_005fposition_005fengraver.zh.html">Figured_bass_position_engraver</a></code></dt>
<dd><p>Position figured bass alignments over notes.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="bassfigurealignmentpositioning.zh.html">BassFigureAlignmentPositioning</a>.
</p>


</dd>
<dt> <code><a href="fingering_005fcolumn_005fengraver.zh.html">Fingering_column_engraver</a></code></dt>
<dd><p>Find potentially colliding scripts and put them into a <code>FingeringColumn</code> object; that will fix the collisions.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="fingeringcolumn.zh.html">FingeringColumn</a>.
</p>


</dd>
<dt> <code><a href="font_005fsize_005fengraver.zh.html">Font_size_engraver</a></code></dt>
<dd><p>Put <code>fontSize</code> into <code>font-size</code> grob property.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>fontSize</code> (number)</dt>
<dd><p>The relative size of all grobs in a context.
</p>
</dd>
</dl>
</blockquote>




</dd>
<dt> <code><a href="grob_005fpq_005fengraver.zh.html">Grob_pq_engraver</a></code></dt>
<dd><p>Administrate when certain grobs (e.g., note heads) stop playing.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>grob</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p>
</dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>grob</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p>
</dd>
</dl>
</blockquote>




</dd>
<dt> <code><a href="instrument_005fname_005fengraver.zh.html">Instrument_name_engraver</a></code></dt>
<dd><p>Create a system start text for instrument or vocal names.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p>
</dd>
<dt> <code>instrumentName</code> (markup)</dt>
<dd><p>The name to print left of a staff.  The
<code>instrumentName</code> property labels the staff in the first system, and
the <code>shortInstrumentName</code> property labels following lines.
</p>
</dd>
<dt> <code>shortInstrumentName</code> (markup)</dt>
<dd><p>See <code>instrumentName</code>.
</p>
</dd>
<dt> <code>shortVocalName</code> (markup)</dt>
<dd><p>Name of a vocal line, short version.
</p>
</dd>
<dt> <code>vocalName</code> (markup)</dt>
<dd><p>Name of a vocal line.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="instrumentname.zh.html">InstrumentName</a>.
</p>


</dd>
<dt> <code><a href="ledger_005fline_005fengraver.zh.html">Ledger_line_engraver</a></code></dt>
<dd><p>Create the spanner to draw ledger lines, and notices objects that need ledger lines.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="ledgerlinespanner.zh.html">LedgerLineSpanner</a>.
</p>


</dd>
<dt> <code><a href="piano_005fpedal_005falign_005fengraver.zh.html">Piano_pedal_align_engraver</a></code></dt>
<dd><p>Align piano pedal symbols and brackets.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="sostenutopedallinespanner.zh.html">SostenutoPedalLineSpanner</a>, <a href="sustainpedallinespanner.zh.html">SustainPedalLineSpanner</a> and <a href="unacordapedallinespanner.zh.html">UnaCordaPedalLineSpanner</a>.
</p>


</dd>
<dt> <code><a href="piano_005fpedal_005fengraver.zh.html">Piano_pedal_engraver</a></code></dt>
<dd><p>Engrave piano pedal symbols and brackets.
</p>
<p>Music types accepted:
</p>
<p><a href="sostenuto_002devent.zh.html">sostenuto-event</a>, <a href="sustain_002devent.zh.html">sustain-event</a> and <a href="una_002dcorda_002devent.zh.html">una-corda-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>currentCommandColumn</code> (graphical (layout) object)</dt>
<dd><p>Grob that is X-parent to all
current breakable (clef, key signature, etc.) items.
</p>
</dd>
<dt> <code>pedalSostenutoStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p>
</dd>
<dt> <code>pedalSostenutoStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p>
</dd>
<dt> <code>pedalSustainStrings</code> (list)</dt>
<dd><p>A list of strings to print for
sustain-pedal.  Format is <code>(<var>up</var> <var>updown</var> <var>down</var>)</code>,
where each of the three is the string to print when this is done with
the pedal.
</p>
</dd>
<dt> <code>pedalSustainStyle</code> (symbol)</dt>
<dd><p>A symbol that indicates how to print
sustain pedals: <code>text</code>, <code>bracket</code> or <code>mixed</code> (both).
</p>
</dd>
<dt> <code>pedalUnaCordaStrings</code> (list)</dt>
<dd><p>See <code>pedalSustainStrings</code>.
</p>
</dd>
<dt> <code>pedalUnaCordaStyle</code> (symbol)</dt>
<dd><p>See <code>pedalSustainStyle</code>.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="pianopedalbracket.zh.html">PianoPedalBracket</a>, <a href="sostenutopedal.zh.html">SostenutoPedal</a>, <a href="sustainpedal.zh.html">SustainPedal</a> and <a href="unacordapedal.zh.html">UnaCordaPedal</a>.
</p>


</dd>
<dt> <code><a href="pure_005ffrom_005fneighbor_005fengraver.zh.html">Pure_from_neighbor_engraver</a></code></dt>
<dd><p>Coordinates items that get their pure heights from their neighbors.
</p>






</dd>
<dt> <code><a href="rest_005fcollision_005fengraver.zh.html">Rest_collision_engraver</a></code></dt>
<dd><p>Handle collisions of rests.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>busyGrobs</code> (list)</dt>
<dd><p>A queue of <code>(<var>end-moment</var> .
<var>grob</var>)</code> cons cells.  This is for internal (C++) use only.  This
property contains the grobs which are still busy (e.g. note heads,
spanners, etc.).
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="restcollision.zh.html">RestCollision</a>.
</p>


</dd>
<dt> <code><a href="script_005frow_005fengraver.zh.html">Script_row_engraver</a></code></dt>
<dd><p>Determine order in horizontal side position elements.
</p>




<p>This engraver creates the following layout object(s):
</p>
<p><a href="scriptrow.zh.html">ScriptRow</a>.
</p>


</dd>
<dt> <code><a href="separating_005fline_005fgroup_005fengraver.zh.html">Separating_line_group_engraver</a></code></dt>
<dd><p>Generate objects for computing spacing parameters.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>createSpacing</code> (boolean)</dt>
<dd><p>Create <code>StaffSpacing</code> objects?
Should be set for staves.
</p>
</dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>hasStaffSpacing</code> (boolean)</dt>
<dd><p>True if the current
<code>CommandColumn</code> contains items that will affect spacing.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="staffspacing.zh.html">StaffSpacing</a>.
</p>


</dd>
<dt> <code><a href="staff_005fcollecting_005fengraver.zh.html">Staff_collecting_engraver</a></code></dt>
<dd><p>Maintain the <code>stavesFound</code> variable.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>stavesFound</code> (list of grobs)</dt>
<dd><p>A list of all staff-symbols found.
</p>
</dd>
</dl>
</blockquote>
<p>Properties (write)
</p><blockquote><dl compact="compact">
<dt> <code>stavesFound</code> (list of grobs)</dt>
<dd><p>A list of all staff-symbols found.
</p>
</dd>
</dl>
</blockquote>




</dd>
<dt> <code><a href="staff_005fsymbol_005fengraver.zh.html">Staff_symbol_engraver</a></code></dt>
<dd><p>Create the constellation of five (default) staff lines.
</p>
<p>Music types accepted:
</p>
<p><a href="staff_002dspan_002devent.zh.html">staff-span-event</a>
</p>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="staffsymbol.zh.html">StaffSymbol</a>.
</p>


</dd>
<dt> <code><a href="tab_005fstaff_005fsymbol_005fengraver.zh.html">Tab_staff_symbol_engraver</a></code></dt>
<dd><p>Create a tablature staff symbol, but look at <code>stringTunings</code> for the number of lines.
</p>


<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>stringTunings</code> (list)</dt>
<dd><p>The tablature strings tuning.  It is a list
of the pitches of each string (starting with the lowest numbered
one).
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="staffsymbol.zh.html">StaffSymbol</a>.
</p>


</dd>
<dt> <code><a href="time_005fsignature_005fengraver.zh.html">Time_signature_engraver</a></code></dt>
<dd><p>Create a <a href="timesignature.zh.html">TimeSignature</a> whenever <code>timeSignatureFraction</code> changes.
</p>
<p>Music types accepted:
</p>
<p><a href="time_002dsignature_002devent.zh.html">time-signature-event</a>
</p>
<p>Properties (read)
</p><blockquote><dl compact="compact">
<dt> <code>initialTimeSignatureVisibility</code> (vector)</dt>
<dd><p>break visibility for
the initial time signature.
</p>
</dd>
<dt> <code>partialBusy</code> (boolean)</dt>
<dd><p>Signal that \partial acts at the current timestep.
</p>
</dd>
<dt> <code>timeSignatureFraction</code> (fraction, as pair)</dt>
<dd><p>A pair of numbers,
signifying the time signature.  For example, <code>'(4 . 4)</code> is a
4/4 time signature.
</p>
</dd>
</dl>
</blockquote>


<p>This engraver creates the following layout object(s):
</p>
<p><a href="timesignature.zh.html">TimeSignature</a>.
</p>


</dd>
</dl>
</blockquote>



<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="translation.zh.html" title="Beginning of this chapter or previous chapter"> &lt;&lt; Translation&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.zh.html" title="Cover (top) of document" rel="start">Top</a>][<a href="index_toc.zh.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="indices.zh.html" title="Index" rel="index">Index</a>][<a href="index_abt.zh.html#SEC_About" title="About (help)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="backend.zh.html" title="Next chapter">&nbsp;Backend &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="staffgroup.zh.html" title="Previous section in reading order" accesskey="p" rel="previous"> &lt; StaffGroup&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="contexts.zh.html" title="Up section" accesskey="u" rel="up">&nbsp; Up :&nbsp;Contexts&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="tabvoice.zh.html" title="Next section in reading order" accesskey="n" rel="next">&nbsp;TabVoice &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
This page is for LilyPond-2.19.65 (开发分支).
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.html"
         title="Documentation Index">&lt;&lt; Back to Documentation Index</a></p>
<h4 class="toc_header"> <a href="index.zh.html" title="Start of the manual">Internals Reference  v2.19.65 (开发分支). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Music-definitions-1" href="music-definitions.zh.html">1. Music definitions</a>
  <ul class="toc">
    <li class=""><a name="toc-Music-expressions-1" href="music-expressions.zh.html">1.1 Music expressions</a>    </li>
    <li class=""><a name="toc-Music-classes-1" href="music-classes.zh.html">1.2 Music classes</a>    </li>
    <li class=""><a name="toc-Music-properties-1" href="music-properties.zh.html">1.3 Music properties</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Translation-1" href="translation.zh.html">2. Translation</a>
  <ul class="toc">
    <li class=" toc_current"><a name="toc-Contexts-1" href="contexts.zh.html">2.1 Contexts</a>
    <ul class="toc">
      <li class=""><a name="toc-ChoirStaff-1" href="choirstaff.zh.html">2.1.1 ChoirStaff</a>      </li>
      <li class=""><a name="toc-ChordNames-1" href="chordnames.zh.html">2.1.2 ChordNames</a>      </li>
      <li class=""><a name="toc-CueVoice-1" href="cuevoice.zh.html">2.1.3 CueVoice</a>      </li>
      <li class=""><a name="toc-Devnull-1" href="devnull.zh.html">2.1.4 Devnull</a>      </li>
      <li class=""><a name="toc-DrumStaff-1" href="drumstaff.zh.html">2.1.5 DrumStaff</a>      </li>
      <li class=""><a name="toc-DrumVoice-1" href="drumvoice.zh.html">2.1.6 DrumVoice</a>      </li>
      <li class=""><a name="toc-Dynamics-1" href="dynamics.zh.html">2.1.7 Dynamics</a>      </li>
      <li class=""><a name="toc-FiguredBass-1" href="figuredbass.zh.html">2.1.8 FiguredBass</a>      </li>
      <li class=""><a name="toc-FretBoards-1" href="fretboards.zh.html">2.1.9 FretBoards</a>      </li>
      <li class=""><a name="toc-Global-1" href="global.zh.html">2.1.10 Global</a>      </li>
      <li class=""><a name="toc-GrandStaff-1" href="grandstaff.zh.html">2.1.11 GrandStaff</a>      </li>
      <li class=""><a name="toc-GregorianTranscriptionStaff-1" href="gregoriantranscriptionstaff.zh.html">2.1.12 GregorianTranscriptionStaff</a>      </li>
      <li class=""><a name="toc-GregorianTranscriptionVoice-1" href="gregoriantranscriptionvoice.zh.html">2.1.13 GregorianTranscriptionVoice</a>      </li>
      <li class=""><a name="toc-KievanStaff-1" href="kievanstaff.zh.html">2.1.14 KievanStaff</a>      </li>
      <li class=""><a name="toc-KievanVoice-1" href="kievanvoice.zh.html">2.1.15 KievanVoice</a>      </li>
      <li class=""><a name="toc-Lyrics-1" href="lyrics.zh.html">2.1.16 Lyrics</a>      </li>
      <li class=""><a name="toc-MensuralStaff-1" href="mensuralstaff.zh.html">2.1.17 MensuralStaff</a>      </li>
      <li class=""><a name="toc-MensuralVoice-1" href="mensuralvoice.zh.html">2.1.18 MensuralVoice</a>      </li>
      <li class=""><a name="toc-NoteNames-1" href="notenames.zh.html">2.1.19 NoteNames</a>      </li>
      <li class=""><a name="toc-NullVoice-1" href="nullvoice.zh.html">2.1.20 NullVoice</a>      </li>
      <li class=""><a name="toc-OneStaff-1" href="onestaff.zh.html">2.1.21 OneStaff</a>      </li>
      <li class=""><a name="toc-PetrucciStaff-1" href="petruccistaff.zh.html">2.1.22 PetrucciStaff</a>      </li>
      <li class=""><a name="toc-PetrucciVoice-1" href="petruccivoice.zh.html">2.1.23 PetrucciVoice</a>      </li>
      <li class=""><a name="toc-PianoStaff-1" href="pianostaff.zh.html">2.1.24 PianoStaff</a>      </li>
      <li class=""><a name="toc-RhythmicStaff-1" href="rhythmicstaff.zh.html">2.1.25 RhythmicStaff</a>      </li>
      <li class=""><a name="toc-Score-1" href="score.zh.html">2.1.26 Score</a>      </li>
      <li class=""><a name="toc-Staff-1" href="staff.zh.html">2.1.27 Staff</a>      </li>
      <li class=""><a name="toc-StaffGroup-1" href="staffgroup.zh.html">2.1.28 StaffGroup</a>      </li>
      <li class=" toc_current"><a name="toc-TabStaff-1" href="tabstaff.zh.html">2.1.29 TabStaff</a>      </li>
      <li class=""><a name="toc-TabVoice-1" href="tabvoice.zh.html">2.1.30 TabVoice</a>      </li>
      <li class=""><a name="toc-VaticanaStaff-1" href="vaticanastaff.zh.html">2.1.31 VaticanaStaff</a>      </li>
      <li class=""><a name="toc-VaticanaVoice-1" href="vaticanavoice.zh.html">2.1.32 VaticanaVoice</a>      </li>
      <li class=""><a name="toc-Voice-1" href="voice.zh.html">2.1.33 Voice</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Engravers-and-Performers-1" href="engravers-and-performers.zh.html">2.2 Engravers and Performers</a>    </li>
    <li class=""><a name="toc-Tunable-context-properties-1" href="tunable-context-properties.zh.html">2.3 Tunable context properties</a>    </li>
    <li class=""><a name="toc-Internal-context-properties-1" href="internal-context-properties.zh.html">2.4 Internal context properties</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Backend-1" href="backend.zh.html">3. Backend</a>
  <ul class="toc">
    <li class=""><a name="toc-All-layout-objects-1" href="all-layout-objects.zh.html">3.1 All layout objects</a>    </li>
    <li class=""><a name="toc-Graphical-Object-Interfaces-1" href="graphical-object-interfaces.zh.html">3.2 Graphical Object Interfaces</a>    </li>
    <li class=""><a name="toc-User-backend-properties-1" href="user-backend-properties.zh.html">3.3 User backend properties</a>    </li>
    <li class=""><a name="toc-Internal-backend-properties-1" href="internal-backend-properties.zh.html">3.4 Internal backend properties</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Scheme-functions-1" href="scheme-functions.zh.html">4. Scheme functions</a>  </li>
  <li class=""><a name="toc-Indices-1" href="indices.zh.html">A. Indices</a>
  <ul class="toc">
    <li class=""><a name="toc-Concept-index" href="indices.zh.html">A.1 Concept index</a>    </li>
    <li class=""><a name="toc-Function-index" href="indices.zh.html">A.2 Function index</a>    </li>
  </ul>
  </li>
<li>
<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google Search">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Search">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
