<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2014 pels autors.

La traducció de la següent nota de copyright s'ofereix com a
cortesia per a les persones de parla no anglesa, però únicament la
nota en anglès té validesa legal.

The translation of the following copyright notice is provided
for courtesy to non-English speakers, but only the notice in English
legally counts.

S'atorga permís per copiar, distribuir i/o modificar aquest
document sota els termes de la Llicència de Documentació Lliure de
GNU, versió 1.1 o qualsevol posterior publicada per la Free
Software Foundation; sense cap de les seccions invariants.
S'inclou una còpia d'aquesta llicència dins de la secció titulada
"Llicència de Documentació Lliure de GNU".


Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1
or any later version published by the Free Software Foundation;
with no Invariant Sections.
A copy of the license is included in the section entitled "GNU
Free Documentation License".

 -->
<!-- Created on Agost 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>LilyPond: manual d'utilització del programa: 3.2.1 LaTeX</title>

<meta name="description" content="LilyPond: manual d'utilització del programa: 3.2.1 LaTeX">
<meta name="keywords" content="LilyPond: manual d'utilització del programa: 3.2.1 LaTeX">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.ca.html#index" rel="start" title="LilyPond &mdash; Utilització">
<link href="lilypond-index.ca.html#lilypond-index" rel="index" title="B. Índex del LilyPond">
<link href="index_toc.ca.html#SEC_Contents" rel="contents" title="Taula de contingus">
<link href="index_abt.ca.html#SEC_About" rel="help" title="Quant a aquest document">
<link href="integrating-music-and-text.ca.html#integrating-music-and-text" rel="up" title="3.2 Integrating music and text">
<link href="lilypond-index.ca.html#lilypond-index" rel="next" title="B. Índex del LilyPond">
<link href="integrating-music-and-text.ca.html#integrating-music-and-text" rel="previous" title="3.2 Integrating music and text">
<link rel="stylesheet" type="text/css" title="Default style" href="../../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ca" class="usage devStatus">


<div id="main">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="lilypond_002dbook.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="external-programs.ca.html" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="integrating-music-and-text.ca.html" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="integrating-music-and-text.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="texinfo.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="latex"></a>
<h3 class="subsection">3.2.1 LaTeX</h3>

<p>LaTeX is the de-facto standard for publishing layouts in the exact
sciences.  It is built on top of the TeX typesetting engine,
providing the best typography available anywhere.
</p>
<p>See
<a href="http://www.ctan.org/tex-archive/info/lshort/english"><em>The Not So Short Introduction to LaTeX</em></a> for an overview on how
to use LaTeX.
</p>
<p><code>lilypond-book</code> provides the following commands and environments to
include music in LaTeX files:
</p>
<ul>
<li>
the <code>\lilypond{&hellip;}</code> command, where you can directly enter
short lilypond code

</li><li>
the <code>\begin{lilypond}&hellip;\end{lilypond}</code> environment, where
you can directly enter longer lilypond code

</li><li>
the <code>\lilypondfile{&hellip;}</code> command to insert a lilypond file

</li><li>
the <code>\musicxmlfile{&hellip;}</code> command to insert a MusicXML file,
which will be processed by <code>musicxml2ly</code> and <code>lilypond</code>.

</li></ul>

<p>In the input file, music is specified with any of the following commands:
</p>
<blockquote><pre class="example">\begin{lilypond}[options,go,here]
  YOUR LILYPOND CODE
\end{lilypond}

\lilypond[options,go,here]{ YOUR LILYPOND CODE }

\lilypondfile[options,go,here]{<var>filename</var>}

\musicxmlfile[options,go,here]{<var>filename</var>}
</pre></blockquote>



<p>Additionally, <code>\lilypondversion</code> displays the current version
of lilypond.
Running <code>lilypond-book</code> yields a file that can be further
processed with LaTeX.
</p>
<p>We show some examples here.  The <code>lilypond</code> environment
</p>
<blockquote><pre class="example">\begin{lilypond}[quote,fragment,staffsize=26]
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="../5a/lily-d67e1e90.ly">
  <img align="middle"
       border="0"
       src="../5a/lily-d67e1e90.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>The short version
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>produces
</p>
<blockquote><p>
 <a href="../d9/lily-f0683194.ly">
  <img align="middle"
       border="0"
       src="../d9/lily-f0683194.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>Currently, you cannot include <code>{</code> or <code>}</code> within
<code>\lilypond{}</code>, so this command is only useful with the
<code>fragment</code> option.
</p>
<p>The default line width of the music will be adjusted by examining the
commands in the document preamble, the part of the document before
<code>\begin{document}</code>.  The <code>lilypond-book</code> command sends
these to LaTeX to find out how wide the text is.  The line width for
the music fragments is then adjusted to the text width.  Note that this
heuristic algorithm can fail easily; in such cases it is necessary to
use the <code>line-width</code> music fragment option.
</p>
<a name="index-titling-and-lilypond_002dbook"></a>
<a name="index-_005cheader-in-LaTeX-documents"></a>

<p>Each snippet will call the following macros if they have been defined by
the user:
</p>
<ul>
<li> <code>\preLilyPondExample</code> called before the music,

</li><li> <code>\postLilyPondExample</code> called after the music,

</li><li> <code>\betweenLilyPondSystem[1]</code> is called between systems if
<code>lilypond-book</code> has split the snippet into several PostScript
files.  It must be defined as taking one parameter and will be
passed the number of files already included in this snippet.
The default is to simply insert a <code>\linebreak</code>.
</li></ul>


<a name="Fragments-de-codi-seleccionats"></a>
<h4 class="subsubheading">Fragments de codi seleccionats</h4>

<p>Sometimes it is useful to display music elements (such as ties and slurs)
as if they continued after the end of the fragment.  This can be done by
breaking the staff and suppressing inclusion of the rest of the LilyPond
output.
</p>
<p>In LaTeX, define <code>\betweenLilyPondSystem</code> in such a way that
inclusion of other systems is terminated once the required number of
systems are included.  Since <code>\betweenLilyPondSystem</code> is first
called <em>after</em> the first system, including only the first system
is trivial.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin{lilypond}[fragment]
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>If a greater number of systems is requested, a TeX conditional must
be used before the <code>\endinput</code>.  In this example, replace &lsquo;2&rsquo; by
the number of systems you want in the output.
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum#1&lt;2\else\expandafter\endinput\fi
}
</pre></blockquote>

<p>(Since <code>\endinput</code> immediately stops the processing of the current
input file we need <code>\expandafter</code> to delay the call of <code>\endinput</code>
after executing <code>\fi</code> so that the <code>\if</code>-<code>\fi</code> clause is
balanced.)
</p>
<p>Remember that the definition of <code>\betweenLilyPondSystem</code> is
effective until TeX quits the current group (such as the LaTeX
environment) or is overridden by another definition (which is, in
most cases, for the rest of the document).  To reset your
definition, write
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>in your LaTeX source.
</p>
<p>This may be simplified by defining a TeX macro
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{%
      \ifnum##1&lt;#1\else\expandafter\endinput\fi}
}
</pre></blockquote>

<p>and then saying only how many systems you want before each fragment,
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}&hellip;\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}&hellip;\end{lilypond}
</pre></blockquote>


<a name="Vegeu-tambe-1"></a>
<h4 class="subsubheading">Vegeu també</h4>
<p>There are specific <code>lilypond-book</code> command line options and
other details to know when processing LaTeX documents, see
<a href="invoking-lilypond_002dbook.ca.html">Invoking <code>lilypond-book</code></a>.
</p>

<hr size="6">
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="lilypond_002dbook.ca.html" title="Inici d&rsquo;aquest capítol o capítol previ"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="index.ca.html" title="Portada (inici) del document" rel="start">Part superior</a>][<a href="index_toc.ca.html#SEC_Contents" title="Taula de continguts" rel="contents">Continguts</a>][<a href="lilypond-index.ca.html" title="Índex" rel="index">Índex</a>][<a href="index_abt.ca.html#SEC_About" title="Quant a (ajuda)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="external-programs.ca.html" title="Capítol següent">&nbsp;External programs &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="integrating-music-and-text.ca.html" title="Secció prèvia en ordre de lectura" accesskey="p" rel="previous"> &lt; Integrating music and text&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="integrating-music-and-text.ca.html" title="Amunt secció" accesskey="u" rel="up">&nbsp; Amunt :&nbsp;Integrating music and text&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="texinfo.ca.html" title="Secció següent en ordre de lectura" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
Aquesta pàgina correspon a LilyPond-2.19.65 (branca de desenvolupament).
</p>
<p class="footer_report">
Agraïm la vostra ajuda: sisplau <a href="http://lilypond.org/help-us.html">ajudeu-nos</a> informant d'errors a la nostra <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">llista de correu d'errors</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 Altres idiomes: <a href="latex.html">English</a>, <a href="latex.de.html">deutsch</a>, <a href="latex.es.html">español</a>, <a href="latex.fr.html">français</a>, <a href="latex.it.html">italiano</a>, <a href="latex.ja.html">日本語</a>.
 <br>
 Quant a la <a href="http://www.lilypond.org/website/misc/browser-language">selecció automàtica de la llengua</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../../Documentation/web/manuals.ca.html"
         title="Documentation Index">&lt;&lt; Torna a l'índex de la documentació</a></p>
<h4 class="toc_header"> <a href="index.ca.html" title="Start of the manual">LilyPond &mdash; Utilització  v2.19.65 (branca de desenvolupament). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-Execucio-del-LilyPond" href="running-lilypond.ca.html">1. Execució del LilyPond</a>
  <ul class="toc">
    <li class=""><a name="toc-Utilitzacio-normal" href="normal-usage.ca.html">1.1 Utilització normal</a>    </li>
    <li class=""><a name="toc-Utilitzacio-des-de-la-linia-d_0027ordres" href="command_002dline-usage.ca.html">1.2 Utilització des de la línia d&rsquo;ordres</a>    </li>
    <li class=""><a name="toc-Missatges-d_0027error-1" href="error-messages.ca.html">1.3 Missatges d&rsquo;error</a>    </li>
    <li class=""><a name="toc-Errors-comuns-1" href="common-errors.ca.html">1.4 Errors comuns</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Actualitzacio-de-fitxers-amb-convert_002dly" href="updating-files-with-convert_002dly.ca.html">2. Actualització de fitxers amb <code>convert-ly</code></a>
  <ul class="toc">
    <li class=""><a name="toc-Perque-canvia-la-sintaxi_003f" href="why-does-the-syntax-change_003f.ca.html">2.1 Perquè canvia la sintaxi?</a>    </li>
    <li class=""><a name="toc-Invocacio-de-convert_002dly" href="invoking-convert_002dly.ca.html">2.2 Invocació de <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Opcions-de-la-linia-d_0027ordres-per-a-convert_002dly" href="command-line-options-for-convert_002dly.ca.html">2.3 Opcions de la línia d&rsquo;ordres per a <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Problemes-amb-convert_002dly-1" href="problems-running-convert_002dly.ca.html">2.4 Problemes amb <code>convert-ly</code></a>    </li>
    <li class=""><a name="toc-Conversions-manuals-1" href="manual-conversions.ca.html">2.5 Conversions manuals</a>    </li>
  </ul>
  </li>
  <li class=" toc_current"><a name="toc-Running-lilypond_002dbook" href="lilypond_002dbook.ca.html">3. Running <code>lilypond-book</code></a>
  <ul class="toc">
    <li class=""><a name="toc-An-example-of-a-musicological-document-1" href="an-example-of-a-musicological-document.ca.html">3.1 An example of a musicological document</a>    </li>
    <li class=" toc_current"><a name="toc-Integrating-music-and-text-1" href="integrating-music-and-text.ca.html">3.2 Integrating music and text</a>
    <ul class="toc">
      <li class=" toc_current"><a name="toc-LaTeX-1" href="latex.ca.html">3.2.1 LaTeX</a>      </li>
      <li class=""><a name="toc-Texinfo-1" href="texinfo.ca.html">3.2.2 Texinfo</a>      </li>
      <li class=""><a name="toc-HTML-1" href="html.ca.html">3.2.3 HTML</a>      </li>
      <li class=""><a name="toc-DocBook-1" href="docbook.ca.html">3.2.4 DocBook</a>      </li>
    </ul>
    </li>
    <li class=""><a name="toc-Music-fragment-options-1" href="music-fragment-options.ca.html">3.3 Music fragment options</a>    </li>
    <li class=""><a name="toc-Invoking-lilypond_002dbook-1" href="invoking-lilypond_002dbook.ca.html">3.4 Invoking <code>lilypond-book</code></a>    </li>
    <li class=""><a name="toc-Filename-extensions-1" href="filename-extensions.ca.html">3.5 Filename extensions</a>    </li>
    <li class=""><a name="toc-lilypond_002dbook-templates-1" href="lilypond_002dbook-templates.ca.html">3.6 lilypond-book templates</a>    </li>
    <li class=""><a name="toc-Sharing-the-table-of-contents-1" href="sharing-the-table-of-contents.ca.html">3.7 Sharing the table of contents</a>    </li>
    <li class=""><a name="toc-Alternative-methods-of-mixing-text-and-music" href="alternate-methods-of-mixing-text-and-music.ca.html">3.8 Alternative methods of mixing text and music</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-External-programs-1" href="external-programs.ca.html">4. External programs</a>
  <ul class="toc">
    <li class=""><a name="toc-Point-and-click-1" href="point-and-click.ca.html">4.1 Point and click</a>    </li>
    <li class=""><a name="toc-Text-editor-support-1" href="text-editor-support.ca.html">4.2 Text editor support</a>    </li>
    <li class=""><a name="toc-Converting-from-other-formats-1" href="converting-from-other-formats.ca.html">4.3 Converting from other formats</a>    </li>
    <li class=""><a name="toc-LilyPond-output-in-other-programs-1" href="lilypond-output-in-other-programs.ca.html">4.4 LilyPond output in other programs</a>    </li>
    <li class=""><a name="toc-Independent-includes-1" href="independent-includes.ca.html">4.5 Independent <code>include</code>s</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-Suggeriments-per-escriure-fitxers-d_0027entrada-1" href="suggestions-for-writing-files.ca.html">5. Suggeriments per escriure fitxers d&rsquo;entrada</a>
  <ul class="toc">
    <li class=""><a name="toc-Suggeriments-de-tipus-general-1" href="general-suggestions.ca.html">5.1 Suggeriments de tipus general</a>    </li>
    <li class=""><a name="toc-Gravacio-de-musica-existent" href="typesetting-existing-music.ca.html">5.2 Gravació de música existent</a>    </li>
    <li class=""><a name="toc-Projectes-grans-1" href="large-projects.ca.html">5.3 Projectes grans</a>    </li>
    <li class=""><a name="toc-Solucio-de-problemes" href="troubleshooting.ca.html">5.4 Solució de problemes</a>    </li>
    <li class=""><a name="toc-Make-i-els-Makefiles-1" href="make-and-makefiles.ca.html">5.5 Make i els Makefiles</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="gnu-free-documentation-license.ca.html">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-Index-del-LilyPond" href="lilypond-index.ca.html">B. Índex del LilyPond</a>  </li>
<li>
<!--
    Translation of GIT committish: 9d074d78d7c25852afa87005e21c118630f4f83b

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.

we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Cerca a Google">
  <input type="text" name="brute_query" onfocus="this.value=''" value="Buscar">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
