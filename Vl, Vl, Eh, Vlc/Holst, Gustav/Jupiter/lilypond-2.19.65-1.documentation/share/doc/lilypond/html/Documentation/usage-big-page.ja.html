<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Copyright C 1999-2015 by the authors.

GNU フリー文書利用許諾契約書バージョン 1.1 またはフリー ソフトウェア財団によって発行されたその後のバージョンの約定に従う限り、このドキュメントを複製、変更する許可を与えます。変更不可部分はありません。この利用許諾契約書のコピーは「GNU フリー文書利用許諾契約書」という章に含まれています。

 -->
<!-- Created on 8 月 6, 2017 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU LilyPond &ndash; アプリケーション使用方法</title>

<meta name="description" content="GNU LilyPond &ndash; アプリケーション使用方法">
<meta name="keywords" content="GNU LilyPond &ndash; アプリケーション使用方法">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="#index" rel="start" title="LilyPond &mdash; 使用方法">
<link href="#lilypond-index" rel="index" title="B. LilyPond インデックス">
<link href="#SEC_Contents" rel="contents" title="目次">
<link href="#SEC_About" rel="help" title="このドキュメントについて">
<link rel="stylesheet" type="text/css" title="Default style" href="../Documentation/css/lilypond-manuals.css">
<!--[if lte IE 7]>
<link href="../Documentation/css/lilypond-manuals-ie-fixes.css" rel="stylesheet" type="text/css">
<![endif]-->


</head>

<body lang="ja" class="usage devStatus">


<div id="main">
<a name="Top"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td></tr></table>
<a name="index"></a>
<h1 class="settitle">LilyPond &mdash; 使用方法</h1>

<table class="cartouche" border="1"><tr><td>
<p>このマニュアルは LilyPond バージョン 2.19.65 で配布されるプログラムの実行方法について説明します。さらに、効率的な使用方法について提案します。
</p></td></tr></table>







<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#running-lilypond" accesskey="1">1. <code>lilypond</code> を実行する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               操作方法
</td></tr>
<tr><td align="left" valign="top"><a href="#updating-files-with-convert_002dly" accesskey="2">2. <code>convert-ly</code> を使ってファイルを更新する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> 入力ファイルをアップデートする
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook" accesskey="3">3. <code>lilypond-book</code> を実行する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     文章と楽譜を統合する
</td></tr>
<tr><td align="left" valign="top"><a href="#external-programs" accesskey="4">4. 外部プログラム</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    LilyPond と他のプログラムを混合する。
</td></tr>
<tr><td align="left" valign="top"><a href="#suggestions-for-writing-files" accesskey="5">5. LilyPond 入力ファイルの記述に対する提案</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  効率的な使用方法とバグ対処方法
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
付録

</pre></th></tr><tr><td align="left" valign="top"><a href="#gnu-free-documentation-license" accesskey="6">A. GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"> このドキュメントの使用許諾書
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-index" accesskey="7">B. LilyPond インデックス</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<table class="cartouche" border="1"><tr><td>
<p>このマニュアルと他のドキュメントの関係について、あるいは、このマニュアルを他の形式で読む方法についての情報は、<a name="index-_30de_30cb_30e5_30a2_30eb"></a>
<a href="web-big-page.ja.html#manuals">マニュアル</a>
を参照してください。
</p>
<p>マニュアルのいずれかを見失ってしまった場合、<a href="http://lilypond.org">http://lilypond.org/</a> にマニュアルがすべて揃っています。
</p></td></tr></table>









<hr size="1">
<a name="lilypond-_3092_5b9f_884c_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#index" title="この章あるいは前の章の先頭"> &lt;&lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#index" title="前のセクション" accesskey="p" rel="previous"> &lt; Top&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#normal-usage" title="次のセクション" accesskey="n" rel="next">&nbsp;通常の使用方法 &gt; </a>]</td></tr></table>
<a name="running-lilypond"></a>
<h1 class="chapter">1. <code>lilypond</code> を実行する</h1>

<p>この章では LilyPond を実行するための細かな規定について詳述します。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#normal-usage" accesskey="1">1.1 通常の使用方法</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command_002dline-usage" accesskey="2">1.2 コマンド ラインの使用方法</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-messages" accesskey="3">1.3 エラー メッセージ</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#common-errors" accesskey="4">1.4 一般的なエラー</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="g_t_901a_5e38_306e_4f7f_7528_65b9_6cd5"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#running-lilypond" title="前のセクション" accesskey="p" rel="previous"> &lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command_002dline-usage" title="次のセクション" accesskey="n" rel="next">&nbsp;コマンド ラインの使用方法 &gt; </a>]</td></tr></table>
<a name="normal-usage"></a>
<h2 class="section">1.1 通常の使用方法</h2>

<p>たいていのユーザは GUI から LilyPond を実行します。まだ実行したことがないのであれば <a name="index-_30c1_30e5_30fc_30c8_30ea_30a2_30eb"></a>
<a href="learning-big-page.ja.html#tutorial">チュートリアル</a> を読んでください。
lilypond ファイルを書くのに代替のエディタを使用するのであれば、そのエディタのドキュメントを読んでください。
</p>

<hr size="6">
<a name="g_t_30b3_30de_30f3_30c9-_30e9_30a4_30f3_306e_4f7f_7528_65b9_6cd5"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#normal-usage" title="前のセクション" accesskey="p" rel="previous"> &lt; 通常の使用方法&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond を呼び出す &gt; </a>]</td></tr></table>
<a name="command_002dline-usage"></a>
<h2 class="section">1.2 コマンド ラインの使用方法</h2>

<p>この節にはコマンド ラインで LilyPond を使用するための追加情報が含まれます。これにはプログラムに追加オプションを渡す必要があるかもしれません。さらに、いくつかの特別なプログラム (<code>midi2ly</code> など) はコマンド ラインからしか利用できません。
</p>
<p>ここで &lsquo;コマンド ライン&rsquo; とは、OS の中にあるコマンド ラインを意味します。Windows ユーザは &lsquo;DOS シェル&rsquo; や &lsquo;コマンド シェル&rsquo; &lsquo;コマンド プロンプト&rsquo;
という言葉の方が馴染みがあるかもしれません。MaxOS&nbsp;X ユーザは &lsquo;ターミナル&rsquo; や &lsquo;コンソール&rsquo; という言葉の方が馴染みがあるかもしれません。MaxOS&nbsp;X ユーザは追加のセットアップが必要かもしれません。<a name="index-MacOS-X"></a>
<a href="web-big-page.ja.html#macos-x">MacOS X</a> を参照してください。
</p>
<p>OS のコマンド ラインの使用方法についての説明はこのマニュアルが扱う範囲ではありません。コマンド ラインに馴染みがない場合は、その内容を扱っている他のドキュメントをあたってください。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-lilypond" accesskey="1"><code>lilypond</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#basic-command-line-options-for-lilypond" accesskey="2">LilyPond の基本的なコマンド ライン オプション</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#advanced-command-line-options-for-lilypond" accesskey="3">LilyPond の高度なコマンド ライン オプション</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#environment-variables" accesskey="4">環境変数</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-in-chroot-jail" accesskey="5">chroot jail 環境で LilyPond を実行する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="LilyPond-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command_002dline-usage" title="前のセクション" accesskey="p" rel="previous"> &lt; コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond" title="次のセクション" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="invoking-lilypond"></a>
<h3 class="unnumberedsubsec"><code>lilypond</code> を呼び出す</h3>


<p><code>lilypond</code> 実行可能形式ファイルはコマンド ラインから以下のように呼び出されます。
</p>
<blockquote><pre class="example">lilypond [<var>option</var>]&hellip; <var>file</var>&hellip;
</pre></blockquote>

<p>拡張子を持たないファイル名で呼び出された場合、&lsquo;<tt>.ly</tt>&rsquo; が最初に試されます。stdin から入力を読み込む場合には、<var>file</var> に対してダッシュ (<code>-</code>) を使用します。
</p>
<p>&lsquo;<tt>filename.ly</tt>&rsquo; が処理されると、lilypond は出力として &lsquo;<tt>filename.ps</tt>&rsquo; と &lsquo;<tt>filename.pdf</tt>&rsquo; を作り出します。いくつかのファイルを指定することもできます。その場合、それらのファイルは個々に処理されます。<sup><a name="DOCF1" href="#FOOT1">1</a></sup>
</p>
<p>&lsquo;<tt>filename.ly</tt>&rsquo; が複数の <code>\book</code> ブロックを含んでいる場合、残りのの score は
&lsquo;<tt>filename-1.pdf</tt>&rsquo; から始まる番号付きのファイルに出力されます。さらに、<code>output-suffix</code> がベース名と番号の間に挿入されます。以下の内容を含んでいる入力ファイルは
</p>
<blockquote><pre class="example">#(define output-suffix &quot;violin&quot;)
\score { &hellip; }
#(define output-suffix &quot;cello&quot;)
\score { &hellip; }
</pre></blockquote>

<p><var>base</var>&lsquo;<tt>-violin.pdf</tt>&rsquo; と <var>base</var>&lsquo;<tt>-cello-1.pdf</tt>&rsquo; を出力します。
</p>

<hr size="6">
<a name="invoking-lilypond"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#invoking-lilypond" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond を呼び出す&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond の基本的なコマンド ライン オプション &gt; </a>]</td></tr></table>
<h4 class="unnumberedsubsubsec">標準シェルで LilyPond を使う</h4>

<p>LilyPond はコマンドラインアプリケーションなので、LilyPond を呼び出すために &lsquo;シェル&rsquo; の機能をうまく利用することができます。
</p>
<p>例えば:
</p>
<blockquote><pre class="example">lilypond *.ly
</pre></blockquote>

<p>は、カレントディレクトリのすべての LilyPond ファイルを処理できるでしょう。
</p>
<p>コンソール出力をリダイレクトする（例えばファイルへ）のも有用でしょう。
</p>
<blockquote><pre class="example">lilypond file.ly 1&gt; stdout.txt

lilypond file.ly 2&gt; stderr.txt

lilypond file.ly &amp;&gt; all.txt
</pre></blockquote>

<p>それぞれ &lsquo;普通の&rsquo; 出力、&lsquo;エラー&rsquo; のみ、&lsquo;すべて&rsquo; 、
をファイルにリダイレクトします。</p>
<p>あなたの使用しているシェル、コマンドプロンプト (Windows)、ターミナルやコンソール (MacOS X) がリダイレクトをサポートしているか、あるいは構文が異なるかどうかは、そのシェルのドキュメントを調べてください。</p>
<p>以下は、カレントディレクトリ以下のすべての入力ファイルを再帰的に探し、処理する例です。出力ファイルは元の入力ファイルのあるディレクトリではなく、コマンドを実行したディレクトリに置かれます。
</p>
<blockquote><pre class="example">find . -name '*.ly' -exec lilypond '{}' \;
</pre></blockquote>

<p>これは MacOS&nbsp;X ユーザでも使えるでしょう。
</p>
<p>Windows ユーザは;
</p>
<blockquote><pre class="example">forfiles /s /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>

<p>スタートメニューから
<code>スタート &gt; アクセサリ &gt; コマンドプロンプト</code>
とたどるか、Windows 8 であれば検索ウィンドウで &lsquo;コマンドプロンプト&rsquo; と入力して、
<code>コマンド プロンプト</code> を起動し、これらのコマンドを入力します。
</p>
<p>または、入力ファイルを含むすべてのサブフォルダを含む、最上位のフォルダを明示的に指定できる <code>/p</code> オプションもあります;
</p>
<blockquote><pre class="example">forfiles /s /p C:\Documents\MyScores /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>

<p>最上位フォルダ名がスペース文字を含む場合は、パス全体をダブルクオーテーションで囲む必要があります。;
</p>
<blockquote><pre class="example">forfiles /s /p &quot;C:\Documents\My Scores&quot; /M *.ly /c &quot;cmd /c lilypond @file&quot;
</pre></blockquote>


<hr size="6">
<a name="LilyPond-_306e_57fa_672c_7684_306a_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond" title="前のセクション" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond の高度なコマンド ライン オプション &gt; </a>]</td></tr></table>
<a name="basic-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">LilyPond の基本的なコマンド ライン オプション</h3>

<a name="index-Invoking-lilypond-_0028lilypond-_3092_547c_3073_51fa_3059_0029"></a>
<a name="index-command-line-options-for-lilypond-_0028lilypond-_306e_305f_3081_306e_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3_0029"></a>
<a name="index-options_002c-command-line-_0028_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3_0029"></a>
<a name="index-switches-_0028_5207_308a_63db_3048_0029"></a>

<p>以下のオプションがサポートされます:
</p>
<dl compact="compact">
<dt> <code>-b, --bigpdfs</code></dt>
<dd><a name="index-bigpdfs"></a>

<p>通常より大きい PDF ファイルを生成します。（フォント最適化がほんの少しかまったく無くなるため。）しかし、2 つ以上の PDF ファイルを
<code>pdftex</code>、<code>xetex</code> や <code>luatex</code>
ドキュメントの中に組み込む場合、さらに ghostscript 処理で重複するフォントデータを統合し、<em>著しく</em>　小さい PDF ファイルを得ることができます。
</p>
<blockquote><pre class="example">lilypond -b myfile
</pre></blockquote>

<p>それから <code>ghostscript</code> を呼び出します。
</p>
<blockquote><pre class="example">gs -q -sDEVICE=pdfwrite -o gsout.pdf myfile.pdf
</pre></blockquote>

<p><code>pdfsizeopt.py</code> は、さらにサイズの最適化ができます。
</p>
<blockquote><pre class="example">pdfsizeopt.py --use-multivalent=no gsout.pdf final.pdf
</pre></blockquote>


</dd>
<dt> <code>-d, --define-default=<var>var</var>=<var>val</var></code></dt>
<dd><p><a href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a> を参照してください。
</p>
<a name="index-Scheme_002c-expression-evaluation-_0028Scheme-_8868_8a18_306e_8a55_4fa1_0029"></a>
<a name="index-expression-evaluation_002c-Scheme-_0028Scheme-_8868_8a18_306e_8a55_4fa1_0029"></a>

</dd>
<dt> <code>-e, --evaluate=<var>expr</var></code></dt>
<dd><p>&lsquo;<tt>.ly</tt>&rsquo; ファイルを解析する前に Scheme <var>expr</var> を評価します。複数の <code>-e</code> オプションが与えられた場合、それらは順番に評価されます。
</p>
<p>Scheme 表記は <code>guile-user</code> モジュールの中で評価されます。そのため、<var>expr</var> の中で定義を使いたいのならば、コマンド ラインで以下を使用して、
</p>
<blockquote><pre class="example">lilypond -e '(define-public a 42)'
</pre></blockquote>

<p><code>.ly</code> ファイルの先頭に以下を含めます:
</p>
<blockquote><pre class="example">#(use-modules (guile-user))
</pre></blockquote>

<div class="warning"><p><strong>Note:</strong> Windows ユーザはシングル クォートではなく、ダブル クォートを使う必要があります。
</p>
</div>
<a name="index-output_002c-format-_0028_51fa_529b_306e_30d5_30a9_30fc_30de_30c3_30c8_0029"></a>
<a name="index-format_002c-output-_0028_51fa_529b_306e_30d5_30a9_30fc_30de_30c3_30c8_0029"></a>

</dd>
<dt> <code>-f, --format=<var>format</var></code></dt>
<dd><p>フォーマットを指定します。<code>format</code> の選択肢は <code>ps</code>, <code>pdf</code>, それに <code>png</code> です。
</p>
<p>例: <code>lilypond -fpng <var>filename</var>.ly</code>
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>使用方法の要約を表示します。
</p>
</dd>
<dt> <code>-H, --header=<var>FIELD</var></code></dt>
<dd><p>ヘッダ フィールドをファイル &lsquo;<tt>BASENAME.<var>FIELD</var></tt>&rsquo; に吐き出します。
</p>
</dd>
<dt> <code>-i, --init=<var>file</var></code></dt>
<dd><p>init ファイルとして <var>file</var> をセットします (デフォルト: &lsquo;<tt>init.ly</tt>&rsquo;)。
</p>
<a name="index-file-searching-_0028_30d5_30a1_30a4_30eb-_30b5_30fc_30c1_0029"></a>
<a name="index-search-path-_0028_30b5_30fc_30c1-_30d1_30b9_0029"></a>

</dd>
<dt> <code>-I, --include=<var>directory</var></code></dt>
<dd><p><var>directory</var> を入力ファイルのサーチ パスに追加します。
</p>
<p>複数の -I オプションを与えることができます。検索は最初に指定されたディレクトリから開始され、入力ファイルが見つからない場合は次に指定されたディレクトリを検索します。
</p>
<a name="index-chroot-jail_002c-running-inside-_0028chroot-jail-_5185_90e8_3067_5b9f_884c_3059_308b_0029"></a>

</dd>
<dt> <code>-j, --jail=<var>user</var>,<var>group</var>,<var>jail</var>,<var>dir</var></code></dt>
<dd><p><code>lilypond</code> を chroot jail 環境で実行します。(訳者: chroot jail 環境とはセキュリティのためにカレント プロセスに対してルート ディレクトリの位置を変更すること。)
</p>
<p>&lsquo;<samp>--jail</samp>&rsquo; オプションは、Web サーバ経由で LilyPond 譜刻を提供する時や
LilyPond が外部ソースから送られてきたコマンドを実行する時に、<code>--dsafe</code> よりも自由度の高い代替手段を提供します。
（<a href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a> を参照してください。）
</p>
<p><code>--jail</code> オプションはコンパイル プロセスの開始直前に
<code>lilypond</code> のルート ディレクトリを <var>jail</var> に変更します。それから、ユーザとグループを <var>user</var> と <var>group</var> に変更して、カレント ディレクトリを <var>dir</var> に変更します。これにより、jail (牢獄) から抜け出せないことを (少なくとも理論上は)
保証します。<code>--jail</code> を指定した <code>lilypond</code> の実行は root (ユーザ名)
として行う必要があります。通常、これは <code>sudo</code> を用いた安全な方法で行います。
</p>
<p>jail のセットアップは比較的複雑な問題です。LilyPond がソースをコンパイルするのに必要とされるものすべてを
<em>jail の内部</em> で見つけられるということを保証しなければならないからです。一般的なセットアップには以下の項目が含まれます:
</p>
<dl compact="compact">
<dt> 専用のファイルシステムをセットアップする</dt>
<dd><p><code>noexec</code>, <code>nodev</code>, <code>nosuid</code> などのセーフ オプションでマウントするための専用ファイルシステムを作成すべきです。こうすることで、LilyPond から実行可能形式ファイルを実行したり、デバイスに直接書き込むことは不可能になります。専用のパーティションを作成することを望まないのなら、適当なサイズのファイルを作成し、それを使用してループ デバイス (ループバック デバイス) をマウントしてください。専用ファイルシステムはさらに、LilyPond が許可されたディスク容量以上には書き込めないということを保証します。
</p>
</dd>
<dt> 専用のユーザをセットアップする</dt>
<dd><p>jail 内部で LilyPond を実行する際、低い権限を持つ専用のユーザとグループ
(仮に <code>lily</code>/<code>lily</code> とします)
で行うべきです。このユーザが書き込み可能なディレクトリが 1 つだけ存在すべきであり、それを <var>dir</var> に渡します。
</p>
</dd>
<dt> jail の準備をする</dt>
<dd><p>LilyPond は実行中にいくつかのファイルを読み込む必要があります。それらのファイルをすべて jail にコピーしておきます。それらのファイルが本当のルート ファイル システムで存在しているパスと同じパスにコピーします。LilyPond インストールの内容すべて (例えば、&lsquo;<tt>/usr/share/lilypond</tt>&rsquo;) をコピーすべきです。
</p>
<p>問題が発生した場合、その原因を突き止める最も簡単な方法は
<code>strace</code> を使って LilyPond を実行することです。これによりどのファイルが見当たらないのかがわかります。
</p>
</dd>
<dt> LilyPond を実行する</dt>
<dd><p><code>noexec</code> でマウントされた jail の中では、外部プログラムを実行することは一切できません。そのため、外部プログラムを必要としないバックエンドで
LilyPond を実行しなければなりません。すでに述べたように、jail モードでの LilyPond の実行はスーパーユーザ権限で行われなければならず
(もちろん、その権限はすぐに外されます)、たぶん <code>sudo</code> を使います。LilyPond が使用可能な CPU 時間を数秒に制限する
(例えば、<code>ulimit -t</code> を使って) というのも良い方法です。さらに、OS がサポートしているのなら、割り当て可能なメモリ容量を制限するというのも良い方法です。<a href="#lilypond-in-chroot-jail">chroot jail 環境で LilyPond を実行する</a> も参照してください。
</p></dd>
</dl>

<a name="index-loglevel-_0028_30ed_30b0_30ec_30d9_30eb_0029"></a>
<a name="index-output_002c-verbosity-_0028_51fa_529b_306e_9952_820c_3055_0029"></a>

</dd>
<dt> <code>-l, --loglevel=<var>LEVEL</var></code></dt>
<dd><p>コンソール出力の饒舌さを <var>LEVEL</var> にセットします。取り得る値は以下の通りです:
</p>
<dl compact="compact">
<dt> <code>NONE</code></dt>
<dd><p>何も出力しません。エラー メッセージさえも出力しません。
</p>
</dd>
<dt> <code>ERROR</code></dt>
<dd><p>エラー メッセージだけを出力します。警告や進捗メッセージは出力しません。
</p>
</dd>
<dt> <code>WARN</code></dt>
<dd><p>警告とエラー メッセージを出力し、進捗メッセージは出力しません。
</p>
</dd>
<dt> <code>BASIC_PROGRESS</code></dt>
<dd><p>基本的な進捗メッセージ (成功メッセージ)、警告、それにエラー メッセージを出力します。
</p>
</dd>
<dt> <code>PROGRESS</code></dt>
<dd><p>すべての進捗メッセージ、警告とエラー メッセージを出力します。
</p>
</dd>
<dt> <code>INFO (デフォルト)</code></dt>
<dd><p>進捗メッセージ、警告、エラーそれに追加の実行情報を出力します。
</p>
</dd>
<dt> <code>DEBUG</code></dt>
<dd><p>饒舌なデバッグ出力を含む、出力可能なメッセージをすべて出力します。
</p>
</dd>
</dl>

<a name="index-directory_002c-redirect-output-_0028_51fa_529b_3092_30c7_30a3_30ec_30af_30c8_30ea_306b_30ea_30c0_30a4_30ec_30af_30c8_3059_308b_0029"></a>
<a name="index-output_002c-setting-filename-_0028_51fa_529b_306e_30d5_30a1_30a4_30eb_540d_3092_8a2d_5b9a_3059_308b_0029"></a>
<a name="index-output_002c-directory-_0028_51fa_529b_30c7_30a3_30ec_30af_30c8_30ea_0029"></a>

</dd>
<dt> <code>-o, --output=<var>FILE</var> or <var>FOLDER</var></code></dt>
<dd><p>デフォルトの出力ファイルとして <var>FILE</var> をセットします。セットした名前のフォルダが存在する場合、そのフォルダに、入力ファイルから取ったファイル名で出力されます。適切な接尾辞が追加されます
(つまり、pdf ならば拡張子 <code>.pdf</code> が追加されます)。
</p>
<a name="index-PS-_0028Postscript_0029_002c-output-_0028PS-_0028PostScript_0029-_51fa_529b_0029"></a>
<a name="index-Postscript-_0028PS_0029_002c-output-_0028PostScript-_0028PS_0029-_51fa_529b_0029"></a>
<a name="index-output_002c-PS-_0028Postscript_0029-_0028PS-_0028PostScript_0029-_51fa_529b_0029"></a>

</dd>
<dt> <code>--ps</code></dt>
<dd><p>PostScript を生成します。
</p>
<a name="index-PNG-_0028Portable-Network-Graphics_0029_002c-output-_0028PNG-_51fa_529b_0029"></a>
<a name="index-output_002c-PNG-_0028Portable-Network-Graphics_0029-_0028PNG-_51fa_529b_0029"></a>

</dd>
<dt> <code>--png</code></dt>
<dd><p>各ページの図を PNG フォーマットで生成します。これは内部で <code>--ps</code> を使用します。画像の DPI 解像度は以下のようにセットします:
</p><blockquote><pre class="example">-dresolution=110
</pre></blockquote>

<a name="index-PDF-_0028Portable-Document-Format_0029_002c-output-_0028PDF-_51fa_529b_0029"></a>
<a name="index-output_002c-PDF-_0028Portable-Document-Format_0029-_0028PDF-_51fa_529b_0029"></a>

</dd>
<dt> <code>--pdf</code></dt>
<dd><p>PDF を生成します。これは内部で <code>--ps</code> を使用します。
</p>
</dd>
<dt> <code>-v, --version</code></dt>
<dd><p>バージョン情報を表示します。
</p>
</dd>
<dt> <code>-V, --verbose</code></dt>
<dd><p>冗長表示モードにします:
読み込むすべてのファイルのフル パスを表示して、時間情報を表示します。
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>GNU LilyPond の保証責任を表示します。(GNU LilyPond には<strong>保証責任はありません</strong>！)
</p>
</dd>
</dl>


<hr size="6">
<a name="LilyPond-_306e_9ad8_5ea6_306a_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#basic-command-line-options-for-lilypond" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond の基本的なコマンド ライン オプション&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#environment-variables" title="次のセクション" accesskey="n" rel="next">&nbsp;環境変数 &gt; </a>]</td></tr></table>
<a name="advanced-command-line-options-for-lilypond"></a>
<h3 class="unnumberedsubsec">LilyPond の高度なコマンド ライン オプション</h3>

<dl compact="compact">
<dt> <code>-d<var>[option-name]</var>=<var>[value]</var>,</code></dt>
<dd><p>&ndash;define-default=<var>[option-name]</var>=<var>[value]</var>
これは内部 Scheme 関数に <var>value</var> をセットします。例えば、
</p>
<blockquote><pre class="example">-dbackend=svg
</pre></blockquote>

<p><var>value</var> が指定されない場合、デフォルト値が使われます。例えば、<var>option-name</var> に接頭辞 <code>no-</code> を付けると、そのオプションは
&lsquo;off&rsquo; になります
</p>
<a name="index-point-and-click_002c-command-line-_0028_30b3_30de_30f3_30c9-_30e9_30a4_30f3_3067_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_3092_6307_5b9a_3059_308b_0029"></a>

<blockquote><pre class="example">-dpoint-and-click=#f
</pre></blockquote>

<p>は
</p><blockquote><pre class="example">-dno-point-and-click
</pre></blockquote>
<p>と同じです。
</p></dd>
</dl>

<p>以下にサポートされるオプションをデフォルト値とともに示します:
</p>
<table>
<tr><td width="33%"><strong>シンボル</strong></td><td width="16%"><strong>値</strong></td><td width="51%"><strong>説明/オプション</strong></td></tr>
<tr><td width="33%"><code>anti-alias-factor</code></td><td width="16%"><code>1</code></td><td width="51%">(与えられた因数を用いて) 高解像度で描画して、その結果をスケール
ダウンすることにより、<code>PNG</code> 画像の輪郭がギザギザになることを防ぎます。</td></tr>
<tr><td width="33%"><code>aux-files</code></td><td width="16%"><code>#t</code></td><td width="51%"><code>eps</code> バックエンドを使うときに <code>.tex</code>, <code>.texi</code>,
<code>.count</code> ファイルを作成します。</td></tr>
<tr><td width="33%"><code>backend</code></td><td width="16%"><code>ps</code></td><td width="51%">デフォルト設定です。Postscript ファイル (デフォルト) は<code>TTF</code>, <code>Type1</code>, それに <code>OTF</code> フォントを埋め込みます。フォントのサブセットは作成されません。&lsquo;東洋&rsquo; の文字セットを用いるとファイルが非常に大きくなる可能性があることに注意してください。</td></tr>
<tr><td width="33%"></td><td width="16%"><code>eps</code></td><td width="51%"><code>lilypond-book</code> コマンドのデフォルトです。これは、1 つのファイルにすべてのページとフォントを埋め込んだものと、ページ毎に分離しフォントを埋め込まない eps ファイルの、両方を吐き出します。</td></tr>
<tr><td width="33%"></td><td width="16%"><code>null</code></td><td width="51%">楽譜を出力しません。<code>-dno-print-pages</code> と同じ効果を持ちます。</td></tr>
<tr><td width="33%"></td><td width="16%"><code>scm</code></td><td width="51%">内部的な Scheme ベースの描画コマンドを吐き出します。</td></tr>
<tr><td width="33%"></td><td width="16%"><code>svg</code></td><td width="51%">ページ毎の SVG ファイルが全ページ分作られます。LilyPond 自身の音楽グリフを除き、フォントは埋め込まれません。そのため、テキストや歌詞の最適な描画を得るためには、SVG ビュアーにフォントが必要となります。SVG ビュアーが対応していないことがあるので、&lsquo;フォントエイリアス&rsquo; や &lsquo;フォントリスト&rsquo; を使用しないことをお勧めします。<em>Web Open Font Format</em> (WOFF) ファイルを使うときには、追加の <code>svg-woff</code> スイッチが必要となります。</td></tr>
</table>

<p><strong>SVG バッグエンド出力の注意:</strong>
LilyPond のデフォルトフォント（<code>LilyPond Serif</code>,
<code>LilyPond Sans Serif</code> と <code>LilyPond Monospace</code>）は、まさに <em>ローカル</em> フォントエイリアスです。そのため、<code>svg</code> バックエンドを使う場合は、ソースファイルで明示的にデフォルトフォントを設定する必要があります;
</p>
<blockquote><pre class="verbatim">\paper  {
  #(define fonts
    (make-pango-font-tree &quot;TeX Gyre Schola&quot;
                          &quot;TeX Gyre Heros&quot;
                          &quot;TeX Gyre Cursor&quot;
                          (/ staff-height pt 20)))
}
</pre></blockquote>

<a name="index-_30c9_30ad_30e5_30e1_30f3_30c8_5168_4f53_306e_30d5_30a9_30f3_30c8"></a>
<p><a href="notation-big-page.ja.html#entire-document-fonts">ドキュメント全体のフォント</a> も参照してください。
</p>
<table>
<tr><td width="33%"><code>check-internal-types</code></td><td width="16%"><code>#f</code></td><td width="51%">Check every property assignment for types.</td></tr>
<tr><td width="33%"><code>clip-systems</code></td><td width="16%"><code>#f</code></td><td width="51%">Extract music fragments out of a score.  This requires that the
<code>clip-regions</code> function has been defined within the <code>\layout</code>
block.  See <a name="index-Extracting-fragments-of-music"></a>
<a href="notation-big-page.ja.html#extracting-fragments-of-music">Extracting fragments of music</a>.  No fragments are
extracted though if used with the &lsquo;<samp>-dno-print-pages</samp>&rsquo; option.</td></tr>
<tr><td width="33%"><code>datadir</code></td><td width="16%"></td><td width="51%">Prefix for data files (read-only).</td></tr>
<tr><td width="33%"><code>debug-gc</code></td><td width="16%"><code>#f</code></td><td width="51%">Dump memory debugging statistics.</td></tr>
<tr><td width="33%"><code>debug-gc-assert-parsed-dead</code></td><td width="16%"><code>#f</code></td><td width="51%">For memory debugging: Ensure that all references to parsed objects
are dead. This is an internal option, and is switched on automatically
for <code>`-ddebug-gc'</code>.</td></tr>
<tr><td width="33%"><code>debug-lexer</code></td><td width="16%"><code>#f</code></td><td width="51%">Debug the flex lexer.</td></tr>
<tr><td width="33%"><code>debug-page-breaking-scoring</code></td><td width="16%"><code>#f</code></td><td width="51%">Dump scores for many different page breaking configurations.</td></tr>
<tr><td width="33%"><code>debug-parser</code></td><td width="16%"><code>#f</code></td><td width="51%">Debug the bison parser.</td></tr>
<tr><td width="33%"><code>debug-property-callbacks</code></td><td width="16%"><code>#f</code></td><td width="51%">Debug cyclic callback chains.</td></tr>
<tr><td width="33%"><code>debug-skylines</code></td><td width="16%"><code>#f</code></td><td width="51%">Debug skylines.</td></tr>
<tr><td width="33%"><code>delete-intermediate-files</code></td><td width="16%"><code>#t</code></td><td width="51%">コンパイルの途中で作成される使用しない中間ファイル <code>.ps</code> を削除します。</td></tr>
<tr><td width="33%"><code>dump-cpu-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">CPU 時間情報を吐き出します (システムに依存します)。</td></tr>
<tr><td width="33%"><code>dump-profile</code></td><td width="16%"><code>#f</code></td><td width="51%">各ファイルのメモリと CPU 時間情報を吐き出します。</td></tr>
<tr><td width="33%"><code>dump-signatures</code></td><td width="16%"><code>#f</code></td><td width="51%">Dump output signatures of each system. Used for regression testing.</td></tr>
<tr><td width="33%"><code>eps-box-padding</code></td><td width="16%"><code>#f</code></td><td width="51%">出力される EPS の左端に与えられた数の余白を追加します
(単位は mm です)。</td></tr>
<tr><td width="33%"><code>gs-load-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">Ghostscript 経由でフォントを読み込みます。</td></tr>
<tr><td width="33%"><code>gs-load-lily-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">LilyPond のフォントだけを Ghostscript 経由で読み込みます。</td></tr>
<tr><td width="33%"><code>gui</code></td><td width="16%"><code>#f</code></td><td width="51%">出力を表示せずに処理を行い、すべての出力をログ ファイルにリダイレクトします。</td></tr>
</table>

<p><strong>Windows ユーザへの注意:</strong> <code>lilypond.exe</code> がデフォルトですべての進捗情報をコマンド ウィンドウに出力するのに対して、<code>lilypond-windows.exe</code> は進捗情報を出力しません。&lsquo;<samp>-dgui</samp>&rsquo; オプションを用いることで、出力をログ ファイルにリダイレクトさせることができます。
</p>
<table>
<tr><td width="33%"><code>help</code></td><td width="16%"><code>#f</code></td><td width="51%">このヘルプを表示します。</td></tr>
<tr><td width="33%"><code>include-book-title-preview</code></td><td width="16%"><code>#t</code></td><td width="51%">プレビュー画像にブック タイトルを含めます。</td></tr>
<tr><td width="33%"><code>include-eps-fonts</code></td><td width="16%"><code>#t</code></td><td width="51%">システム毎の EPS ファイルにフォントを含めます。</td></tr>
<tr><td width="33%"><code>include-settings</code></td><td width="16%"><code>#f</code></td><td width="51%">グローバル設定のファイルをインクルードします。このファイルは楽譜の処理が開始する前にインクルードされます。</td></tr>
<tr><td width="33%"><code>job-count</code></td><td width="16%"><code>#f</code></td><td width="51%">与えられた数のジョブで、並行して処理します。</td></tr>
<tr><td width="33%"><code>log-file</code></td><td width="16%"><code>#f [file]</code></td><td width="51%">2 番目の引数として文字列 <code>FOO</code> が与えられた場合、出力をログ ファイル <code>FOO</code> にリダイレクトします。</td></tr>
<tr><td width="33%"><code>max-markup-depth</code></td><td width="16%"><code>1024</code></td><td width="51%">マークアップ ツリーの階層の最大値です。それよりも深い階層を持つマーックアップがある場合、そのマークアップは終了していないと見なされて、警告が表示され、null マークアップが返されます。</td></tr>
<tr><td width="33%"><code>midi-extension</code></td><td width="16%"><code>&quot;midi&quot;</code></td><td width="51%">MIDI 出力ファイルのデフォルトのファイル拡張子を与えられた文字列に設定します。</td></tr>
<tr><td width="33%"><code>music-strings-to-paths</code></td><td width="16%"><code>#f</code></td><td width="51%">Convert text strings to paths when glyphs belong to a music font.</td></tr>
<tr><td width="33%"><code>paper-size</code></td><td width="16%"><code>\&quot;a4\&quot;</code></td><td width="51%">デフォルトの紙面サイズを設定します。文字列をエスケープ記号付の 2 重引用符 <code>\&quot;</code> で囲む必要があることに注意してください。</td></tr>
<tr><td width="33%"><code>pixmap-format</code></td><td width="16%"><code>png16m</code></td><td width="51%">画像出力のための GhostScript の出力フォーマットを設定します。</td></tr>
<tr><td width="33%"><code>point-and-click</code></td><td width="16%"><code>#t</code></td><td width="51%">PDF と SVG 出力に &lsquo;ポイント＆クリック&rsquo; リンクを付け加えます。<a href="#point-and-click">ポイント＆クリック</a> を参照してください。</td></tr>
<tr><td width="33%"><code>preview</code></td><td width="16%"><code>#f</code></td><td width="51%">通常の出力に加えてプレビュー画像を作成します。</td></tr>
</table>

<p>このオプションはすべてのバックエンド
&ndash; <code>pdf</code>, <code>png</code>, <code>ps</code>, <code>eps</code>, それに <code>svg</code> &ndash;
でサポートされますが、<code>scm</code> ではサポートされません。このオプションはタイトルと楽譜の最初の段を保持するファイル
&ndash; <code>myFile.preview.extension</code> という形式のファイル名を持ちます &ndash;
を出力します。<code>\book</code> ブロックや <code>\bookpart</code> ブロックが使われている場合、<code>\book</code>, <code>\bookpart</code>, それに <code>\score</code> のタイトルが出力に譜刻され、<code>\paper</code> 変数 <code>print-all-headers</code> が <code>#t</code> にセットされている場合は各 <code>\score</code> ブロックの最初の段も譜刻されます。
</p>
<p>通常の出力を抑制するには、必要に応じて &lsquo;<samp>-dprint-pages</samp>&rsquo; オプションまたは &lsquo;<samp>-dno-print-pages</samp>&rsquo; オプションを使ってください。
</p>
<table>
<tr><td width="33%"><code>print-pages</code></td><td width="16%"><code>#t</code></td><td width="51%">すべてのページを生成します。これがデフォルトです。&lsquo;<samp>-dpreview</samp>&rsquo;
を使う場合は &lsquo;<samp>-dno-print-pages</samp>&rsquo; を組み合わせると有用です。</td></tr>
<tr><td width="33%"><code>profile-property-accesses</code></td><td width="16%"><code>#f</code></td><td width="51%"><code>get_property()</code> 関数呼び出しの統計を取ります。</td></tr>
<tr><td width="33%"><code>protected-scheme-parsing</code></td><td width="16%"><code>#t</code></td><td width="51%">パーサでインライン Scheme のエラーが発生しても処理を続けます。<code>#f</code> に設定されている場合、エラー終了して、スタック トレースを表示します。</td></tr>
<tr><td width="33%"><code>read-file-list</code></td><td width="16%"><code>#f [file]</code></td><td width="51%">処理する入力ファイルのリストを保持するファイルを指定します。</td></tr>
<tr><td width="33%"><code>relative-includes</code></td><td width="16%"><code>#f</code></td><td width="51%"><code>\include</code> コマンドを処理するとき、インクルードするファイルを(ルート ファイルからではなく) カレント ファイルからの相対位置で検索します。</td></tr>
<tr><td width="33%"><code>resolution</code></td><td width="16%"><code>101</code></td><td width="51%">生成する <code>PNG</code> 画像の解像度を与えられた値に設定します。単位は dpi です。</td></tr>
<tr><td width="33%"><code>safe</code></td><td width="16%"><code>#f</code></td><td width="51%"><code>.ly</code> 入力ファイルを信用しません。</td></tr>
</table>

<p>Web サーバ経由で LilyPond 譜刻が利用可能な場合、&lsquo;<samp>--safe</samp>&rsquo;
オプションか &lsquo;<samp>--jail</samp>&rsquo; オプションのどちらかを
<b>指定する必要があります</b>。&lsquo;<samp>--safe</samp>&rsquo; オプションはインライン Scheme コードが無茶をする
&ndash; 例えば、以下のような &ndash; ことを防ぎます。
</p>
<blockquote><pre class="verbatim">#(s ystem &quot;rm -rf /&quot;) % 正しく書くのはあまりにも危険
{
  c4^$(ly:gulp-file &quot;/etc/passwd&quot;) % 破壊的ではないが悪意がある
}
</pre></blockquote>

<p>&lsquo;<samp>-dsafe</samp>&rsquo; オプションはインライン Scheme 表記を特別なセーフ
モジュールの中で評価します。これは GUILE &lsquo;<tt>safe-r5rs</tt>&rsquo; モジュールに由来しますが、&lsquo;<tt>scm/safe-lily.scm</tt>&rsquo; でリスト アップされている LilyPond API 関数のいくつかも追加されています。
</p>
<p>さらに、セーフ モードでは <code>\include</code> は許可されず、TeX 文字列の中でバックスラッシュを使うこともできません。また、セーフ モードでは LilyPond 変数を Scheme にインポートすることもできません。
</p>
<p>&lsquo;<samp>-dsafe</samp>&rsquo; はリソースの過使用を検出 <em>しません</em> ので、このオプションを指定してもプログラムをハングさせられる可能性があります
&ndash; 例えば、サイクリック (巡回) データ構造をバックエンドに埋め込むことによってです。
そのため、LilyPond を一般公開する Web サーバで使用する場合、プロセスのCPU とメモリ使用を制限すべきです。
</p>
<p>セーフ モードは多くの有用な LilyPond 楽譜断片がコンパイルされることを妨げます。
</p>
<p>&lsquo;<samp>--jail</samp>&rsquo; はさらに安全な代替手段ですが、セットアップにかかる手間も増えます。<a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a> を参照してください。
</p>
<table>
<tr><td width="33%"><code>separate-log-files</code></td><td width="16%"><code>#f</code></td><td width="51%">入力ファイル <code>FILE1.ly</code>, <code>FILE2.ly</code>, 等に対するログ
データをファイル <code>FILE1.log</code>, <code>FILE2.log</code>&hellip; に出力します。</td></tr>
<tr><td width="33%"><code>show-available-fonts</code></td><td width="16%"><code>#f</code></td><td width="51%">使用可能なフォント名をリスト アップします。</td></tr>
<tr><td width="33%"><code>strict-infinity-checking</code></td><td width="16%"><code>#f</code></td><td width="51%">浮動小数点の例外 <code>Inf</code> と <code>NaN</code> に遭遇した時、強制終了します。</td></tr>
<tr><td width="33%"><code>strip-output-dir</code></td><td width="16%"><code>#t</code></td><td width="51%">出力ファイル名を構築する時に入力ファイルのディレクトリを使用しません。</td></tr>
<tr><td width="33%"><code>strokeadjust</code></td><td width="16%"><code>#f</code></td><td width="51%">Force PostScript stroke adjustment.  This option is mostly
relevant when a PDF is generated from PostScript output (stroke
adjustment is usually enabled automatically for low-resolution bitmap
devices).  Without this option, PDF previewers tend to produce widely
inconsistent stem widths at resolutions typical for screen display.  The
option does not noticeably affect print quality and causes large file
size increases in PDF files.</td></tr>
<tr><td width="33%"><code>svg-woff</code></td><td width="16%"><code>#f</code></td><td width="51%">このオプションは <code>svg</code> バックエンドで Web Open Format (WOFF)
フォントを使うために必要となります。ページ毎の SVG ファイルが全ページ分作られます。LilyPond 自身の音楽グリフを除き、フォントは埋め込まれません。そのため、テキストや歌詞の最適な描画を得るためには、SVG ビュアーにフォントが必要となります。SVG ビュアーが対応していないことがあるので、&lsquo;フォントエイリアス&rsquo; や &lsquo;フォントリスト&rsquo; を使用しないことをお勧めします。</td></tr>
<tr><td width="33%"><code>trace-memory-frequency</code></td><td width="16%"><code>#f</code></td><td width="51%">Scheme セルの 1 秒毎の使用数を記録します。結果を <code>FILE.stacks</code>
と <code>FILE.graph</code> に吐き出します。</td></tr>
<tr><td width="33%"><code>trace-scheme-coverage</code></td><td width="16%"><code>#f</code></td><td width="51%">Scheme ファイルの適用範囲を <code>FILE.cov</code> に記録します。</td></tr>
<tr><td width="33%"><code>verbose</code></td><td width="16%"><code>#f</code></td><td width="51%">饒舌な出力。つまり、loglevel を DEBUG に設定します。</td></tr>
<tr><td width="33%"><code>warning-as-error</code></td><td width="16%"><code>#f</code></td><td width="51%">すべての警告と &lsquo;プログラミング エラー&rsquo; をエラーに変更します。</td></tr>
</table>


<hr size="6">
<a name="g_t_74b0_5883_5909_6570"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#advanced-command-line-options-for-lilypond" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond の高度なコマンド ライン オプション&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-in-chroot-jail" title="次のセクション" accesskey="n" rel="next">&nbsp;chroot jail 環境で LilyPond を実行する &gt; </a>]</td></tr></table>
<a name="environment-variables"></a>
<h3 class="unnumberedsubsec">環境変数</h3>

<a name="index-LANG"></a>
<a name="index-LILYPOND_005fDATADIR"></a>

<p><code>lilypond</code> は以下の環境変数を認識します:
</p><dl compact="compact">
<dt> <code>LILYPOND_DATADIR</code></dt>
<dd><p>これはデフォルトで参照するロケール メッセージとデータ ファイルがあるディレクトリを指定します。このディレクトリは &lsquo;<tt>ly/</tt>&rsquo;, &lsquo;<tt>ps/</tt>&rsquo;, &lsquo;<tt>tex/</tt>&rsquo; などのサブディレクトリを保持しているべきです。
</p>
</dd>
<dt> <code>LANG</code></dt>
<dd><p>これは警告メッセージの言語を選択します。
</p>
</dd>
<dt> <code>LILYPOND_LOGLEVEL</code></dt>
<dd><p>デフォルトのログレベル。明示的にログレベルが指定されずに LilyPond が呼び出された場合
(すなわち &lsquo;<samp>--loglevel</samp>&rsquo; コマンド ライン オプションが指定されなかった場合)、この値が使用されます。
</p>
</dd>
<dt> <code>LILYPOND_GC_YIELD</code></dt>
<dd><p>メモリ管理を調節する変数 (単位はパーセント) です。大きな値は LilyPond に多くのメモリ使用を許し、小さな値だと CPU 使用時間が長くなります。デフォルト値は <code>70</code> です。
この変数を使ってメモリ使用量とパフォーマンスを調節することができます。これはメモリ管理の振る舞いを調整するパーセント値です。高い値にするとプログラムはより多くのメモリを使用し、低い値にするとより多くの CPU 時間を使用します。デフォルト値は <code>70</code> です。
</p>
</dd>
</dl>

<hr size="6">
<a name="chroot-jail-_74b0_5883_3067-LilyPond-_3092_5b9f_884c_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#environment-variables" title="前のセクション" accesskey="p" rel="previous"> &lt; 環境変数&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#command_002dline-usage" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;コマンド ラインの使用方法&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-messages" title="次のセクション" accesskey="n" rel="next">&nbsp;エラー メッセージ &gt; </a>]</td></tr></table>
<a name="lilypond-in-chroot-jail"></a>
<h3 class="unnumberedsubsec">chroot jail 環境で LilyPond を実行する</h3>

<p>LilyPond を chroot jail 環境で実行させるようサーバをセットアップすることは複雑な作業です。以下にステップをリスト アップします。各ステップの中にある例は Ubuntu GNU/Linux 用であり、<code>sudo</code> の使用が必要となるかもしれません。
</p>
<ul>
<li> 必要なパッケージをインストールします:
LilyPond, GhostScript, それに ImageMagick。

</li><li> <code>lily</code> という名前のユーザを作成します:

<blockquote><pre class="example">adduser lily
</pre></blockquote>

<p>このコマンドはユーザ <code>lily</code> のためにホーム フォルダ (<code>/home/lily</code>)
と新しいグループも作成します。
</p>
</li><li> ユーザ <code>lily</code> のホーム フォルダで、独立したファイルシステムとして使用するファイルを作成します:

<blockquote><pre class="example">dd if=/dev/zero of=/home/lily/loopfile bs=1k count= 200000
</pre></blockquote>

<p>このコマンドは jail ファイルシステムとして使用する
200MB のファイルを作成します。
</p>
</li><li> ループ デバイスを作成し、ファイルシステムを作ってそれをマウントし、それからユーザ <code>lily</code> が書き込めるフォルダを作成します:

<blockquote><pre class="example">mkdir /mnt/lilyloop
losetup /dev/loop0 /home/lily/loopfile
mkfs -t ext3 /dev/loop0 200000
mount -t ext3 /dev/loop0 /mnt/lilyloop
mkdir /mnt/lilyloop/lilyhome
chown lily /mnt/lilyloop/lilyhome
</pre></blockquote>

</li><li> サーバのコンフィグレーションで、JAIL は <code>/mnt/lilyloop</code> となり、DIR は <code>/lilyhome</code> となります。

</li><li> 以下に示すサンプル スクリプトのように必要なファイルをコピーして
jail の中に大きなディレクトリ ツリーを作成します。

<p><code>sed</code> を使うことで必要な実行形式ファイルをコピーすることができます:
</p>
<blockquote><pre class="example">for i in &quot;/usr/local/lilypond/usr/bin/lilypond&quot; &quot;/bin/sh&quot; &quot;/usr/bin/;  \
  do ldd $i | sed 's/.*=&gt; \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp;  \
    cp -L \/\1\2 \1\2/' | sed 's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p  \
      \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed '/.*=&gt;.*/d'; done
</pre></blockquote>

</li></ul>

<a name="g_t32_002dbit-Ubuntu-8_002e04-_7528_306e_30b9_30af_30ea_30d7_30c8_4f8b"></a>
<h3 class="subheading">32-bit Ubuntu 8.04 用のスクリプト例</h3>

<blockquote><pre class="example">#!/bin/sh
## defaults set here

username=lily
home=/home
loopdevice=/dev/loop0
jaildir=/mnt/lilyloop
# the prefix (without the leading slash!)
lilyprefix=usr/local
# the directory where lilypond is installed on the system
lilydir=/$lilyprefix/lilypond/

userhome=$home/$username
loopfile=$userhome/loopfile
adduser $username
dd if=/dev/zero of=$loopfile bs=1k count=200000
mkdir $jaildir
losetup $loopdevice $loopfile
mkfs -t ext3 $loopdevice 200000
mount -t ext3 $loopdevice $jaildir
mkdir $jaildir/lilyhome
chown $username $jaildir/lilyhome
cd $jaildir

mkdir -p bin usr/bin usr/share usr/lib usr/share/fonts $lilyprefix tmp
chmod a+w tmp

cp -r -L $lilydir $lilyprefix
cp -L /bin/sh /bin/rm bin
cp -L /usr/bin/convert /usr/bin/gs usr/bin
cp -L /usr/share/fonts/truetype usr/share/fonts

# Now the library copying magic
for i in &quot;$lilydir/usr/bin/lilypond&quot; &quot;$lilydir/usr/bin/guile&quot; &quot;/bin/sh&quot;  \
  &quot;/bin/rm&quot; &quot;/usr/bin/gs&quot; &quot;/usr/bin/convert&quot;; do ldd $i | sed 's/.*=&gt;  \
    \/\(.*\/\)\([^(]*\).*/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/' | sed  \
      's/\t\/\(.*\/\)\(.*\) (.*)$/mkdir -p \1 \&amp;\&amp; cp -L \/\1\2 \1\2/'  \
        | sed '/.*=&gt;.*/d'; done | sh -s

# The shared files for ghostscript...
      cp -L -r /usr/share/ghostscript usr/share
# The shared files for ImageMagick
      cp -L -r /usr/lib/ImageMagick* usr/lib

### Now, assuming that you have test.ly in /mnt/lilyloop/lilyhome,
### you should be able to run:
### Note that /$lilyprefix/bin/lilypond is a script, which sets the
### LD_LIBRARY_PATH - this is crucial
      /$lilyprefix/bin/lilypond -jlily,lily,/mnt/lilyloop,/lilyhome test.ly
</pre></blockquote>



<hr size="6">
<a name="g_t_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-in-chroot-jail" title="前のセクション" accesskey="p" rel="previous"> &lt; chroot jail 環境で LilyPond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#common-errors" title="次のセクション" accesskey="n" rel="next">&nbsp;一般的なエラー &gt; </a>]</td></tr></table>
<a name="error-messages"></a>
<h2 class="section">1.3 エラー メッセージ</h2>

<a name="index-error-messages-_0028_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8_0029"></a>
<p>ファイルのコンパイルの最中にはさまざまなエラー メッセージが表示される可能性があります。
</p>
<dl compact="compact">
<dt> <em>Warning</em></dt>
<dd><a name="index-warning-_0028_8b66_544a_0029"></a>
<p>何か疑わしいことがあります。あなたが何か普通でないことをリクエストしている場合は、そのメッセージを理解して、それを無視することができます。しかしながら、Warning は通常、入力ファイルに何か問題があることを示しています。
</p>
</dd>
<dt> <em>Error</em></dt>
<dd><p>何か明らかに問題があります。カレントの処理ステップ (構文解析、構文解釈、フォーマット) は終了され、次のステップは飛ばされます。
</p>
</dd>
<dt> <em>Fatal error</em></dt>
<dd><a name="index-error-_0028_30a8_30e9_30fc_0029"></a>
<a name="index-fatal-error-_0028_81f4_547d_7684_306a_30a8_30e9_30fc_0029"></a>
<p>何か明らかに問題があり、LilyPond はコンパイルを続けられません。これが起きることは稀です。これが起こるのはたいてい、フォントのインストールに問題があるためです。
</p>
</dd>
<dt> <em>Scheme error</em></dt>
<dd><a name="index-trace_002c-Scheme-_0028Scheme-_30c8_30ec_30fc_30b9_0029"></a>
<a name="index-call-trace-_0028_30c8_30ec_30fc_30b9_3092_547c_3073_51fa_3059_0029"></a>
<a name="index-Scheme-error-_0028Scheme-_30a8_30e9_30fc_0029"></a>
<p>Scheme コードの実行中に発生するこのエラーは
Scheme インタプリタによって引き起こされます。冗長オプション
(&lsquo;<samp>-V</samp>&rsquo; または &lsquo;<samp>--verbose</samp>&rsquo;)
付きで実行している場合、問題となっている関数呼び出しの呼び出し追跡が表示されます。
</p>
</dd>
<dt> <em>Programming error</em></dt>
<dd><a name="index-Programming-error-_0028_30d7_30ed_30b0_30e9_30df_30f3_30b0-_30a8_30e9_30fc_0029"></a>
<p>内部的な矛盾があります。このエラー メッセージはプログラマとデバッガを助けることを意図したものです。通常、それらは無視できます。時々、それらは非常に大きなメッセージとなり、他の出力を見えにくくします。
</p>
</dd>
<dt> <em>Aborted (core dumped)</em></dt>
<dd><p>これは、プログラムをクラッシュさせる深刻なプログラミング エラーを示しています。そのようなエラーは決定的なものだと考えられます。あなたがそのようなエラーでつまずいた場合、バグ レポートを送ってください。
</p></dd>
</dl>

<a name="index-errors_002c-message-format-_0028_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8_306e_5f62_5f0f_0029"></a>
<p>警告とエラーを入力ファイルのある部分にリンクさせることが可能な場合、エラー メッセージは以下のような形式になります:
</p>
<blockquote><pre class="example"><var>filename</var>:<var>lineno</var>:<var>columnno</var>: <var>message</var>
<var>offending input line</var>
</pre></blockquote>

<p>エラーが見つかった場所を示すために問題のある行に改行が挿入されます。例えば:
</p>
<blockquote><pre class="example">test.ly:2:19: error: not a duration: 5
  { c'4 e'
           5 g' }
</pre></blockquote>

<p>これらの位置は LilyPond が警告やエラーが発生した位置を最善を尽くして推測したものですが、(ごく当たり前のことですが) 警告とエラーは何か予期しないことが起こったときに発生するものです。入力ファイルの示された行にエラーを見つけることができない場合は、示された位置の 1 行か 2 行上をチェックしてみてください。
</p>
<p>診断は多くの処理段階のあらゆる時点で発生し得ることに注意してください。例えば、入力が複数回処理される（つまり、MIDI とレイアウト出力）または同じ音楽変数がコンテキストで使われると、同じメッセージが何回か現れることがあります。
</p>
<p>エラーについての更なる情報が <a href="#common-errors">一般的なエラー</a> で提供されています。
</p>

<hr size="6">
<a name="g_t_4e00_822c_7684_306a_30a8_30e9_30fc"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-messages" title="前のセクション" accesskey="p" rel="previous"> &lt; エラー メッセージ&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#running-lilypond" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-runs-off-the-page" title="次のセクション" accesskey="n" rel="next">&nbsp;楽譜がページからはみ出る &gt; </a>]</td></tr></table>
<a name="common-errors"></a>
<h2 class="section">1.4 一般的なエラー</h2>

<p>以下で説明するエラーがしばしば発生しますが、その原因は明白でなかったり、見つけにくかったりします。目を通しておくと、それらのエラーに対処しやすくなります。
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#music-runs-off-the-page" accesskey="1">楽譜がページからはみ出る</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#an-extra-staff-appears" accesskey="2">余計な譜が表示される</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unbound-variable-_0025" accesskey="3">エラー メッセージ Unbound variable %</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname" accesskey="4">エラー メッセージ FT_Get_Glyph_Name</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#warning-staff-affinities-should-only-decrease" accesskey="5">警告 &ndash; Warning staff affinities should only decrease</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#error-message-unexpected-new" accesskey="6">Error message unexpected <code>\new</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" accesskey="7">Warning this voice needs a <code>\voiceXx</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t_697d_8b5c_304c_30da_30fc_30b8_304b_3089_306f_307f_51fa_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#common-errors" title="前のセクション" accesskey="p" rel="previous"> &lt; 一般的なエラー&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-extra-staff-appears" title="次のセクション" accesskey="n" rel="next">&nbsp;余計な譜が表示される &gt; </a>]</td></tr></table>
<a name="music-runs-off-the-page"></a>
<h3 class="unnumberedsubsec">楽譜がページからはみ出る</h3>

<p>楽譜がページの右マージンを越えてはみ出る、あるいは過度に密集するのは、ほぼ間違いなく音符の演奏時間に誤りがあり、小節の最後の音符が小節線を越えてしまうためです。ある小節の最後の音符が自動的に挿入される小節線の所で終わらなくても無効ではありません。なぜなら、その音符は次の小節に持ち越されるためです。しかしながら、そのような持ち越しが発生する小節が長く続くと、楽譜は密集して表示されたり、ページからはみ出たりします。ページからはみ出るのは、自動改行を挿入できるのは正しく終了する小節
(その小節のすべての音符が小節の中で終了しています)
の後ろだけだからです。</p>
<div class="warning"><p><strong>Note:</strong> 誤った演奏時間は改行を抑制し、結果として楽譜が過度に密集したり、c&nbsp;ページからはみ出たりする可能性が生じます。
</p>
</div>
<p>小節チェックを使用していれば、誤った演奏時間を簡単に見つけることができます。<a name="index-_5c0f_7bc0_3068_5c0f_7bc0_756a_53f7_306e_30c1_30a7_30c3_30af"></a>
<a href="notation-big-page.ja.html#bar-and-bar-number-checks">小節と小節番号のチェック</a> を参照してください。
</p>
<p>あなたがそのような音符が持ち越される小節を続けることを意図しているのであれば、改行させたい場所に不可視の小節線を挿入する必要があります。詳細は
<a name="index-_5c0f_7bc0_7dda"></a>
<a href="notation-big-page.ja.html#bar-lines">小節線</a> を参照してください。
</p>

<hr size="6">
<a name="g_t_4f59_8a08_306a_8b5c_304c_8868_793a_3055_308c_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-runs-off-the-page" title="前のセクション" accesskey="p" rel="previous"> &lt; 楽譜がページからはみ出る&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="次のセクション" accesskey="n" rel="next">&nbsp;エラー メッセージ Unbound variable % &gt; </a>]</td></tr></table>
<a name="an-extra-staff-appears"></a>
<h3 class="unnumberedsubsec">余計な譜が表示される</h3>

<p>コンテキストが <code>\new</code> や <code>\context</code> で明示的に作成されていない場合、既存のコンテキストには適用できないコマンドに遭遇した時点で暗黙的に作成されます。単純な楽譜では、コンテキストの自動作成は有用であり、LilyPond マニュアルのほとんどの例はこの手法を用いています。しかしながら、コンテキストの暗黙的な作成はしばしば予期しない譜や楽譜を発生させてしまいます。例えば、以下のコードは後に続く譜の中にあるすべての符頭を赤にすることを意図していますが、結果は 2 つの譜が表示され、下の譜の符頭の色はデフォルトの黒のままとなります。
</p>
<blockquote><pre class="verbatim">\override Staff.NoteHead.color = #red
\new Staff { a' }
</pre><p>
 <a href="a3/lily-8a95f028.ly">
  <img align="middle"
       border="0"
       src="a3/lily-8a95f028.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>これは、(符頭色の) オーバライドが処理される時に
<code>Staff</code> コンテキストが存在していないため、<code>Staff</code> コンテキストが暗黙的に作成され、そのコンテキストにオーバライドが適用されるからです。その後に <code>\new Staff</code> コマンドによりもう 1 つ別の <code>Staff</code> コンテキストが作成され、そこに音符が配置されます。すべての符頭を赤にする正しいコードは以下のようになります:
</p>
<blockquote><pre class="verbatim">\new Staff {
  \override Staff.NoteHead.color = #red
  a'
}
</pre><p>
 <a href="1a/lily-c0a863c0.ly">
  <img align="middle"
       border="0"
       src="1a/lily-c0a863c0.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="g_t_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-Unbound-variable-_0025"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-extra-staff-appears" title="前のセクション" accesskey="p" rel="previous"> &lt; 余計な譜が表示される&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="次のセクション" accesskey="n" rel="next">&nbsp;エラー メッセージ FT_Get_Glyph_Name &gt; </a>]</td></tr></table>
<a name="error-message-unbound-variable-_0025"></a>
<h3 class="unnumberedsubsec">エラー メッセージ Unbound variable %</h3>

<p>このエラー メッセージは、<em>Scheme</em> 形式ではなく <em>LilyPond</em> 形式のコメントを含む Scheme ルーチンが呼び出されるたびに、コンソール出力またはログ ファイルの最後に表示されます。
</p>
<p>LilyPond 形式のコメントはパーセント記号 (<code>%</code>) で始まり、Scheme ルーチンの中で使うことはできません。Scheme 形式のコメントはセミコロン (<code>;</code>) で始まります。
</p>
<hr size="6">
<a name="g_t_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-FT_005fGet_005fGlyph_005fName"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unbound-variable-_0025" title="前のセクション" accesskey="p" rel="previous"> &lt; エラー メッセージ Unbound variable %&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="次のセクション" accesskey="n" rel="next">&nbsp;警告 -- Warning staff affinities should only decrease &gt; </a>]</td></tr></table>
<a name="error-message-ft_005fget_005fglyph_005fname"></a>
<h3 class="unnumberedsubsec">エラー メッセージ FT_Get_Glyph_Name</h3>

<p>入力ファイルが非 ASCII キャラクタを保持していて、UTF-8 エンコードで保存されていない場合、このエラー メッセージがコンソール出力やログ ファイルに表示されます。詳細は、
<a name="index-Text-encoding"></a>
<a href="notation-big-page.ja.html#text-encoding">Text encoding</a> を参照してください。
</p>

<hr size="6">
<a name="g_t_8b66_544a-_002d_002d-Warning-staff-affinities-should-only-decrease"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-ft_005fget_005fglyph_005fname" title="前のセクション" accesskey="p" rel="previous"> &lt; エラー メッセージ FT_Get_Glyph_Name&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#error-message-unexpected-new" title="次のセクション" accesskey="n" rel="next">&nbsp;Error message unexpected new &gt; </a>]</td></tr></table>
<a name="warning-staff-affinities-should-only-decrease"></a>
<h3 class="unnumberedsubsec">警告 &ndash; Warning staff affinities should only decrease</h3>

<p>この警告は、譜刻された出力の中に譜が無い場合に表示されます。例えば、リード譜に <code>ChordName</code> コンテキストと <code>Lyrics</code> コンテキストしか無い場合です。この警告は、入力の始めに以下を挿入することで譜として振舞うコンテキストを作ることで回避できます:
</p>
<blockquote><pre class="example">\override VerticalAxisGroup.staff-affinity = ##f
</pre></blockquote>

<p>詳細は <a name="index-_30b7_30b9_30c6_30e0_5185_90e8_306e_53ef_5909_306a_5782_76f4_65b9_5411_306e_30b9_30da_30fc_30b9"></a>
<a href="notation-big-page.ja.html#flexible-vertical-spacing-within-systems">システム内部の可変な垂直方向のスペース</a> の
&ldquo;譜ではない行のスペース&rdquo; を参照してください。
</p>

<hr size="6">
<a name="Error-message-unexpected-new"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#warning-staff-affinities-should-only-decrease" title="前のセクション" accesskey="p" rel="previous"> &lt; 警告 -- Warning staff affinities should only decrease&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" title="次のセクション" accesskey="n" rel="next">&nbsp;Warning this voice needs a voiceXx or shiftXx setting &gt; </a>]</td></tr></table>
<a name="error-message-unexpected-new"></a>
<h3 class="unnumberedsubsec">Error message unexpected <code>\new</code></h3>

<p>A <code>\score</code> block must contain a <em>single</em> music expression.
If instead it contains several <code>\new Staff</code>,
<code>\new StaffGroup</code> or similar contexts introduced with <code>\new</code>
without them being enclosed in either curly brackets,
<code>{ &hellip; }</code>, or double angle brackets, <code>&lt;&lt; &hellip; &gt;&gt;</code>,
like this:
</p>
<blockquote><pre class="example">\score {
  % Invalid! Generates error: syntax error, unexpected \new
  \new Staff { &hellip; }
  \new Staff { &hellip; }
}
</pre></blockquote>

<p>the error message will be produced.
</p>
<p>To avoid the error, enclose all the <code>\new</code> statements in
curly or double angle brackets.
</p>
<p>Using curly brackets will introduce the <code>\new</code> statements
sequentially:
</p>
<blockquote><pre class="verbatim">\score {
  {
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  }
}
</pre><p>
 <a href="2e/lily-9b22173f.ly">
  <img align="middle"
       border="0"
       src="2e/lily-9b22173f.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>but more likely you should be using double angle brackets so the new
staves are introduced in parallel, i.e. simultaneously:
</p>
<blockquote><pre class="verbatim">\score {
  &lt;&lt;
    \new Staff { a' a' a' a' }
    \new Staff { g' g' g' g' }
  &gt;&gt;
}
</pre><p>
 <a href="06/lily-77b293ac.ly">
  <img align="middle"
       border="0"
       src="06/lily-77b293ac.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<hr size="6">
<a name="Warning-this-voice-needs-a-voiceXx-or-shiftXx-setting"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#updating-files-with-convert_002dly" title="次の章">&nbsp;convert-ly を使ってファイルを更新する &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#error-message-unexpected-new" title="前のセクション" accesskey="p" rel="previous"> &lt; Error message unexpected new&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#common-errors" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;一般的なエラー&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#updating-files-with-convert_002dly" title="次のセクション" accesskey="n" rel="next">&nbsp;convert-ly を使ってファイルを更新する &gt; </a>]</td></tr></table>
<a name="warning-this-voice-needs-a-voicexx-or-shiftxx-setting"></a>
<h3 class="unnumberedsubsec">Warning this voice needs a <code>\voiceXx</code></h3>
<p> or <code>\shiftXx</code> setting
</p>
<p>If notes from two different voices with stems in the same direction
occur at the same musical moment, but the voices have no
voice-specific shifts specified, the warning message
&lsquo;<samp>warning: this voice needs a \voiceXx or \shiftXx setting</samp>&rsquo; will appear
when compiling the LilyPond file.  This warning will appear even when
the notes have no visible stems, e.g. whole notes, if the stems for
shorter notes at the same pitch would be in the same direction.
</p>
<p>Remember that the stem direction depends on the position of the
note on the staff unless the stem direction is specified, for example
by using <code>\voiceOne</code>, etc.  In this case the warning will appear
only when the stems happen to be in the same direction, i.e. when the
notes are in the same half of the staff.
</p>
<p>By placing the notes in voices with stem directions and shifts
specified, for example by using <code>\voiceOne</code>, etc., these warnings
may be avoided.
</p>
<p>Notes in higher numbered voices, <code>\voiceThree</code> etc., are
automatically shifted to avoid clashing note columns.  This causes a
visible shift for notes with stems, but whole notes are not visibly
shifted unless an actual clash of the note heads occurs, or when the
voices cross over from their natural order (when <code>\voiceThree</code>
is higher than <code>\voiceOne</code>, etc.)
</p>
<a name="g_t_53c2_7167-1"></a>
<h4 class="subsubheading">参照</h4>
<a name="index-Explicitly-instantiating-voices"></a>
<p><a href="learning-big-page.ja.html#explicitly-instantiating-voices">Explicitly instantiating voices</a>,
<a name="index-Real-music-example"></a>
<a href="learning-big-page.ja.html#real-music-example">Real music example</a>,
<a name="index-Single_002dstaff-polyphony"></a>
<a href="notation-big-page.ja.html#single_002dstaff-polyphony">Single-staff polyphony</a>,
<a name="index-Collision-resolution"></a>
<a href="notation-big-page.ja.html#collision-resolution">Collision resolution</a>.
</p>




<hr size="6">
<a name="convert_002dly-_3092_4f7f_3063_3066_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#running-lilypond" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond を実行する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting" title="前のセクション" accesskey="p" rel="previous"> &lt; Warning this voice needs a voiceXx or shiftXx setting&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="次のセクション" accesskey="n" rel="next">&nbsp;何故構文は変更されるのか？ &gt; </a>]</td></tr></table>
<a name="updating-files-with-convert_002dly"></a>
<h1 class="chapter">2. <code>convert-ly</code> を使ってファイルを更新する</h1>

<a name="index-Updating-a-LilyPond-file-_0028LilyPond-_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b_0029"></a>
<a name="index-convert_002dly"></a>

<p>LilyPond の入力構文は、さまざまな方法で単純化または改善するために、定期的に変更されます。その副作用として、LilyPond のインタプリタはしばしば古い入力ファイルと互換性を持たなくなります。これを救済するために、プログラム <code>convert-ly</code> を用いることで、たいていの LilyPond のバージョン間での構文変更を処理することができます。
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#why-does-the-syntax-change_003f" accesskey="1">2.1 何故構文は変更されるのか？</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-convert_002dly" accesskey="2">2.2 <code>convert-ly</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#command-line-options-for-convert_002dly" accesskey="3">2.3 <code>convert-ly</code> のコマンド ライン オプション</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#problems-running-convert_002dly" accesskey="4">2.4 <code>convert-ly</code> の問題点</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#manual-conversions" accesskey="5">2.5 手動変換</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t_4f55_6545_69cb_6587_306f_5909_66f4_3055_308c_308b_306e_304b_ff1f"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#updating-files-with-convert_002dly" title="前のセクション" accesskey="p" rel="previous"> &lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-convert_002dly" title="次のセクション" accesskey="n" rel="next">&nbsp;convert-ly を呼び出す &gt; </a>]</td></tr></table>
<a name="why-does-the-syntax-change_003f"></a>
<h2 class="section">2.1 何故構文は変更されるのか？</h2>

<a name="index-convert_002dly-1"></a>
<a name="index-updating-old-input-files-_0028_53e4_3044_5165_529b_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b_0029"></a>

<p>LilyPond の入力構文はしばしば変更されます。LilyPond 自体が改良されるため、構文 (入力言語) もそれに合わせて変更されます。変更の目的は、入力ファイルを読みやすく、書きやすくするためであったり、LilyPond に新しい機能を持たせるためであったりします。
</p>
<p>例えば、<code>\paper</code> と <code>\layout</code> のプロパティ名は
<code>first-second-third</code> という形式で記述することになっています。しかしながら、バージョン 2.11.60 で <code>printallheaders</code> プロパティがこの規則に従っていないことが判明しました。放置すべきでしょうか？
(新しいユーザはつじつまの合わない入力形式で混乱するでしょう。)
それとも、変更すべきでしょうか？
(既存の楽譜を持つユーザには煩わしいことです。)
このケースでは、プロパティ名を  <code>print-all-headers</code> に変更することを決断しました。幸運なことに、この変更は <code>convert-ly</code> ツールで自動的に変換することができます。
</p>
<p>不幸なことに、<code>convert-ly</code> はすべての変更を処理できるわけではありません。例えば、バージョン 2.4 以前の LilyPond では、アクセント文字と非英語文字を LaTeX を用いて入力していました
&ndash; Christmas のフランス語は <code>No\&quot;el</code> のように入力されていました。しかしながら、バージョン 2.6 以降の LilyPond では、特殊文字 <code>Ã«</code> を UTF-8 文字として直接 LilyPond ファイルに入力することになりました。<code>convert-ly</code> はすべての LaTeX の特殊文字を UTF-8 文字に変換することはできません。手動で古い LilyPond 入力ファイルを更新する必要があります。
</p>

<hr size="6">
<a name="convert_002dly-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#why-does-the-syntax-change_003f" title="前のセクション" accesskey="p" rel="previous"> &lt; 何故構文は変更されるのか？&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="次のセクション" accesskey="n" rel="next">&nbsp;convert-ly のコマンド ライン オプション &gt; </a>]</td></tr></table>
<a name="invoking-convert_002dly"></a>
<h2 class="section">2.2 <code>convert-ly</code> を呼び出す</h2>

<p><code>convert-ly</code> は古いバージョン番号を検出するために入力ファイルの <code>version</code> ステートメントを使用します。たいていの場合、あなたの入力ファイルを更新するには、そのファイルを保持しているディレクトリで以下を実行することで十分です:
</p>
<blockquote><pre class="example">convert-ly -e myfile.ly
</pre></blockquote>

<p>これにより、<code>myfile.ly</code> は更新され、オリジナル ファイルは <code>myfile.ly~</code> に保存されます。
</p>
<div class="warning"><p><strong>Note:</strong> <code>convert-ly</code> のバージョンは、それが扱う最新の構文変更に合わせて変更されます。このため、入力ファイルの <code>version</code> 番号はたいてい<code>convert-ly</code> のバージョンよりも低いことになります。
</p>
</div>
<p>ディレクトリの中にある入力ファイルをすべて変換するには、以下のようにします:
</p>
<blockquote><pre class="example">convert-ly -e *.ly
</pre></blockquote>

<p>オリジナル ファイルをそのまま残しておき、
更新されたファイルに新しいファイル名を指定するには以下のようにします:
</p>
<blockquote><pre class="example">convert-ly myfile.ly &gt; mynewfile.ly
</pre></blockquote>

<p>このプログラムは変換元のバージョン番号をリストアップします。
バージョン番号がリストアップされない場合、そのファイルは最新であるということになります。
</p>
<p>MacOS&nbsp;X ユーザはこのコマンドをメニュー エントリ
(<code>Compile &gt; Update syntax</code>) 下で実行することになるかもしれません。
</p>
<p>Windows ユーザはこれらのコマンドを &lsquo;コマンド プロンプト&rsquo; ウィンドウから実行する必要があります。コマンド プロンプトは通常、<code>スタート &gt; アクセサリ &gt; コマンド プロンプト</code>
で見つかります。
</p>

<hr size="6">
<a name="convert_002dly-_306e_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-convert_002dly" title="前のセクション" accesskey="p" rel="previous"> &lt; convert-ly を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#problems-running-convert_002dly" title="次のセクション" accesskey="n" rel="next">&nbsp;convert-ly の問題点 &gt; </a>]</td></tr></table>
<a name="command-line-options-for-convert_002dly"></a>
<h2 class="section">2.3 <code>convert-ly</code> のコマンド ライン オプション</h2>

<p>一般に、このプログラムは以下のように呼び出されます:
</p>
<blockquote><pre class="example">convert-ly [<var>option</var>]&hellip; <var>filename</var>&hellip;
</pre></blockquote>

<p>以下のオプションを与えることができます:
</p>
<dl compact="compact">
<dt> <code>-d, --diff-version-update</code></dt>
<dd><p><code>\version</code> を最新に更新します。最新バージョンよりも大きい場合は何もしません。
</p>
</dd>
<dt> <code>-e, --edit</code></dt>
<dd><p>入力ファイルに直接変換を適用して、それをその場で変更します。
</p>
</dd>
<dt> <code>-f, --from=<var>from-patchlevel</var></code></dt>
<dd><p>変換元のバージョンをセットします。これがセットされていない場合、<code>convert-ly</code> は入力ファイルの中にある
<code>version</code> 文字列を基に推測します。例: &lsquo;<samp>--from=2.10.25</samp>&rsquo;
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>ヘルプ (使い方) を表示します。
</p>
</dd>
<dt> <code>-l <var>loglevel</var>, --loglevel=<var>loglevel</var></code></dt>
<dd><p>出力の饒舌さを <var>loglevel</var> にセットします。取り得る値は、大文字で、<code>PROGRESS</code> (デフォルト), <code>NONE</code>,
<code>WARNING</code>, <code>ERROR</code>, それに <code>DEBUG</code> です。
</p>
</dd>
<dt> <code>-n, --no-version</code></dt>
<dd><p>通常、<code>convert-ly</code> は <code>\version</code> インジケータを出力に付け加えます。このオプションを指定すると、それを抑制します。
</p>
</dd>
<dt> <code>-s, --show-rules</code></dt>
<dd><p>すべての変換を表示して、終了します。
</p>
</dd>
<dt> <code>-t, --to=<var>to-patchlevel</var></code></dt>
<dd><p>変換先のバージョンを明示してセットします。明示されない場合は、デフォルトで最新バージョンにセットします。
</p>
<blockquote><pre class="example">convert-ly --to=2.14.1 myfile.ly
</pre></blockquote>

</dd>
</dl>

<p>texinfo ファイルの中にある LilyPond 断片を更新するには以下を使用してください:
</p>
<blockquote><pre class="example">convert-ly --from=... --to=... --no-version *.itely
</pre></blockquote>

<p>2 つのバージョン間での LilyPond 構文の変更を調べるには、以下を使用してください:
</p>
<blockquote><pre class="example">convert-ly --from=... --to=... -s
</pre></blockquote>


<hr size="6">
<a name="convert_002dly-_306e_554f_984c_70b9"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#command-line-options-for-convert_002dly" title="前のセクション" accesskey="p" rel="previous"> &lt; convert-ly のコマンド ライン オプション&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#manual-conversions" title="次のセクション" accesskey="n" rel="next">&nbsp;手動変換 &gt; </a>]</td></tr></table>
<a name="problems-running-convert_002dly"></a>
<h2 class="section">2.4 <code>convert-ly</code> の問題点</h2>

<p>Windows の &lsquo;コマンド プロンプト&rsquo; ウィンドウからスペースを含むファイル名やパスを持つファイルに対してconvert-ly を実行する場合、入力ファイル名全体を 3 つ (!) のダブル クォートで囲む必要があります:
</p>
<blockquote><pre class="example">convert-ly &quot;&quot;&quot;D:/My Scores/Ode.ly&quot;&quot;&quot; &gt; &quot;D:/My Scores/new Ode.ly&quot;
</pre></blockquote>

<p><code>convert-ly -e *.ly</code> コマンドが展開時に長くなりすぎて失敗する場合、<code>convert-ly</code> コマンドをループさせてやります。以下の例は UNIX 用であり、カレント ディレクトリの中にあるすべての <code>.ly</code> ファイルを更新します:
</p>
<blockquote><pre class="example">for f in *.ly; do convert-ly -e $f; done;
</pre></blockquote>

<p>Windows の &lsquo;コマンド プロンプト&rsquo; ウィンドウでの上の例に対応するコマンドは以下の通りです:
</p>
<blockquote><pre class="example">for %x in (*.ly) do convert-ly -e &quot;&quot;&quot;%x&quot;&quot;&quot;
</pre></blockquote>

<p>言語の変更がすべて処理されるわけではありません。指定できる出力オプションは 1 つだけです。自動的に Scheme と更新することと
LilyPond の Scheme インタフェイスを更新することはまったく異なります。Scheme コードの調整は手動で行う覚悟でいてください。
</p>

<hr size="6">
<a name="g_t_624b_52d5_5909_63db"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond_002dbook" title="次の章">&nbsp;lilypond-book &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#problems-running-convert_002dly" title="前のセクション" accesskey="p" rel="previous"> &lt; convert-ly の問題点&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#updating-files-with-convert_002dly" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook" title="次のセクション" accesskey="n" rel="next">&nbsp;lilypond-book &gt; </a>]</td></tr></table>
<a name="manual-conversions"></a>
<h2 class="section">2.5 手動変換</h2>

<p>理論的には、<code>convert-ly</code> のようなプログラムはすべての構文変更を処理できます。
After all, a computer program interprets the old
version and the new version, so another computer program can
translate one file into another<sup><a name="DOCF2" href="#FOOT2">2</a></sup>.
</p>
<p>しかしながら、LilyPond プロジェクトの資源には限りがあり、すべての変換を自動化することはできません。以下は既知の問題のリストです。
</p>
<pre class="verbatim">1.6-&gt;2.0:
 Doesn't always convert figured bass correctly, specifically things like {&lt;
&gt;}.  Mats' comment on working around this:
   To be able to run convert-ly
   on it, I first replaced all occurrences of '{&lt;' to some dummy like '{#'
   and similarly I replaced '&gt;}' with '&amp;}'.  After the conversion, I could
   then change back from '{ #' to '{ &lt;' and from '&amp; }' to '&gt; }'.
 Doesn't convert all text markup correctly.  In the old markup syntax,
 it was possible to group a number of markup commands together within
parentheses, e.g.
   -#'((bold italic) &quot;string&quot;)
   This will incorrectly be converted into
   -\markup{{\bold italic} &quot;string&quot;}
   instead of the correct
   -\markup{\bold \italic &quot;string&quot;}
2.0-&gt;2.2:
 Doesn't handle \partcombine
 Doesn't do \addlyrics =&gt; \lyricsto, this breaks some scores with multiple
stanzas.
2.0-&gt;2.4:
 \magnify isn't changed to \fontsize.
    - \magnify #m =&gt; \fontsize #f, where f = 6ln(m)/ln(2)
 remove-tag isn't changed.
    - \applyMusic #(remove-tag '. . .) =&gt; \keepWithTag #'. . .
 first-page-number isn't changed.
    - first-page-number no =&gt; print-first-page-number = ##f
 Line breaks in header strings aren't converted.
    - \\\\  as line break in \header strings =&gt; \markup \center-align &lt;
      &quot;First Line&quot; &quot;Second Line&quot; &gt;
 Crescendo and decrescendo terminators aren't converted.
    - \rced =&gt; \!
    - \rc =&gt; \!
2.2-&gt;2.4:
 \turnOff (used in \set Staff.VoltaBracket = \turnOff) is not properly
converted.
2.4.2-&gt;2.5.9
 \markup{ \center-align &lt;{ ... }&gt; } should be converted to:
 \markup{ \center-align {\line { ... }} }
 but now, \line is missing.
2.4-&gt;2.6
 Special LaTeX characters such as $~$ in text are not converted to UTF8.
2.8
 \score{} must now begin with a music expression.  Anything else
 (particularly \header{}) must come after the music.
</pre>



<hr size="6">
<a name="lilypond_002dbook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#updating-files-with-convert_002dly" title="この章あるいは前の章の先頭"> &lt;&lt; convert-ly を使ってファイルを更新する&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#manual-conversions" title="前のセクション" accesskey="p" rel="previous"> &lt; 手動変換&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#an-example-of-a-musicological-document" title="次のセクション" accesskey="n" rel="next">&nbsp;音楽学のドキュメントの例 &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook"></a>
<h1 class="chapter">3. <code>lilypond-book</code> を実行する</h1>

<p>ドキュメントに楽譜の画像を追加したければ、他のタイプの画像を追加するのと同じ方法で追加することができます。ドキュメントとは別に画像を作成して、PostScript 出力や PNG 画像として保存して、LaTeX や HTML ドキュメントに組み込みます。
</p>
<p><code>lilypond-book</code> はこの処理を自動で行うための手段です:
このプログラムはドキュメントから楽譜のコード断片を抽出して、それらに対して <code>lilypond</code> を実行して、楽譜のコード断片を画像で置き換えたドキュメントを出力します。楽譜の線の太さやフォント サイズはドキュメントのレイアウトに調和するよう調節されます。
</p>
<p><code>lilypond-book</code> は <code>lilypond</code> とは別のプログラムであり、コマンド ラインで実行されます。更なる情報は <a href="#command_002dline-usage">コマンド ラインの使用方法</a> を参照してください。Windows や Mac OS X のコマンド ラインを用いて <code>lilypond-book</code> を実行しようとした際に問題があるようなら、<a name="index-Windows"></a>
<a href="web-big-page.ja.html#windows">Windows</a> や <a name="index-MacOS-X-1"></a>
<a href="web-big-page.ja.html#macos-x">MacOS X</a>
を参照してください。
</p>
<p>この処理は LaTeX, HTML, Texinfo, または DocBook のドキュメントに適用することができます。
</p>
<a name="index-texinfo"></a>
<a name="index-LaTex"></a>
<a name="index-texinfo-1"></a>
<a name="index-texi"></a>
<a name="index-HTML"></a>
<a name="index-docbook"></a>
<a name="index-documents_002c-adding-music-_0028_30c9_30ad_30e5_30e1_30f3_30c8_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029"></a>
<a name="index-HTML_002c-adding-music-_0028HTML-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029"></a>
<a name="index-Texinfo_002c-adding-music-_0028Texinfo-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029"></a>
<a name="index-DocBook_002c-adding-music-_0028DocBook-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029"></a>
<a name="index-LaTeX_002c-adding-music-_0028LaTeX-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#an-example-of-a-musicological-document" accesskey="1">3.1 音楽学のドキュメントの例</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#integrating-music-and-text" accesskey="2">3.2 楽譜とテキストを統合する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#music-fragment-options" accesskey="3">3.3 楽譜断片オプション</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-lilypond_002dbook" accesskey="4">3.4 <code>lilypond-book</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#filename-extensions" accesskey="5">3.5 ファイル拡張子</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond_002dbook-templates" accesskey="6">3.6 lilypond-book テンプレート</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#sharing-the-table-of-contents" accesskey="7">3.7 目次を共有する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#alternative-methods-of-mixing-text-and-music" accesskey="8">3.8 テキストと楽譜を組み合わせる他の方法</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="g_t_97f3_697d_5b66_306e_30c9_30ad_30e5_30e1_30f3_30c8_306e_4f8b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook" title="前のセクション" accesskey="p" rel="previous"> &lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#integrating-music-and-text" title="次のセクション" accesskey="n" rel="next">&nbsp;楽譜とテキストを統合する &gt; </a>]</td></tr></table>
<a name="an-example-of-a-musicological-document"></a>
<h2 class="section">3.1 音楽学のドキュメントの例</h2>

<a name="index-musicology-_0028_97f3_697d_5b66_0029"></a>
<p>テキストのなかには楽譜の例を保持しているものがあります。そのようなテキストには、音楽学の専門書、歌集、このドキュメントのようなマニュアルがあります。そのようなテキストを手作業で作成することができます
&ndash; PostScript 画像をワープロにインポートするといったようにです。しかしながら、HTML, LaTeX, Texinfo, それに DocBook ドキュメントの場合は、作業量を減らすための自動処理を利用することができます。
</p>
<p><code>lilypond-book</code> と呼ばれるスクリプトは楽譜の断片を抽出して、それらをフォーマットして、得られた楽譜をドキュメントに戻します。LaTeX に対するちょっとした使用例を示します。この例には説明文も含まれていますので、それ以上コメントすることはしません。
</p>
<a name="g_t_5165_529b"></a>
<h3 class="subheading">入力</h3>

<blockquote><pre class="verbatim">\documentclass[a4paper]{article}

\begin{document}

\verb+lilypond-book+ のドキュメントでは自由に楽譜とテキストを
組み合わせることができます。
例えば、以下のように:

\begin{lilypond}
\relative {
  c'2 e2 \tuplet 3/2 { f8 a b } a2 e4
}
\end{lilypond}

オプションは角括弧の中に配置します。

\begin{lilypond}[fragment,quote,staffsize=26,verbatim]
  c'4 f16
\end{lilypond}

大きな楽譜例は別のファイルに配置して、\verb+\lilypondfile+ で
インポートすることができます。

\lilypondfile[quote,noindent]{screech-and-boink.ly}

(必要があれば、@file{screech-and-boink.ly} をこのファイルと同じディレクトリ
にある任意の @file{.ly} に置き換えてください。)

\end{document}
</pre></blockquote>

<a name="g_t_51e6_7406"></a>
<h3 class="subheading">処理</h3>

<p>上記のコードを &lsquo;<tt>lilybook.lytex</tt>&rsquo; というファイル名で保存して、ターミナルで以下を実行します:
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf lilybook.lytex
<em>lilypond-book (GNU LilyPond) 2.19.65 </em>
<em>Reading lilybook.lytex...</em>
<em>..lots of stuff deleted..</em>
<em>Compiling lilybook.tex...</em>
cd out
pdflatex lilybook
<em>..lots of stuff deleted..</em>
xpdf lilybook
<em>(<code>xpdf</code> をお好みの PDF ビューアに置き換えてください)</em>
</pre></blockquote>

<p><code>lilypond-book</code> と <code>latex</code> を実行すると多くの一時ファイルが作成されて、作業ディレクトリを散らかします。散らかされることを防ぐには &lsquo;<samp>--output=<var>dir</var></samp>&rsquo; オプションを使います。このオプションを指定すると、一時ファイルはサブディレクトリ &lsquo;<tt>dir</tt>&rsquo;
に作成されます。
</p>
<p>以下に上記の LaTeX 例の結果を示します。<sup><a name="DOCF3" href="#FOOT3">3</a></sup>これでこのチュートリアル セクションを終わります。
</p>


<a name="g_t_51fa_529b"></a>
<h3 class="subheading">出力</h3>

<p><code>lilypond-book</code> のドキュメントでは自由に楽譜とテキストを
組み合わせることができます。
例えば、以下のように:
</p>
<p>
 <a href="a5/lily-9a0b8bc2.ly">
  <img align="middle"
       border="0"
       src="a5/lily-9a0b8bc2.png"
       alt="[image of music]">
 </a>
</p>



<p>オプションは角括弧の中に配置します。
</p>
<blockquote><pre class="verbatim">c'4 f16
</pre><p>
 <a href="b7/lily-82a2c89b.ly">
  <img align="middle"
       border="0"
       src="b7/lily-82a2c89b.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>大きな楽譜例は別のファイルに配置して、<code>\lilypondfile</code> で
インポートすることができます。
</p>
<blockquote><p>
 <a href="0a/lily-80d132fa.ly">
  <img align="middle"
       border="0"
       src="0a/lily-80d132fa.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>デフォルトあるいはカスタムの <code>tagline</code> が必要であれば、
楽譜コード断片全体を <code>\book { }</code> 構造で囲んでください。
</p>
<pre class="verbatim">\book{
  \header{
    title = &quot;A scale in LilyPond&quot;
  }

  \relative {
    c' d e f g a b c
  }
}
</pre><p>
 <a href="7e/lily-1c1e00f8.ly">
  <img align="middle"
       border="0"
       src="7e/lily-1c1e00f8.png"
       alt="[image of music]">
 </a>
</p>






<hr size="6">
<a name="g_t_697d_8b5c_3068_30c6_30ad_30b9_30c8_3092_7d71_5408_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#an-example-of-a-musicological-document" title="前のセクション" accesskey="p" rel="previous"> &lt; 音楽学のドキュメントの例&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#latex" title="次のセクション" accesskey="n" rel="next">&nbsp;LaTeX &gt; </a>]</td></tr></table>
<a name="integrating-music-and-text"></a>
<h2 class="section">3.2 楽譜とテキストを統合する</h2>

<p>LilyPond をさまざまな出力フォーマットと統合する方法を説明します。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#latex" accesskey="1">3.2.1 LaTeX</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#texinfo" accesskey="2">3.2.2 Texinfo</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#html" accesskey="3">3.2.3 HTML</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#docbook" accesskey="4">3.2.4 DocBook</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="LaTeX"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#integrating-music-and-text" title="前のセクション" accesskey="p" rel="previous"> &lt; 楽譜とテキストを統合する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;楽譜とテキストを統合する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#texinfo" title="次のセクション" accesskey="n" rel="next">&nbsp;Texinfo &gt; </a>]</td></tr></table>
<a name="latex"></a>
<h3 class="subsection">3.2.1 LaTeX</h3>

<p>LaTeX は物理学や化学等の出版のデファクト スタンダードです。LaTeX は TeX 植字エンジン上に構築され、最高品位の活版印刷術を提供します。
</p>
<p>LaTeX の使い方についての概要は
<a href="http://www.ctan.org/tex-archive/info/lshort/english"><em>The Not So Short Introduction to LaTeX</em></a> を参照してください。
</p>
<p><code>lilypond-book</code> は楽譜を LaTeX ファイルに組み込むために以下のコマンドと環境を提供します:
</p>
<ul>
<li>
<code>\lilypond{...}</code> コマンド: ここに直接短い lilypond コードを入力することができます

</li><li>
<code>\begin{lilypond}...\end{lilypond}</code> 環境: ここに長い lilypond
コードを入力することができます

</li><li>
<code>\lilypondfile{...}</code> コマンド: このコマンドで lilypond ファイルを挿入することができます

</li><li>
<code>\musicxmlfile{...}</code> コマンド: このコマンドで MusicXML ファイルを挿入することができます。挿入されたファイルは <code>musicxml2ly</code> と <code>lilypond</code> で処理されます

</li></ul>

<p>入力ファイルの中では、楽譜は以下のコマンドのいずれかで特定されます:
</p>
<blockquote><pre class="example">\begin{lilypond}[options,go,here]
  YOUR LILYPOND CODE
\end{lilypond}

\lilypond[options,go,here]{ YOUR LILYPOND CODE }

\lilypondfile[options,go,here]{<var>filename</var>}

\musicxmlfile[options,go,here]{<var>filename</var>}
</pre></blockquote>



<p>さらに、<code>\lilypondversion</code> は lilypond のバージョン番号を表示します。<code>lilypond-book</code> を実行して得られたファイルを更に LaTeX で処理することができます。
</p>
<p>例をいくつか挙げます。以下の <code>lilypond</code> 環境
</p>
<blockquote><pre class="example">\begin{lilypond}[quote,fragment,staffsize=26]
  c' d' e' f' g'2 g'2
\end{lilypond}
</pre></blockquote>

<p>これは以下を作り出します
</p>
<blockquote><p>
 <a href="5a/lily-d67e1e90.ly">
  <img align="middle"
       border="0"
       src="5a/lily-d67e1e90.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>以下の短いバージョン
</p>
<blockquote><pre class="example">\lilypond[quote,fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>これは以下を作り出します
</p>
<blockquote><p>
 <a href="d9/lily-f0683194.ly">
  <img align="middle"
       border="0"
       src="d9/lily-f0683194.png"
       alt="[image of music]">
 </a>
</p>
</blockquote>



<p>今のところ <code>\lilypond{}</code> の中で <code>{</code> や <code>}</code> を記述することはできないため、このコマンドは <code>fragment</code> オプションを指定した場合にのみ機能します。
</p>
<p>楽譜のデフォルトの行幅は、ドキュメント前文
&ndash; <code>\begin{document}</code> より前の部分 &ndash;
のコマンドを検証することにより調節されます。<code>lilypond-book</code> コマンドはそれらのコマンドを LaTeX に送ってテキストの幅を調べます。その後、楽譜断片の行幅はそのテキスト幅に調節されます。試行錯誤なアルゴリズムは容易に失敗する可能性があります
&ndash; そのような場合、<code>line-width</code> 楽譜断片オプションを使用する必要があります。
</p>
<a name="index-titling-and-lilypond_002dbook-_0028_30bf_30a4_30c8_30eb_3068-lilypond_002dbook_0029"></a>
<a name="index-_005cheader-in-LaTeX-documents-_0028LaTeX-_30c9_30ad_30e5_30e1_30f3_30c8_306e_4e2d_306b_3042_308b-_005cheader_0029"></a>

<p>以下のマクロがユーザによって定義されている場合、各楽譜断片はそれらのマクロを呼び出します:
</p>
<ul>
<li> <code>\preLilyPondExample</code> は楽譜断片の処理が始まる前に呼び出されます。

</li><li> <code>\postLilyPondExample</code> は楽譜断片の処理が終わった後に呼び出されます。

</li><li> <code>\betweenLilyPondSystem[1]</code> は、<code>lilypond-book</code> が楽譜断片をいくつかの PostScript ファイルに分けて出力する場合に、ある段と次の段の間で呼び出されます。このマクロはパラメータを 1 つ取るように定義する必要があり、何段数目の処理が終わったらマクロが動作を始めるかを指定する数を渡します。デフォルトでは <code>\linebreak</code> を挿入するだけです。
</li></ul>


<a name="Selected-Snippets"></a>
<h4 class="subsubheading">Selected Snippets</h4>

<p>Sometimes it is useful to display music elements (such as ties and slurs)
as if they continued after the end of the fragment.
これは譜を改行して、残りの LilyPond 出力を抑制することで実現できます。
</p>
<p>LaTeX の中で <code>\betweenLilyPondSystem</code> を定義して、必要な楽譜段数が出力された後の出力を抹消するようにします。<code>\betweenLilyPondSystem</code> が最初に呼び出されるのは <em>最初の</em> 段が処理された後なので、最初の段だけを残すことは簡単です。
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{\endinput}

\begin{lilypond}[fragment]
  c'1\( e'( c'~ \break c' d) e f\)
\end{lilypond}
</pre></blockquote>

<p>必要とする段数が多い場合、<code>\endinput</code> の前で TeX 条件分岐を使う必要があります。以下の例で、&lsquo;2&rsquo; を必要とする段数に置き換えてください。
</p>
<blockquote><pre class="example">\def\betweenLilyPondSystem#1{
    \ifnum#1&lt;2\else\expandafter\endinput\fi
}
</pre></blockquote>

<p>(<code>\endinput</code> は入力ファイルの処理をすぐに停止するため、<code>\endinput</code> の呼び出しを <code>\fi</code> 実行後まで遅らせるために
<code>\expandafter</code> を記述する必要があります。これにより <code>\if</code>-<code>\fi</code> 節がバランスします。)
</p>
<p><code>\betweenLilyPondSystem</code> の定義は TeX がカレントのグループ
(LaTeX 環境等) を終了するか、他の定義で上書きされる
(これは大抵の場合、ドキュメントの残りの部分に対する定義です)
まで効果を持つということを覚えておいてください。定義をリセットするには、LaTeX に以下を記述します:
</p>
<blockquote><pre class="example">\let\betweenLilyPondSystem\undefined
</pre></blockquote>

<p>これを簡単にするには、以下の TeX マクロを定義して、
</p>
<blockquote><pre class="example">\def\onlyFirstNSystems#1{
    \def\betweenLilyPondSystem##1{%
      \ifnum##1&lt;#1\else\expandafter\endinput\fi}
}
</pre></blockquote>

<p>各楽譜断片の前に必要な段数を指定します。
</p>
<blockquote><pre class="example">\onlyFirstNSystems{3}
\begin{lilypond}...\end{lilypond}
\onlyFirstNSystems{1}
\begin{lilypond}...\end{lilypond}
</pre></blockquote>


<a name="g_t_53c2_7167"></a>
<h4 class="subsubheading">参照</h4>
<p>LaTeX ドキュメント専用の <code>lilypond-book</code> コマンド
オプションがあり、他にも知っておくべき細かなことがあります。<a href="#invoking-lilypond_002dbook"><code>lilypond-book</code> を呼び出す</a> を参照してください。
</p>

<hr size="6">
<a name="Texinfo"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#latex" title="前のセクション" accesskey="p" rel="previous"> &lt; LaTeX&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;楽譜とテキストを統合する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#html" title="次のセクション" accesskey="n" rel="next">&nbsp;HTML &gt; </a>]</td></tr></table>
<a name="texinfo"></a>
<h3 class="subsection">3.2.2 Texinfo</h3>

<p>Texinfo は GNU プロジェクトのドキュメントのデフォルト フォーマットです。Texinfo ドキュメントの例の 1 つはこのマニュアルです。このマニュアルの HTML, PDF, それに Info 形式は Texinfo ドキュメントから生成されています。
</p>
<p><code>lilypond-book</code> は楽譜を Texinfo ファイルに組み込むために以下のコマンドと環境を提供します:
</p>
<ul>
<li>
<code>@lilypond{...}</code> コマンド: ここに直接短い lilypond コードを入力することができます

</li><li>
<code>@lilypond...@end lilypond</code> 環境: ここに長い lilypond
コードを入力することができます

</li><li>
<code>@lilypondfile{...}</code> コマンド: このコマンドで lilypond
ファイルを挿入することができます

</li><li>
<code>@musicxmlfile{...}</code> コマンド: このコマンドで MusicXML ファイルを挿入することができます。挿入されたファイルは <code>musicxml2ly</code> と <code>lilypond</code> で処理されます

</li></ul>

<p>入力ファイルの中では、楽譜は以下のコマンドのいずれかで特定されます:
</p>
<blockquote><pre class="example">@lilypond[options,go,here]
  YOUR LILYPOND CODE
@end lilypond

@lilypond[options,go,here]{ YOUR LILYPOND CODE }

@lilypondfile[options,go,here]{<var>filename</var>}

@musicxmlfile[options,go,here]{<var>filename</var>}
</pre></blockquote>

<p>さらに、<code>@lilypondversion</code> は lilypond のバージョン番号を表示します。
</p>
<p><code>lilypond-book</code> を実行して得られる Texinfo ファイル
(拡張子は &lsquo;<tt>.texi</tt>&rsquo; です) は HTML, Info, それに表示出力用の
<code>@image</code> タグを保持しています。<code>lilypond-book</code> は表示出力に対しては EPS と PDF 形式の楽譜を生成して、HTML と Info 出力に対しては PNG 形式の楽譜を生成します。
</p>
<p>2 つの簡単な例を挙げます。以下の <code>lilypond</code> 環境
</p>
<blockquote><pre class="example">@lilypond[fragment]
c' d' e' f' g'2 g'
@end lilypond
</pre></blockquote>

<p>これは以下を作り出します
</p>
<p>
 <a href="49/lily-84022578.ly">
  <img align="middle"
       border="0"
       src="49/lily-84022578.png"
       alt="[image of music]">
 </a>
</p>



<p>以下の短いバージョン
</p>
<blockquote><pre class="example">@lilypond[fragment,staffsize=11]{&lt;c' e' g'&gt;}
</pre></blockquote>

<p>これは以下を作り出します
</p>
<p>
 <a href="0c/lily-92b92a6d.ly">
  <img align="middle"
       border="0"
       src="0c/lily-92b92a6d.png"
       alt="[image of music]">
 </a>
</p>



<p>LaTeX とは対照的に、<code>@lilypond{...}</code> はインライン画像を生成しません。生成される画像は常に 1 つの段落を構成します。
</p>

<hr size="6">
<a name="HTML"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#texinfo" title="前のセクション" accesskey="p" rel="previous"> &lt; Texinfo&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;楽譜とテキストを統合する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#docbook" title="次のセクション" accesskey="n" rel="next">&nbsp;DocBook &gt; </a>]</td></tr></table>
<a name="html"></a>
<h3 class="subsection">3.2.3 HTML</h3>

<p><code>lilypond-book</code> は楽譜を HTML ファイルに組み込むために以下のコマンドと環境を提供します:
</p>
<ul>
<li>
<code>&lt;lilypond ... /&gt;</code> コマンド: ここに直接短い lilypond コードを入力することができます

</li><li>
<code>&lt;lilyond&gt;...&lt;/lilypond&gt;</code> 環境: ここに長い lilypond
コードを入力することができます

</li><li>
<code>&lt;lilypondfile&gt;...&lt;/lilypondfile&gt;</code> コマンド: このコマンドで
lilypond ファイルを挿入することができます

</li><li>
<code>&lt;musicxmlfile&gt;...&lt;/musicxmlfile&gt;</code> コマンド: このコマンドで
MusicXML ファイルを挿入することができます。挿入されたファイルは <code>musicxml2ly</code> と <code>lilypond</code> で処理されます

</li></ul>

<p>入力ファイルの中では、楽譜は以下のコマンドのいずれかで特定されます:
</p>
<blockquote><pre class="example">&lt;lilypond options go here&gt;
  YOUR LILYPOND CODE
&lt;/lilypond&gt;

&lt;lilypond options go here: YOUR LILYPOND CODE /&gt;

&lt;lilypondfile options go here&gt;<var>filename</var>&lt;/lilypondfile&gt;

&lt;musicxmlfile options go here&gt;<var>filename</var>&lt;/musicxmlfile&gt;
</pre></blockquote>

<p>記述例を挙げます:
</p><blockquote><pre class="example">&lt;lilypond fragment relative=2&gt;
\key c \minor c4 es g2
&lt;/lilypond&gt;
</pre></blockquote>

<p>上記のコードから <code>lilypond-book</code> は楽譜断片に対する適切な画像タグを持つ HTML ファイルを作り出します:
</p>
<p>
 <a href="c9/lily-7a8f0874.ly">
  <img align="middle"
       border="0"
       src="c9/lily-7a8f0874.png"
       alt="[image of music]">
 </a>
</p>



<p>インライン画像を得るには、<code>&lt;lilypond ... /&gt;</code> を使います。以下のように、コロン <code>:</code> でオプションと楽譜コードを区切ります:
</p>
<blockquote><pre class="example">Some music in &lt;lilypond relative=2: a b c/&gt; a line of text.
</pre></blockquote>

<p>HTML ファイルとは別に記述した lilypond ファイルを組み込むには以下のようにします:
</p>
<blockquote><pre class="example">&lt;lilypondfile <var>option1</var> <var>option2</var> ...&gt;<var>filename</var>&lt;/lilypondfile&gt;
</pre></blockquote>

<p><code>&lt;musicxmlfile&gt;</code> は <code>&lt;lilypondfile&gt;</code> と同じ構文を使い、LilyPond ファイルではなく MusicXML ファイルを参照します。
</p>
<p><code>lilypond</code> タグや <code>lilypondfile</code> タグで使用するオプションのリストは、<a href="#music-fragment-options">楽譜断片オプション</a> を参照してください。
</p>
<p>さらに、<code>&lt;lilypondversion/&gt;</code> は lilypond のバージョン番号を表示します。
</p>

<a name="index-titling-in-HTML-_0028HTML-_306e_30bf_30a4_30c8_30eb_0029"></a>
<a name="index-preview-image-_0028_30d7_30ec_30d3_30e5_30fc_753b_50cf_0029"></a>
<a name="index-thumbnail-_0028_30b5_30e0_30cd_30a4_30eb_0029"></a>

<hr size="6">
<a name="DocBook"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#html" title="前のセクション" accesskey="p" rel="previous"> &lt; HTML&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#integrating-music-and-text" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;楽譜とテキストを統合する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#music-fragment-options" title="次のセクション" accesskey="n" rel="next">&nbsp;楽譜断片オプション &gt; </a>]</td></tr></table>
<a name="docbook"></a>
<h3 class="subsection">3.2.4 DocBook</h3>

<p>LilyPond 断片を組み込む場合、DocBook ドキュメントとの適合を保つべきです。そうすることで、DocBook のエディタや検証機能等を使うことができます。そのため、カスタム タグは使わず、標準 DocBook 要素に基づく約束ごとだけを使います。
</p>
<a name="Common-conventions"></a>
<h3 class="subheading">Common conventions</h3>

<p>楽譜断片をインラインあるいはインラインではなく挿入するために、<code>mediaobject</code> 要素と <code>inlinemediaobject</code> 要素を使います。楽譜断片フォーマット オプションは常に最も内側の要素の <code>role</code>
プロパティの中に配置します (次のセクションを参照してください)。タグは DocBook エディタがコンテンツをきれいにフォーマットすることを可能にします。<code>lilypond-book</code> で処理する DocBook ファイルの拡張子は
&lsquo;<tt>.lyxml</tt>&rsquo; にするべきです。
</p>
<a name="LilyPond-_30d5_30a1_30a4_30eb_3092_7d44_307f_8fbc_3080"></a>
<h3 class="subheading">LilyPond ファイルを組み込む</h3>

<p>これが最も簡単な方法です。組み込むファイルの拡張子は &lsquo;<tt>.ly</tt>&rsquo; にして、それを以下に示す構造で標準の <code>imageobject</code> として挿入する必要があります:
</p>
<blockquote><pre class="example">&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref=&quot;music1.ly&quot; role=&quot;printfilename&quot; /&gt;
  &lt;/imageobject&gt;
&lt;/mediaobject&gt;
</pre></blockquote>

<p>必要に応じて、最も外側の要素に <code>mediaobject</code> または
<code>inlinemediaobject</code> を使うことができるということに注意してください。
</p>
<a name="LilyPond-_30b3_30fc_30c9_3092_7d44_307f_8fbc_3080"></a>
<h3 class="subheading">LilyPond コードを組み込む</h3>

<p><code>programlisting</code> を用いることで、LilyPond コードを組み込むことができます。以下の構造を用いて、<code>programlisting</code> の言語には <code>lilypond</code> をセットします:
</p><blockquote><pre class="example">&lt;inlinemediaobject&gt;
  &lt;textobject&gt;
    &lt;programlisting language=&quot;lilypond&quot; role=&quot;fragment verbatim staffsize=16 ragged-right relative=2&quot;&gt;
\context Staff \with {
  \remove &quot;Time_signature_engraver&quot;
  \remove &quot;Clef_engraver&quot;}
  { c4( fis) }
    &lt;/programlisting&gt;
  &lt;/textobject&gt;
&lt;/inlinemediaobject&gt;
</pre></blockquote>

<p>最も外側の要素は <code>mediaobject</code> または <code>inlinemediaobject</code> であり、その中に <code>programlisting</code> を保持する <code>textobject</code> がありことが見て取れます。
</p>
<a name="DocBook-_30c9_30ad_30e5_30e1_30f3_30c8_3092_51e6_7406_3059_308b"></a>
<h3 class="subheading">DocBook ドキュメントを処理する</h3>

<p>&lsquo;<tt>.lyxml</tt>&rsquo; ファイルに対して <code>lilypond-book</code> を実行すると、拡張子が &lsquo;<tt>.xml</tt>&rsquo; の有効な DocBook ドキュメントが作成され、それを更に処理にかけることがでいます。<a href="http://dblatex.sourceforge.net">dblatex</a> を使うと、このドキュメントから自動的に PDF ファイルを作成することがでいます。公式 DocBook スタイルシートを用いることで HTML (HTML ヘルプ、JavaHelp 等)
を生成することが可能ですが、カスタマイズが必要かもしれません。
</p>

<hr size="6">
<a name="g_t_697d_8b5c_65ad_7247_30aa_30d7_30b7_30e7_30f3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#docbook" title="前のセクション" accesskey="p" rel="previous"> &lt; DocBook&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-lilypond_002dbook" title="次のセクション" accesskey="n" rel="next">&nbsp;lilypond-book を呼び出す &gt; </a>]</td></tr></table>
<a name="music-fragment-options"></a>
<h2 class="section">3.3 楽譜断片オプション</h2>

<p>以下では、&lsquo;LilyPond コマンド&rsquo; は、これまでのセクションで説明した楽譜断片を作り出すために <code>lilypond-book</code> によって処理される任意のコマンドを意味します。シンプルにするために、LaTeX 構文の LilyPond コマンドだけを示します。
</p>
<p>オプション文字列は左から右の順で解析されるということに注意してください。あるオプションを複数指定した場合、最後のオプションが有効となります。
</p>
<p>LilyPond コマンドで以下のオプションを使うことができます:
</p>
<dl compact="compact">
<dt> <code>staffsize=<var>ht</var></code></dt>
<dd><p>譜サイズを <var>ht</var> にセットします。単位はポイントです。
</p>
</dd>
<dt> <code>ragged-right</code></dt>
<dd><p>デフォルトの間隔を用いるため、行の右端が揃いません。つまり、LilyPond コード断片に <code>ragged-right = ##t</code> を追加します。明示的に <code>noragged-right</code> を指定しない限り、1 行の楽譜断片はデフォルトでは常に ragged-right で譜刻されます。
</p>
</dd>
<dt> <code>noragged-right</code></dt>
<dd><p>楽譜断片が 1 行の場合に、譜の長さを行幅まで広げます。つまり、LilyPond コード断片に <code>ragged-right = ##f</code> を追加します。
</p>
</dd>
<dt> <code>line-width</code></dt>
<dt> <code>line-width=<var>size</var>\<var>unit</var></code></dt>
<dd><p>行幅を <var>size</var> にセットします。<var>unit</var> は単位です。<var>unit</var> は以下の文字列のどれかです: <code>cm</code>, <code>mm</code>, <code>in</code>,
あるいは <code>pt</code>。このオプションは LilyPond 出力 (つまり、楽譜断片の譜の幅に) に影響を与えますが、テキスト レイアウトには影響を与えません。
</p>
<p>引数無しで使用した場合、行幅はデフォルト値にセットされます
(試行錯誤的なアルゴリズムで算出される値です)。
</p>
<p><code>line-width</code> オプションが指定されなかった場合、<code>lilypond-book</code> は <code>ragged-right</code> オプションを使用しない
<code>lilypond</code> 環境のデフォルトを推測しようと試みます。
</p>
</dd>
<dt> <code>papersize=<var>string</var></code></dt>
<dd><p><var>string</var> は &lsquo;<tt>scm/paper.scm</tt>&rsquo; で定義されている紙面サイズ
&ndash; つまり、<code>a5</code>, <code>quarto</code>, <code>11x17</code> 等 &ndash; です。
</p>
<p>&lsquo;<tt>scm/paper.scm</tt>&rsquo; で定義されていない値は無視され、警告が発せられ、楽譜断片はデフォルトの <code>a4</code> サイズで譜刻されます。
</p>
</dd>
<dt> <code>notime</code></dt>
<dd><p>拍子記号と小節線を譜刻しません。
</p>
</dd>
<dt> <code>fragment</code></dt>
<dd><p><code>lilypond-book</code> が常用コードを追加するので、<code>\layout</code>,
<code>\score</code> 等を入力する必要がなく、単に以下のように入力できます:
</p>
<blockquote><pre class="example">c'4
</pre></blockquote>

</dd>
<dt> <code>nofragment</code></dt>
<dd><p>楽譜断片の LilyPond コードに補完コードを追加しません。これがデフォルトなので、通常、<code>nofragment</code> は不要です。
</p>
</dd>
<dt> <code>indent=<var>size</var>\<var>unit</var></code></dt>
<dd><p>楽譜の最初の段のインデントを <var>size</var> にセットします。<var>unit</var> は単位です。<var>unit</var> は以下の文字列のどれかです: <code>cm</code>, <code>mm</code>, <code>in</code>,
あるいは <code>pt</code>。このオプションは LilyPond に影響を与えますが、テキスト レイアウトには影響を与えません。
</p>
</dd>
<dt> <code>noindent</code></dt>
<dd><p>楽譜の最初の段のインデントを 0 にセットします。このオプションは LilyPond に影響を与えますが、テキスト レイアウトには影響を与えません。これがデフォルトなので、通常、<code>noindent</code> は不要です。
</p>
</dd>
<dt> <code>quote</code></dt>
<dd><p>楽譜の両端に <em>0.4</em>in のインデントを挿入して、引用ブロックで囲みます。値 &lsquo;0.4in&rsquo; は <code>exampleindent</code> オプションで制御することができます。
</p>
</dd>
<dt> <code>exampleindent</code></dt>
<dd><p><code>quote</code> オプションが楽譜断片に挿入するインデントの量をセットします。
</p>
</dd>
<dt> <code>relative</code></dt>
<dt> <code>relative=<var>n</var></code></dt>
<dd><p>相対オクターブ モードを使用します。デフォルトでは、音符はミドル&nbsp;C との相対関係で指定します。オプションで指定する整数の引数は開始音符のオクターブを指定します
&ndash; デフォルトの <code>1</code> はミドル&nbsp;C です。<code>relative</code> オプションは <code>fragment</code> オプションがセットされている場合にのみ機能するため、<code>relative</code> オプションがセットされるとソースの中の <code>(no)fragment</code> オプション有無にかかわらず <code>fragment</code> が自動的、暗黙的にセットされます。
</p></dd>
</dl>

<p>LilyPond もそれ自体のドキュメントを作り出すのに <code>lilypond-book</code>
を使います。LilyPond のドキュメントを作るために、さらに細かな楽譜断片オプションが用意されています。
</p>
<dl compact="compact">
<dt> <code>verbatim</code></dt>
<dd><p>LilyPond コマンドの引数をそのまま出力ファイルにコピーして、ブロックで囲み、その後に <code>intertext</code> オプションで与えられた任意のテキストが続きます (<code>intertext</code> オプションはまだ実装されていません)。それから実際の楽譜が表示されます。段落の一部となっている <code>\lilypond{}</code> でこのオプションを指定しても機能しません。
</p>
<p><code>lilypondfile</code> コマンドで <code>verbatim</code> を使用した場合、ソース
ファイルの一部だけをそのままコピーして囲むことができます。ソース ファイルが &lsquo;<samp>begin verbatim</samp>&rsquo; (引用符を除く) という文字列を含むコメントを保持している場合、最後の &lsquo;<samp>begin verbatim</samp>&rsquo; より後のソースが引用されます。同様に、&lsquo;<samp>end verbatim</samp>&rsquo; を含むコメントがあれば、ソースの引用は最初の &lsquo;<samp>end verbatim</samp>&rsquo; の前で終了します。以下のソース ファイル例で、楽譜コードは相対モードで解釈されますが、ソースの引用に <code>relative</code> ブロックは表示されません。つまり、
</p>
<blockquote><pre class="example">\relative { % begin verbatim
  c'4 e2 g4
  f2 e % end verbatim
}
</pre></blockquote>

<p>上記のソースは以下のように引用されます。
</p>
<blockquote><pre class="example">  c4 e2 g4
  f2 e
</pre></blockquote>

<p>ソースの引用の中にあるコメントと変数名を翻訳したけれども、ソース自体の中にあるコメントと変数名は翻訳したくない場合、環境変数
<code>LYDOC_LOCALEDIR</code> をディレクトリ パスにセットします
&ndash; セットしたディレクトリはドメインに <code>lilypond-doc</code> を指定した&lsquo;<tt>.mo</tt>&rsquo; メッセージ カタログのツリーを保持する必要があります。
</p>
</dd>
<dt> <code>addversion</code></dt>
<dd><p>(Texinfo 出力専用です) <code>verbatim</code> 出力の先頭に <code>\version
@w{&quot;@version{}&quot;}</code> という行を追加します。
</p>
</dd>
<dt> <code>texidoc</code></dt>
<dd><p>(Texinfo 出力専用です) 入力ファイル &lsquo;<tt>foo.ly</tt>&rsquo; に対して
&lsquo;<samp>--header=texidoc</samp>&rsquo; オプションを指定して <code>lilypond</code>
を呼び出した場合、入力ファイルの <code>\header</code> に <code>texidoc</code>
フィールドがあればファイル &lsquo;<tt>foo.texidoc</tt>&rsquo; が作成されます。<code>texidoc</code> オプションは <code>lilypond-book</code> にそのようなファイルをインクルードさせ、その内容を楽譜断片の直前
(ただし、<code>quote</code> オプションによって生成される <code>example</code> 環境の外側) にドキュメントとして追加させます。
</p>
<p>ファイル &lsquo;<tt>foo.ly</tt>&rsquo; は以下を保持していて、
</p>
<blockquote><pre class="example">\header {
  texidoc = &quot;This file demonstrates a single note.&quot;
}
{ c'4 }
</pre></blockquote>

<p>Texinfo ドキュメント &lsquo;<tt>test.texinfo</tt>&rsquo; に以下の記述があると仮定すると、
</p>
<blockquote><pre class="example">@lilypondfile[texidoc]{foo.ly}
</pre></blockquote>

<p>以下のコマンドで期待した結果を得られます。
</p>
<blockquote><pre class="example">lilypond-book --pdf --process=&quot;lilypond \
  -dbackend=eps --header=texidoc&quot; test.texinfo
</pre></blockquote>

<p>たいていの LilyPond テスト ドキュメント (配布ソースの &lsquo;<tt>input</tt>&rsquo;
ディレクトリにあります) はこのような形の小さな &lsquo;<tt>.ly</tt>&rsquo; ファイルです。
</p>
<p>ローカライズするために Texinfo ドキュメントが
<code>@documentlanguage <var>LANG</var></code> 保持していて、&lsquo;<tt>foo.ly</tt>&rsquo; のヘッダが <code>texidoc<var>LANG</var></code> フィールドを保持している場合、&lsquo;<samp>--header=texidoc<var>LANG</var></samp>&rsquo; を付けて <code>lilypond</code> を呼び出すと、&lsquo;<tt>foo.texidoc</tt>&rsquo; の代わりに &lsquo;<tt>foo.texidoc<var>LANG</var></tt>&rsquo;
がインクルードされます。
</p>
</dd>
<dt> <code>doctitle</code></dt>
<dd><p>(Texinfo 出力専用です) このオプションは <code>texidoc</code> オプションと同じような働きをします: <code>\header</code> に <code>doctitle</code> フィールドを持つ入力ファイル &lsquo;<tt>foo.ly</tt>&rsquo; に対して &lsquo;<samp>--header=doctitle</samp>&rsquo;
オプションを指定して <code>lilypond</code> を呼び出した場合、&lsquo;<tt>foo.doctitle</tt>&rsquo; が生成されます。<code>doctitle</code> オプションを使用した場合、&lsquo;<tt>foo.doctitle</tt>&rsquo; の内容
&ndash; 1 行のテキスト <var>text</var> である必要があります &ndash; は Texinfo
ドキュメントに <code>@lydoctitle <var>text</var></code> として挿入されます。<code>@lydoctitle</code> は Texinfo ドキュメントの中で定義されたマクロである必要があります。あとはローカライズされた言語に対する <code>texidoc</code> 処理と同じ説明になります。
</p>
</dd>
<dt> <code>nogettext</code></dt>
<dd><p>(Texinfo 出力専用です) 楽譜ソース引用の中にあるコメントと変数名を翻訳しません。
</p>
</dd>
<dt> <code>printfilename</code></dt>
<dd><p><code>\lilypondfile</code> で LilyPond 入力ファイルをインクルードした場合、楽譜断片の直前にインクルードしたファイルの名前を表示します。HTML 出力では、これはリンクになります。ファイルのベース名だけが表示されます &ndash; つまり、ファイル パスのディレクトリ部分は取り除かれます。
</p>
</dd>
</dl>


<hr size="6">
<a name="lilypond_002dbook-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#music-fragment-options" title="前のセクション" accesskey="p" rel="previous"> &lt; 楽譜断片オプション&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#filename-extensions" title="次のセクション" accesskey="n" rel="next">&nbsp;ファイル拡張子 &gt; </a>]</td></tr></table>
<a name="invoking-lilypond_002dbook"></a>
<h2 class="section">3.4 <code>lilypond-book</code> を呼び出す</h2>

<p><code>lilypond-book</code> は出力形式に応じて以下の拡張子の 1 つを持つファイルを生成します: &lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo;, &lsquo;<tt>.html</tt>&rsquo;, あるいは
&lsquo;<tt>.xml</tt>&rsquo;。&lsquo;<tt>.tex</tt>&rsquo;, &lsquo;<tt>.texi</tt>&rsquo;, それに &lsquo;<tt>.xml</tt>&rsquo; のファイルは更なる処理を必要とします。
</p>
<a name="g_t_5404_51fa_529b_5f62_5f0f_306b_7279_6709_306e_8aac_660e"></a>
<h3 class="subheading">各出力形式に特有の説明</h3>

<a name="LaTeX-3"></a>
<h4 class="subsubheading">LaTeX</h4>

<p>印刷や公開のために LaTeX ドキュメントを処理する方法は 2 つあります:
PDFLaTeX を用いて直接 PDF ファイルを得ることができ、<code>dvips</code>
のような PostScript への変換プログラムを用いて DVI 経由で PostScript
ファイルを得ることができます。1 つ目の方法は簡単で、お勧めです<sup><a name="DOCF4" href="#FOOT4">4</a></sup>。どのような方法を採るにせよ、Ghostscript パッケージに含まれる
<code>ps2pdf</code> と <code>pdf2ps</code> のようなツールを用いて PostScript
と PDF 間の変換は容易に行うことができます。
</p>
<p>PDFLaTeX を用いて PDF ファイルを作り出すには、以下のようにします:
</p>
<blockquote><pre class="example">lilypond-book --pdf yourfile.lytex
pdflatex yourfile.tex
</pre></blockquote>

<a name="index-outline-fonts-_0028_30a2_30a6_30c8_30e9_30a4_30f3-_30d5_30a9_30f3_30c8_0029"></a>
<a name="index-type1-fonts-_0028type1-_30d5_30a9_30f3_30c8_0029"></a>
<a name="index-dvips"></a>
<a name="index-invoking-dvips-_0028dvips-_3092_547c_3073_51fa_3059_0029"></a>
<p>LaTeX/<code>dvips</code>/<code>ps2pdf</code> 経由で PDF ファイルを作り出すには、以下のようにします:
</p>
<blockquote><pre class="example">lilypond-book yourfile.lytex
latex yourfile.tex
dvips -Ppdf yourfile.dvi
ps2pdf yourfile.ps
</pre></blockquote>

<p>このプロセスで作成される &lsquo;<tt>.dvi</tt>&rsquo; ファイルは符頭を保持していません。それで通常です &ndash; 以下の手順に従うと、&lsquo;<tt>.ps</tt>&rsquo; ファイルや &lsquo;<tt>.pdf</tt>&rsquo;
ファイルには符頭が含まれます。
</p>
<p><code>dvips</code> を実行するとフォントに関する警告が発せられます:
それらは無害で無視できます。<code>latex</code> を 2 列モードで実行するのであれば、忘れずに
<code>dvips</code> のオプションに &lsquo;<samp>-t landscape</samp>&rsquo; を付け加えてください。
</p>
<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-5"></a>
<h4 class="subsubheading">既知の問題と警告</h4>
<p><code>\pageBreak</code> コマンドは <code>\begin{lilypond} &hellip;
\end{lilypond}</code> 環境の中では機能しません。
</p>
<p>多くの <code>\paper</code> ブロック変数も <code>\begin{lilypond} &hellip;
\end{lilypond}</code> 環境の中では機能しません。ドキュメント前文の中で <code>\betweenLilyPondSystem</code> を持つ
<code>\newcommand</code> を使ってください。
</p>
<blockquote><pre class="example">\newcommand{\betweenLilyPondSystem}[1]{\vspace{36mm}\linebreak}
</pre></blockquote>


<a name="Texinfo-3"></a>
<h4 class="subsubheading">Texinfo</h4>

<p>(任意の出力形式の) Texinfo ドキュメントを作り出すには、Texinfo の通常の手順を踏みます。つまり、作り出そうとしている出力形式に応じて <code>texi2pdf</code> か
<code>texi2dvi</code> のどちらかを呼び出します。
詳細は Texinfo のドキュメントを参照してください。
</p>

<a name="g_t_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3"></a>
<h3 class="subheading">コマンド ライン オプション</h3>

<p><code>lilypond-book</code> は以下のコマンド ライン オプションを受け付けます:
</p>
<dl compact="compact">
<dt> <code>-f <var>format</var></code></dt>
<dt> <code>--format=<var>format</var></code></dt>
<dd><p>処理するドキュメントのタイプを指定します:  <code>html</code>, <code>latex</code>,
<code>texi</code> (デフォルト), あるいは <code>docbook</code> です。このオプションが無い場合、<code>lilypond-book</code> は形式を自動的に検出しようとします &ndash; <a href="#filename-extensions">ファイル拡張子</a> を参照してください。今のところ、<code>texi</code> は <code>texi-html</code> と同じです。
</p>

</dd>
<dt> <code>-F <var>filter</var></code></dt>
<dt> <code>--filter=<var>filter</var></code></dt>
<dd><p>楽譜ソース断片を <var>filter</var> に通します。<code>lilypond-book</code> は &lsquo;<samp>--filter</samp>&rsquo; と &lsquo;<samp>--process</samp>&rsquo;
を一度に実行することはしません。例を挙げます:
</p>
<blockquote><pre class="example">lilypond-book --filter='convert-ly --from=2.0.0 -' my-book.tely
</pre></blockquote>

</dd>
<dt> <code>-h</code></dt>
<dt> <code>--help</code></dt>
<dd><p>短いヘルプ メッセージを表示します。
</p>
</dd>
<dt> <code>-I <var>dir</var></code></dt>
<dt> <code>--include=<var>dir</var></code></dt>
<dd><p>インクルード パスに <var>dir</var> を追加します。<code>lilypond-book</code> はインクルード パスの中でコンパイル済みの楽譜断片を見つけると、それらを出力ディレクトリに書き出しません。そのため、<code>lilypond-book</code> を呼び出してから更に <code>makeinfo</code>
や <code>latex</code> 等のコマンドを同じ &lsquo;<samp>-I <var>dir</var></samp>&rsquo; オプションを付けて呼び出す必要がある場合があります。
</p>
</dd>
<dt> <code>-l <var>loglevel</var></code></dt>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>出力の饒舌さを <var>loglevel</var> にセットします。取り得る値は <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>, <code>PROGRESS</code>
(デフォルト), それに <code>DEBUG</code> です。このオプションを使わなかった場合、環境変数 <code>LILYPOND_BOOK_LOGLEVEL</code>
がセットされ、その値が loglevel として使われます。
</p>
</dd>
<dt> <code>-o <var>dir</var></code></dt>
<dt> <code>--output=<var>dir</var></code></dt>
<dd><p>生成されるファイルをディレクトリ <var>dir</var> に保存します。<code>lilypond-book</code> を実行すると LilyPond が処理するための多くの小さなファイルが生成されます。そのようなゴミがソース ディレクトリに混入することを防ぐには、&lsquo;<samp>--output</samp>&rsquo; コマンド ライン オプションを使用して出力ディレクトリを変更して、<code>latex</code> や <code>makeinfo</code> を実行する前にそのディレクトリに移動します。
</p>
<blockquote><pre class="example">lilypond-book --output=out yourfile.lytex
cd out
...
</pre></blockquote>

</dd>
<dt> <code>--skip-lily-check</code></dt>
<dd><p>lilypond 出力が見つからなくても処理を終了しません。画像を持たない LilyPond Info ドキュメントを作成するために使います。
</p>
</dd>
<dt> <code>--skip-png-check</code></dt>
<dd><p>EPS ファイルを作成するための PNG 画像が見つからなくても処理を終了しません。画像を持たない LilyPond Info ドキュメントを作成するために使います。
</p>
</dd>
<dt> <code>--lily-output-dir=<var>dir</var></code></dt>
<dd><p>lily-XXX ファイルをディレクトリ <var>dir</var> に書き出し、&lsquo;<samp>--output</samp>&rsquo;
ディレクトリにリンクさせます。このオプションは別々のディレクトリの中にあり、多くの楽譜断片を共有するドキュメントをビルドする時間を節約するために使います。
</p>
</dd>
<dt> <code>--lily-loglevel=<var>loglevel</var></code></dt>
<dd><p>呼び出された <code>lilypond</code> の出力の饒舌さを <var>loglevel</var> にセットします。取り得る値は <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>,
<code>BASIC_PROGRESS</code>, <code>PROGRESS</code>, <code>INFO</code> (デフォルト),
それに <code>DEBUG</code> です。このオプションを使わなかった場合、環境変数 <code>LILYPOND_LOGLEVEL</code>
がセットされ、その値が loglevel として使われます。
</p>
</dd>
<dt> <code>--info-images-dir=<var>dir</var></code></dt>
<dd><p>Texinfo 出力をフォーマットして、Info が <var>dir</var> の中にある楽譜画像を探すようにします。
</p>
</dd>
<dt> <code>--latex-program=<var>prog</var></code></dt>
<dd><p><code>latex</code> の代わりに実行可能な <code>prog</code> を実行します。これは、例えばドキュメントを <code>xelatex</code> で処理する場合に有用です。
</p>
</dd>
<dt> <code>--left-padding=<var>amount</var></code></dt>
<dd><p>EPS ボックスのパディングを指定します。<var>amount</var> の単位はミリメートルで、デフォルト値は 3.0 です。このオプションは楽譜が右マージンに食い込む場合に使います。
</p>
<p>The width of a tightly clipped system can vary, due to notation
elements that stick into the left margin, such as bar numbers and
instrument names.  This option will shorten each line and move each
line to the right by the same amount.
</p>
</dd>
<dt> <code>-P <var>command</var></code></dt>
<dt> <code>--process=<var>command</var></code></dt>
<dd><p>LilyPond コード断片を <var>command</var> を用いて処理します。デフォルトのコマンドは <code>lilypond</code> です。<code>lilypond-book</code> は &lsquo;<samp>--filter</samp>&rsquo; と &lsquo;<samp>--process</samp>&rsquo;
を一度に実行することはしません。
</p>
</dd>
<dt> <code>--pdf</code></dt>
<dd><p>PDFLaTeX で PDF ファイルを作成します。
</p>
</dd>
<dt> <code>--redirect-lilypond-output</code></dt>
<dd><p>デフォルトでは、出力はターミナルに表示されます。このオプションは全ての出力をソース ファイルと同じディレクトリにあるログ
ファイルにリダイレクトします。
</p>
</dd>
<dt> <code>--use-source-file-names</code></dt>
<dd><p>楽譜断片出力ファイルにソース ファイルと同じベース名を付けます。このオプションは <code>lilypondfile</code> でインクルードされた楽譜断片に対してのみ、更に &lsquo;<samp>--output-dir</samp>&rsquo; オプションと
&lsquo;<samp>--lily-output-dir</samp>&rsquo; オプションで指定されたディレクトリが異なる場合にのみ機能します。
</p>
</dd>
<dt> <code>-V</code></dt>
<dt> <code>--verbose</code></dt>
<dd><p>出力を饒舌にします。これは <code>--loglevel=DEBUG</code> と等価です。
</p>
</dd>
<dt> <code>-v</code></dt>
<dt> <code>--version</code></dt>
<dd><p>バージョン情報を表示します。
</p></dd>
</dl>



<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-1"></a>
<h4 class="subsubheading">既知の問題と警告</h4>

<p>Texinfo コマンド <code>@pagesizes</code> は解釈されません。同様に、ドキュメント前文以降にあるマージンと行幅を変更する LaTeX
コマンドも無視されます。
</p>
<p>LilyPond ブロックの最初の <code>\score</code> だけが処理されます。
</p>

<hr size="6">
<a name="g_t_30d5_30a1_30a4_30eb_62e1_5f35_5b50"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-lilypond_002dbook" title="前のセクション" accesskey="p" rel="previous"> &lt; lilypond-book を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="次のセクション" accesskey="n" rel="next">&nbsp;lilypond-book テンプレート &gt; </a>]</td></tr></table>
<a name="filename-extensions"></a>
<h2 class="section">3.5 ファイル拡張子</h2>

<p>入力ファイルに対して任意のファイル拡張子を使うことができます。しかしながら、ある形式のファイルに対して推奨する拡張子を使わなかった場合、手動で出力形式を指定する必要があるかもしれません
&ndash; 詳細は <a href="#invoking-lilypond_002dbook"><code>lilypond-book</code> を呼び出す</a> を参照してください。推奨する拡張子を使えば、<code>lilypond-book</code> はその拡張子に基づいて自動的に出力形式を選択します。
</p>
<blockquote><table>
<tr><td width="20%"><p> <strong>拡張子</strong> </p></td><td width="50%"><p> <strong>出力形式</strong>
</p></td></tr>
<tr><td width="20%"></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.html</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.htmly</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.itely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.latex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lytex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.lyxml</tt>&rsquo; </p></td><td width="50%"><p> DocBook
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tely</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.tex</tt>&rsquo; </p></td><td width="50%"><p> LaTeX
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texi</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.texinfo</tt>&rsquo; </p></td><td width="50%"><p> Texinfo
</p></td></tr>
<tr><td width="20%"><p> &lsquo;<tt>.xml</tt>&rsquo; </p></td><td width="50%"><p> HTML
</p></td></tr>
</table>
</blockquote>

<p>入力ファイルの拡張子を <code>lilypond-book</code> が出力ファイルに付ける拡張子と同じで、入力ファイルが <code>lilypond-book</code> の作業ディレクトリに置かれている場合、&lsquo;<samp>--output</samp>&rsquo; オプションを使って
<code>lilypond-book</code> を実行する必要があります。そうしないと、&ldquo;Output would overwrite input file&rdquo; のようなエラー
メッセージが表示されて、終了します。
</p>

<hr size="6">
<a name="lilypond_002dbook-_30c6_30f3_30d7_30ec_30fc_30c8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#filename-extensions" title="前のセクション" accesskey="p" rel="previous"> &lt; ファイル拡張子&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="次のセクション" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<a name="lilypond_002dbook-templates"></a>
<h2 class="section">3.6 lilypond-book テンプレート</h2>

<p>以下に示すテンプレートは <code>lilypond-book</code> で使います。<code>lilypond-book</code> に馴染みが無いのであれば、<a href="#lilypond_002dbook"><code>lilypond-book</code> を実行する</a> を読んで下さい。
</p>
<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="前のセクション" accesskey="p" rel="previous"> &lt; lilypond-book テンプレート&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book テンプレート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="次のセクション" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.1 LaTeX</h3>

<p>LilyPond 断片を LaTex ドキュメントに組み込むことができます。
</p>
<blockquote><pre class="example">\documentclass[]{article}

\begin{document}

通常の LaTeX テキスト。

\begin{lilypond}
\relative {
  a'4 b c d
}
\end{lilypond}

次の LaTeX テキスト。オプションは角括弧の中に入れます。

\begin{lilypond}[fragment,relative=2,quote,staffsize=26,verbatim]
d4 c b a
\end{lilypond}
\end{document}
</pre></blockquote>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="前のセクション" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book テンプレート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="次のセクション" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.2 Texinfo</h3>

<p>LilyPond 断片を Texinfo に組み込むことができます。実際、このマニュアル全体が Texinfo で記述されています。
</p>
<blockquote><pre class="example">\input texinfo @node Top
@top

Texinfo テキスト

@lilypond
\relative {
  a4 b c d
}
@end lilypond

次の Texinfo テキスト。オプションは角括弧の中に入れます。

@lilypond[verbatim,fragment,ragged-right]
d4 c b a
@end lilypond

@bye
</pre></blockquote>


<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="前のセクション" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book テンプレート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond_002dbook-templates" title="次のセクション" accesskey="n" rel="next">&nbsp; &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.3 html</h3>

<blockquote><pre class="example">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;
&lt;!-- header_tag --&gt;
&lt;HTML&gt;
&lt;body&gt;

&lt;p&gt;

以下のように、lilypond-book 用のドキュメントには自由に楽譜と
テキストを組み合わせることができます。
&lt;lilypond&gt;
\relative {
  a'4 b c d
}
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;p&gt;
次の lilypond コードにはオプションをつけます

&lt;lilypond fragment quote staffsize=26 verbatim&gt;
a4 b c d
&lt;/lilypond&gt;
&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;


</pre></blockquote>

<hr size="6">
<a name="lilypond_002dbook-templates"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="前のセクション" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook-templates" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book テンプレート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#sharing-the-table-of-contents" title="次のセクション" accesskey="n" rel="next">&nbsp;目次を共有する &gt; </a>]</td></tr></table>
<h3 class="subsection">3.6.4 xelatex</h3>

<pre class="verbatim">\documentclass{article}
\usepackage{ifxetex}
\ifxetex
%xetex specific stuff
\usepackage{xunicode,fontspec,xltxtra}
\setmainfont[Numbers=OldStyle]{Times New Roman}
\setsansfont{Arial}
\else
%This can be empty if you are not going to use pdftex
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{mathptmx}%Times
\usepackage{helvet}%Helvetica
\fi
%Here you can insert all packages that pdftex also understands
\usepackage[ngerman,finnish,english]{babel}
\usepackage{graphicx}

\begin{document}
\title{A short document with LilyPond and xelatex}
\maketitle

Normal \textbf{font} commands inside the \emph{text} work,
because they \textsf{are supported by \LaTeX{} and XeteX.}
If you want to use specific commands like \verb+\XeTeX+, you
should include them again in a \verb+\ifxetex+ environment.
You can use this to print the \ifxetex \XeTeX{} command \else
XeTeX command \fi which is not known to normal \LaTeX .

In normal text you can easily use LilyPond commands, like this:

\begin{lilypond}
{a2 b c'8 c' c' c'}
\end{lilypond}

\noindent
and so on.

The fonts of snippets set with LilyPond will have to be set from
inside
of the snippet.  For this you should read the AU on how to use
lilypond-book.

\selectlanguage{ngerman}
Auch Umlaute funktionieren ohne die \LaTeX -Befehle, wie auch alle
anderen
seltsamen Zeichen: __ ______, wenn sie von der Schriftart
unterst__tzt werden.
\end{document}
</pre>

<hr size="6">
<a name="g_t_76ee_6b21_3092_5171_6709_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond_002dbook-templates" title="前のセクション" accesskey="p" rel="previous"> &lt; &nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#alternative-methods-of-mixing-text-and-music" title="次のセクション" accesskey="n" rel="next">&nbsp;テキストと楽譜を組み合わせる他の方法 &gt; </a>]</td></tr></table>
<a name="sharing-the-table-of-contents"></a>
<h2 class="section">3.7 目次を共有する</h2>

<p>この機能はすでに OrchestralLily パッケージで用意されています:
</p>
<blockquote><pre class="example"><a href="http://repo.or.cz/w/orchestrallily.git">http://repo.or.cz/w/orchestrallily.git</a>
</pre></blockquote>

<p>より自由度の高いテキスト処理をするために、lilypond から目次をエクスポートして、LaTeX に読み込ませる方法を好むユーザもいるかもしれません。
</p>
<a name="LilyPond-_304b_3089_76ee_6b21_3092_30a8_30af_30b9_30dd_30fc_30c8_3059_308b"></a>
<h4 class="subsubheading">LilyPond から目次をエクスポートする</h4>

<p>以下のコードは、複数の楽章を 1 つのファイルに出力するものと仮定しています。
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">#(define (oly:create-toc-file layout pages)
  (let* ((label-table (ly:output-def-lookup layout 'label-page-table)))
    (if (not (null? label-table))
      (let* ((format-line (lambda (toc-item)
             (let* ((label (car toc-item))
                    (text  (caddr toc-item))
                    (label-page (and (list? label-table)
                                     (assoc label label-table)))
                    (page (and label-page (cdr label-page))))
               (format #f &quot;~a, section, 1, {~a}, ~a&quot; page text label))))
             (formatted-toc-items (map format-line (toc-items)))
             (whole-string (string-join formatted-toc-items &quot;,\n&quot;))
             (output-name (ly:parser-output-name))
             (outfilename (format &quot;~a.toc&quot; output-name))
             (outfile (open-output-file outfilename)))
        (if (output-port? outfile)
            (display whole-string outfile)
            (ly:warning (_ &quot;Unable to open output file ~a for the TOC information&quot;) outfilename))
        (close-output-port outfile)))))

\paper {
  #(define (page-post-process layout pages) (oly:create-toc-file layout pages))
}
</pre></td></tr></table>

<a name="LaTeX-_306b_76ee_6b21_3092_30a4_30f3_30dd_30fc_30c8_3059_308b"></a>
<h4 class="subsubheading">LaTeX に目次をインポートする</h4>

<p>LaTeX ファイルのヘッダ中に以下を記述します:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">\usepackage{pdfpages}
\includescore{nameofthescore}
</pre></td></tr></table>

<p>ここで、<code>\includescore</code> は以下のように定義されています:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \includescore{PossibleExtension}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Read in the TOC entries for a PDF file from the corresponding .toc file.
% This requires some heave latex tweaking, since reading in things from a file
% and inserting it into the arguments of a macro is not (easily) possible

% Solution by Patrick Fimml on #latex on April 18, 2009:
% \readfile{filename}{\variable}
% reads in the contents of the file into \variable (undefined if file
% doesn't exist)
\newread\readfile@f
\def\readfile@line#1{%
{\catcode`\^^M=10\global\read\readfile@f to \readfile@tmp}%
\edef\do{\noexpand\g@addto@macro{\noexpand#1}{\readfile@tmp}}\do%
\ifeof\readfile@f\else%
\readfile@line{#1}%
\fi%
}
\def\readfile#1#2{%
\openin\readfile@f=#1 %
\ifeof\readfile@f%
\typeout{No TOC file #1 available!}%
\else%
\gdef#2{}%
\readfile@line{#2}%
\fi
\closein\readfile@f%
}%


\newcommand{\includescore}[1]{
\def\oly@fname{\oly@basename\@ifmtarg{#1}{}{_#1}}
\let\oly@addtotoc\undefined
\readfile{\oly@xxxxxxxxx}{\oly@addtotoc}
\ifx\oly@addtotoc\undefined
\includepdf[pages=-]{\oly@fname}
\else
\edef\includeit{\noexpand\includepdf[pages=-,addtotoc={\oly@addtotoc}]
{\oly@fname}}\includeit
\fi
}
</pre></td></tr></table>


<hr size="6">
<a name="g_t_30c6_30ad_30b9_30c8_3068_697d_8b5c_3092_7d44_307f_5408_308f_305b_308b_4ed6_306e_65b9_6cd5"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#external-programs" title="次の章">&nbsp;外部プログラム &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#sharing-the-table-of-contents" title="前のセクション" accesskey="p" rel="previous"> &lt; 目次を共有する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond_002dbook" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;lilypond-book&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#external-programs" title="次のセクション" accesskey="n" rel="next">&nbsp;外部プログラム &gt; </a>]</td></tr></table>
<a name="alternative-methods-of-mixing-text-and-music"></a>
<h2 class="section">3.8 テキストと楽譜を組み合わせる他の方法</h2>

<p><code>lilypond-book</code> を使わずにテキストと楽譜を組み合わせる方法を
<a href="#lilypond-output-in-other-programs">LilyPond 出力を他のプログラムで使用する</a> で説明しています。
</p>




<hr size="6">
<a name="g_t_5916_90e8_30d7_30ed_30b0_30e9_30e0"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#lilypond_002dbook" title="この章あるいは前の章の先頭"> &lt;&lt; lilypond-book&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#alternative-methods-of-mixing-text-and-music" title="前のセクション" accesskey="p" rel="previous"> &lt; テキストと楽譜を組み合わせる他の方法&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#point-and-click" title="次のセクション" accesskey="n" rel="next">&nbsp;ポイント＆クリック &gt; </a>]</td></tr></table>
<a name="external-programs"></a>
<h1 class="chapter">4. 外部プログラム</h1>

<p>LilyPond は様々な方法で他のプログラムと連携することができます。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#point-and-click" accesskey="1">4.1 ポイント＆クリック</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#text-editor-support" accesskey="2">4.2 テキスト エディタ サポート</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#converting-from-other-formats" accesskey="3">4.3 他のフォーマットから変換する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#lilypond-output-in-other-programs" accesskey="4">4.4 LilyPond 出力を他のプログラムで使用する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#independent-includes" accesskey="5">4.5 独立した <code>include</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#external-programs" title="前のセクション" accesskey="p" rel="previous"> &lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;外部プログラム&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#enabling-point-and-click" title="次のセクション" accesskey="n" rel="next">&nbsp;ポイント＆クリックを有効にする &gt; </a>]</td></tr></table>
<a name="point-and-click"></a>
<h2 class="section">4.1 ポイント＆クリック</h2>

<p>ポイント＆クリックは PDF ドキュメントに音楽要素へのリンクを追加します。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#enabling-point-and-click" accesskey="1">ポイント＆クリックを有効にする</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#_00e9_0081_00b8_00e6_008a_009e_00e7_009a_0084_00e3_0081_00aa_00e3_0083_009d_00e3_0082_00a4_00e3_0083_00b3_00e3_0083_0088_00ef_00bc_0086_00e3_0082_00af_00e3_0083_00aa_00e3_0083_0083_00e3_0082_00af" accesskey="2">選択的なポイント＆クリック</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_3092_6709_52b9_306b_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#point-and-click" title="前のセクション" accesskey="p" rel="previous"> &lt; ポイント＆クリック&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;ポイント＆クリック&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#_00e9_0081_00b8_00e6_008a_009e_00e7_009a_0084_00e3_0081_00aa_00e3_0083_009d_00e3_0082_00a4_00e3_0083_00b3_00e3_0083_0088_00ef_00bc_0086_00e3_0082_00af_00e3_0083_00aa_00e3_0083_0083_00e3_0082_00af" title="次のセクション" accesskey="n" rel="next">&nbsp;選択的なポイント＆クリック &gt; </a>]</td></tr></table>
<a name="enabling-point-and-click"></a>
<h3 class="unnumberedsubsec">ポイント＆クリックを有効にする</h3>

<a name="index-point-and-click-_0028_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_0029"></a>

<p>ポイント＆クリックは PDF ビューアの中で表記をクリックすることで入力の中の表記を見つけ出すことを可能にします。これは楽譜の中でエラーを引き起こす入力を見つけ出すことより容易にします。
</p>
<p>この機能がアクティブな場合、LilyPond は PDF ファイルにハイパーリンクを付け加えます。これらのハイパーリンクは Web ブラウザに送られ、Web ブラウザはカーソルを持つテキスト エディタを適切な位置に開きます。
</p>
<p>この一連の動作を有効にするには、PDF ビューアが LilyPond で提供される &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo;
スクリプトを使ってハイパーリンクを追うように設定変更する必要があります。
</p>
<p>UNIX の Xpdf では、&lsquo;<tt>xpdfrc</tt>&rsquo;<sup><a name="DOCF5" href="#FOOT5">5</a></sup>
の中に以下の記述が必要です:
</p>
<p>以下の記述が &lsquo;<tt>xpdfrc</tt>&rsquo; の中に存在している必要があります。
UNIX において、このファイルは &lsquo;<tt>/etc/xpdfrc</tt>&rsquo; の中または
&lsquo;<tt>$HOME/.xpdfrc</tt>&rsquo; として存在します。
</p>
<blockquote><pre class="example">urlCommand     &quot;lilypond-invoke-editor %s&quot;
</pre></blockquote>

<p>プログラム &lsquo;<tt>lilypond-invoke-editor</tt>&rsquo; は小さな支援プログラムです。これは特別な <code>textedit</code> URI に対してエディタを呼び出し、それ以外に対しては Web ブラウザを呼び出します。このプログラムは環境変数 <code>EDITOR</code> を調べて、以下のパターンに動作します:
</p>
<dl compact="compact">
<dt> <code>emacs</code></dt>
<dd><p>  このプログラムは以下を呼び出します
</p><blockquote><pre class="example">emacsclient --no-wait +<var>line</var>:<var>column</var> <var>file</var>
</pre></blockquote>
</dd>
<dt> <code>gvim</code></dt>
<dd><p>  このプログラムは以下を呼び出します
</p><blockquote><pre class="example">gvim --remote +:<var>line</var>:norm<var>column</var> <var>file</var>
</pre></blockquote>
</dd>
<dt> <code>nedit</code></dt>
<dd><p>  このプログラムは以下を呼び出します
</p><blockquote><pre class="example">  nc -noask +<var>line</var> <var>file</var>'
</pre></blockquote>
</dd>
</dl>

<p>環境変数 <code>LYEDITOR</code> はこの動作をオーバライドするために使用されます。これにはエディタを起動するためのコマンド ラインを保持し、<code>%(column)s</code>, <code>%(line)s</code> はそれぞれファイル、列、行に置き換えられます。
以下の <code>LYEDITOR</code> 設定は標準の emacsclient 呼び出しと等価です。
</p>
<blockquote><pre class="example">emacsclient --no-wait +%(line)s:%(column)s %(file)s
</pre></blockquote>


<a name="index-file-size_002c-output-_0028_51fa_529b_306e_30d5_30a1_30a4_30eb-_30b5_30a4_30ba_0029"></a>

<p>ポイント＆クリックのリンクは出力ファイルを肥大化させます。PDF ファイルと PS ファイルのサイズを小さくするには、&lsquo;<tt>.ly</tt>&rsquo; ファイルの中に以下を記述してポイント＆クリックを OFF にします:
</p>
<blockquote><pre class="example">\pointAndClickOff
</pre></blockquote>

<p>以下を用いて、ポイント＆クリックを明示的に ON にすることができます:
</p>
<blockquote><pre class="example">\pointAndClickOn
</pre></blockquote>

<p>&lsquo;<tt>.ly</tt>&rsquo; ファイルの中でポイント＆クリックを OFF にする代わりにコマンド ライン オプションで OFF にすることができます:
</p>
<blockquote><pre class="example">lilypond -dno-point-and-click file.ly
</pre></blockquote>

<div class="warning"><p><strong>Note:</strong> 配布する LilyPond ファイルでは常にポイント＆クリックを OFF にして、.pdf ファイルにあなたのコンピュータの Path 情報が含まれないようにすべきです。配布する .pdf ファイルに Path 情報が含まれているとセキュリティ リスクとなります。
</p>
</div>
<hr size="6">
<a name="g_t_9078_629e_7684_306a_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#enabling-point-and-click" title="前のセクション" accesskey="p" rel="previous"> &lt; ポイント＆クリックを有効にする&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#point-and-click" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;ポイント＆クリック&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#text-editor-support" title="次のセクション" accesskey="n" rel="next">&nbsp;テキスト エディタ サポート &gt; </a>]</td></tr></table>
<a name="_00e9_0081_00b8_00e6_008a_009e_00e7_009a_0084_00e3_0081_00aa_00e3_0083_009d_00e3_0082_00a4_00e3_0083_00b3_00e3_0083_0088_00ef_00bc_0086_00e3_0082_00af_00e3_0083_00aa_00e3_0083_0083_00e3_0082_00af"></a>
<h3 class="unnumberedsubsec">選択的なポイント＆クリック</h3>

<p>インタラクティブなアプリケーションでは、ある特定のポイント＆クリック要素だけを含むことが望ましい場合もあります。例えば、誰かがある特定の音符から演奏を開始できるアプリケーションを作りたいと思った場合、音符をクリックした場合にその音符の上にある臨時記号やスラーのポイント＆クリックが開いてしまったのでは不便です。
</p>
<p>どのイベントをポイント＆クリックに含めるか指定することで、これを制御できます:
</p>
<ul>
<li>
&lsquo;<tt>.ly</tt>&rsquo; ファイルにハード コードする:

<blockquote><pre class="example">\pointAndClickTypes #'note-event
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>あるいは
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click 'note-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
コマンド ラインで指定する:

<blockquote><pre class="example">lilypond -dpoint-and-click=note-event   example.ly
</pre></blockquote>

</li></ul>

<p>複数のイベントを含めることができます:
</p>
<ul>
<li>
&lsquo;<tt>.ly</tt>&rsquo; ファイルにハード コードする:

<blockquote><pre class="example">\pointAndClickTypes #'(note-event dynamic-event)
\relative {
  c'2\f( f)
}
</pre></blockquote>

<p>あるいは
</p>
<blockquote><pre class="example">#(ly:set-option 'point-and-click '(note-event dynamic-event))
\relative {
  c'2\f( f)
}
</pre></blockquote>

</li><li>
コマンド ラインで指定する:

<table><tr><td>&nbsp;</td><td><pre class="smallexample">lilypond \
  -e&quot;(ly:set-option 'point-and-click '(note-event dynamic-event))&quot; \
  example.ly
</pre></td></tr></table>

</li></ul>


<hr size="6">
<a name="g_t_30c6_30ad_30b9_30c8-_30a8_30c7_30a3_30bf-_30b5_30dd_30fc_30c8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#_00e9_0081_00b8_00e6_008a_009e_00e7_009a_0084_00e3_0081_00aa_00e3_0083_009d_00e3_0082_00a4_00e3_0083_00b3_00e3_0083_0088_00ef_00bc_0086_00e3_0082_00af_00e3_0083_00aa_00e3_0083_0083_00e3_0082_00af" title="前のセクション" accesskey="p" rel="previous"> &lt; 選択的なポイント＆クリック&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;外部プログラム&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#emacs-mode" title="次のセクション" accesskey="n" rel="next">&nbsp;Emacs モード &gt; </a>]</td></tr></table>
<a name="text-editor-support"></a>
<h2 class="section">4.2 テキスト エディタ サポート</h2>

<a name="index-editors-_0028_30a8_30c7_30a3_30bf_0029"></a>
<a name="index-vim"></a>
<a name="index-emacs"></a>
<a name="index-modes_002c-editor-_0028_30a8_30c7_30a3_30bf_306e_30e2_30fc_30c9_0029"></a>
<a name="index-syntax-coloring-_0028_30ab_30e9_30fc_30ea_30f3_30b0_69cb_6587_0029"></a>
<a name="index-coloring_002c-syntax-_0028_30ab_30e9_30fc_30ea_30f3_30b0_69cb_6587_0029"></a>

<p>いくつかのテキスト エディタの LilyPond サポート機能があります。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#emacs-mode" accesskey="1">Emacs モード</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#vim-mode" accesskey="2">Vim モード</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#other-editors" accesskey="3">その他のエディタ</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Emacs-_30e2_30fc_30c9"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#text-editor-support" title="前のセクション" accesskey="p" rel="previous"> &lt; テキスト エディタ サポート&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;テキスト エディタ サポート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#vim-mode" title="次のセクション" accesskey="n" rel="next">&nbsp;Vim モード &gt; </a>]</td></tr></table>
<a name="emacs-mode"></a>
<h3 class="unnumberedsubsec">Emacs モード</h3>

<p>Emacs は &lsquo;<tt>lilypond-mode</tt>&rsquo; を持ちます。これはキーワード自動補完、インデント挿入、LilyPond 特有の括弧一致、構文カラーリング、コンパイルへのショートカット、それに Info を用いての LilyPond マニュアル参照といった機能を持ちます。&lsquo;<tt>lilypond-mode</tt>&rsquo; があなたのプラットフォームにインストールされていないのであれば、以下を参照してください。
</p>
<p>楽譜を記述して、LilyPond を実行するための Emacs モードは
&lsquo;<tt>elisp</tt>&rsquo; ディレクトリの中にあるソース アーカイブに保持されています。<code>make install</code> を実行して、これを <var>elispdir</var> にインストールします。ファイル &lsquo;<tt>lilypond-init.el</tt>&rsquo; を <var>load-path</var>&lsquo;<tt>/sites-start.d/</tt>&rsquo; に配置するか、&lsquo;<tt>~/.emacs</tt>&rsquo; または &lsquo;<tt>~/.emacs.el</tt>&rsquo; に追記する必要があります。
</p>
<p>&lsquo;<tt>~/.emacs</tt>&rsquo; に以下の行を追記 (あるいは修正) して、ソース パス (例えば &lsquo;<tt>~/site-lisp/</tt>&rsquo;) を <var>load-path</var> に追加した方が良いかもしれません。
</p>
<blockquote><pre class="example">(setq load-path (append (list (expand-file-name &quot;~/site-lisp&quot;)) load-path))
</pre></blockquote>


<hr size="6">
<a name="Vim-_30e2_30fc_30c9"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#emacs-mode" title="前のセクション" accesskey="p" rel="previous"> &lt; Emacs モード&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;テキスト エディタ サポート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-editors" title="次のセクション" accesskey="n" rel="next">&nbsp;その他のエディタ &gt; </a>]</td></tr></table>
<a name="vim-mode"></a>
<h3 class="unnumberedsubsec">Vim モード</h3>

<p><a href="http://www.vim.org">Vim</a> のために
LilyPond 用のファイルタイプ プラグイン、インデント モード、それに構文ハイライト モードが用意されています。これらの機能をすべて有効にするには、&lsquo;<tt>$HOME/.vimrc</tt>&rsquo; が以下の 3 行を順序に従って保持するよう追記
(あるいは修正) します:
</p>
<blockquote><pre class="example">filetype off
set runtimepath+=/usr/local/share/lilypond/current/vim/
filetype on
</pre></blockquote>

<p>LilyPond が &lsquo;<tt>/usr/local</tt>&rsquo; にインストールされていない場合はパスを適切に変更してください。このトピックは <a name="index-_305d_306e_4ed6_306e_60c5_5831_6e90"></a>
<a href="learning-big-page.ja.html#other-sources-of-information">その他の情報源</a> で議論されています。
</p>

<hr size="6">
<a name="g_t_305d_306e_4ed6_306e_30a8_30c7_30a3_30bf"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#vim-mode" title="前のセクション" accesskey="p" rel="previous"> &lt; Vim モード&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#text-editor-support" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;テキスト エディタ サポート&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#converting-from-other-formats" title="次のセクション" accesskey="n" rel="next">&nbsp;他のフォーマットから変換する &gt; </a>]</td></tr></table>
<a name="other-editors"></a>
<h3 class="unnumberedsubsec">その他のエディタ</h3>

<p>他にも LilyPond をサポートするエディタ
(テキスト ベースとグラフィカル ベースの両方) がありますが、それらの特殊な設定ファイルは LilyPond では配布されません。更なる情報はそれらのエディタのドキュメントを参照してください。LilyPond をサポートするエディタは
<a name="index-_3088_308a_7c21_5358_306a_7de8_96c6_624b_6bb5"></a>
<a href="web-big-page.ja.html#easier-editing">より簡単な編集手段</a> でリストアップされています。
</p>

<hr size="6">
<a name="g_t_4ed6_306e_30d5_30a9_30fc_30de_30c3_30c8_304b_3089_5909_63db_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-editors" title="前のセクション" accesskey="p" rel="previous"> &lt; その他のエディタ&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;外部プログラム&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-midi2ly" title="次のセクション" accesskey="n" rel="next">&nbsp;midi2ly を呼び出す &gt; </a>]</td></tr></table>
<a name="converting-from-other-formats"></a>
<h2 class="section">4.3 他のフォーマットから変換する</h2>

<p>楽譜の記述を他のフォーマットからインポートするもできます。この章では、配布プログラムに含まれるインポート ツールについて説明します。
LilyPond 入力を作り出すツールは他にもあります。例えば GUI シーケンスと XML コンバータです。詳細は <a href="http://lilypond.org">website</a> を参照してください。
</p>
<p>上で述べたツールは <code>lilypond</code> とは別のプログラムであり、コマンド ラインで実行します。詳細は <a href="#command_002dline-usage">コマンド ラインの使用方法</a> を参照してください。あなたが MacOS 10.3 や 10.4 を使っていて、これらのスクリプト (例えば <code>convert-ly</code>) を実行する際に問題が発生した場合は、<a name="index-MacOS-X-2"></a>
<a href="web-big-page.ja.html#macos-x">MacOS X</a> を参照してください。
</p>

<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-4"></a>
<h4 class="subsubheading">既知の問題と警告</h4>
<p>残念なことに我々にはこれらのプログラムを維持していくだけの余力はありません。&ldquo;これからの課題&rdquo; になっていると考えてください。パッチは適用されていますが、バグ レポートはほとんど解決されていません。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#invoking-midi2ly" accesskey="1">4.3.1 <code>midi2ly</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            MIDI をインポートする
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-musicxml2ly" accesskey="2">4.3.2 <code>musicxml2ly</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        MusicXML をインポートする
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-abc2ly" accesskey="3">4.3.3 <code>abc2ly</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             ABC をインポートする
</td></tr>
<tr><td align="left" valign="top"><a href="#invoking-etf2ly" accesskey="4">4.3.4 <code>etf2ly</code> を呼び出す</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Finale をインポートする
</td></tr>
<tr><td align="left" valign="top"><a href="#other-formats" accesskey="5">4.3.5 その他のフォーマット</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="midi2ly-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#converting-from-other-formats" title="前のセクション" accesskey="p" rel="previous"> &lt; 他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-musicxml2ly" title="次のセクション" accesskey="n" rel="next">&nbsp;musicxml2ly を呼び出す &gt; </a>]</td></tr></table>
<a name="invoking-midi2ly"></a>
<h3 class="subsection">4.3.1 <code>midi2ly</code> を呼び出す</h3>

<a name="index-MIDI"></a>

<p><code>midi2ly</code> は Type&nbsp;1 MIDI ファイルを
LilyPond ソース ファイルに変換します。
</p>
<p>MIDI (Music Instrument Digital Interface) は電子楽器の標準です:
これはケーブル、シリアル プロトコル、それにファイル フォーマットを指定します。MIDI ファイル フォーマットは音楽を他のプログラムにエクスポートするためのデファクトスタンダードなフォーマットです。そのため、MIDI ファイルを扱う機能を持つことは、独自フォーマットを MIDI に変換できるプログラムのファイルをインポートする際に有用です。
</p>
<p><code>midi2ly</code> はトラックを <a name="index-Staff"></a>
<a href="internals-big-page.html#staff">Staff</a> コンテキストに変換し、チャネルを <a name="index-Voice"></a>
<a href="internals-big-page.html#voice">Voice</a> コンテキストに変換します。ピッチには相対モードが使用され、演奏時間は必要がある場合にだけ記述されます。
</p>
<p>デジタル キーボードを使って MIDI ファイルを録音し、それを &lsquo;<tt>.ly</tt>&rsquo; ファイルに変換することが可能です。しかしながら、人間の演奏者のリズムは LilyPond コンバータにかけられる
MIDI を作り出せるほど正確ではありません。量子化オプション (&lsquo;<samp>-s</samp>&rsquo; と &lsquo;<samp>-d</samp>&rsquo; オプション) を指定して
<code>midi2ly</code> を呼び出すと、リズムの誤りを訂正しようとしますが、十分機能するとは言えません。このため、人間の演奏で生成された MIDI ファイルを <code>midi2ly</code> で変換することはお勧めできません。
</p>

<p><code>midi2ly</code> は以下のようにコマンド ラインから呼び出します:
</p><blockquote><pre class="example">midi2ly [<var>option</var>]&hellip; <var>midi-file</var>
</pre></blockquote>

<p>&lsquo;コマンド ライン&rsquo; とは、OS のコマンド ラインを意味しているということに注意してください。このことについての更なる情報は <a href="#converting-from-other-formats">他のフォーマットから変換する</a>
を参照してください。
</p>
<p><code>midi2ly</code> には以下のオプションがあります。
</p>
<dl compact="compact">
<dt> <code>-a, --absolute-pitches</code></dt>
<dd><p>絶対ピッチで出力します。
</p>
</dd>
<dt> <code>-d, --duration-quant=<var>DUR</var></code></dt>
<dd><p>音符の演奏時間を <var>DUR</var> で量子化します。
</p>
</dd>
<dt> <code>-e, --explicit-durations</code></dt>
<dd><p>すべての音符の演奏時間を出力します。
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>使用方法の要約を表示します。
</p>
</dd>
<dt> <code>-k, --key=<var>acc</var>[:<var>minor</var>]</code></dt>
<dd><p>デフォルトの調をセットします。<em><var>acc</var> &gt; 0</em> はシャープの数をセットし、<em><var>acc</var> &lt; 0</em> はフラットの数をセットします。短調は <code>:1</code> で指定します。
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p><var>file</var> に出力します。
</p>
</dd>
<dt> <code>-s, --start-quant=<var>DUR</var></code></dt>
<dd><p>音符の始まりを <var>DUR</var> で量子化します。
</p>
</dd>
<dt> <code>-t, --allow-tuplet=<var>DUR</var>*<var>NUM</var>/<var>DEN</var></code></dt>
<dd><p>連符の演奏時間 <var>DUR</var>*<var>NUM</var>/<var>DEN</var> を許可します。
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Verbose モード (ログ等が詳細) で実行します。
</p>
</dd>
<dt> <code>-V, --version</code></dt>
<dd><p>バージョン番号を表示します。
</p>
</dd>
<dt> <code>-w, --warranty</code></dt>
<dd><p>保証と著作権を表示します。
</p>
</dd>
<dt> <code>-x, --text-lyrics</code></dt>
<dd><p>すべてのテキストを歌詞として扱います。
</p></dd>
</dl>


<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a"></a>
<h4 class="subsubheading">既知の問題と警告</h4>

<p>アルペジオでの音符のオーバラップは正しく変換されません。最初の音符は読み込まれますが、他の音符は無視されます。すべての音符を同時に開始させ、同じ演奏にして、フレーズ記号かペダル指示記号を追加してください。
</p>

<hr size="6">
<a name="musicxml2ly-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-midi2ly" title="前のセクション" accesskey="p" rel="previous"> &lt; midi2ly を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-abc2ly" title="次のセクション" accesskey="n" rel="next">&nbsp;abc2ly を呼び出す &gt; </a>]</td></tr></table>
<a name="invoking-musicxml2ly"></a>
<h3 class="subsection">4.3.2 <code>musicxml2ly</code> を呼び出す</h3>

<a name="index-MusicXML"></a>

<p><a href="http://www.musicxml.org">MusicXML</a> は音楽記譜を表すための
XML の派生語です。
</p>
<p><code>musicxml2ly</code> は Part-wise (時間軸優先ではなくパート優先の) MusicXML
から、音符、アーティキュレーション、楽譜構造、歌詞等を抽出し、それらを &lsquo;<tt>.ly</tt>&rsquo; ファイルに記述します。</p>
<p>このプログラムはコマンド ラインから以下のように呼び出します:
</p><blockquote><pre class="example">musicxml2ly [<var>option</var>]&hellip; <var>xml-file</var>
</pre></blockquote>

<p>&lsquo;コマンド ライン&rsquo; とは、OS のコマンド ラインを意味しているということに注意してください。このことについての更なる情報は <a href="#converting-from-other-formats">他のフォーマットから変換する</a>
を参照してください。
</p>
<p>ファイル名に &lsquo;<tt>-</tt>&rsquo; を指定すると、<code>musicxml2ly</code> はコマンド ラインから入力を受け付けます。
</p>
<p><code>musicxml2ly</code> には以下のオプションがあります。
</p>
<dl compact="compact">
<dt> <code>-a, --absolute</code></dt>
<dd><p>絶対ピッチで出力します。
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>使用方法の要約を表示します。
</p>
</dd>
<dt> <code>-l, --language=LANG</code></dt>
<dd><p>ピッチ名に LANG を使用します。例えば、ピッチ名にドイツ語を使用するには &rsquo;deutsch&rsquo; を指定します。
</p>
</dd>
<dt> <code>--loglevel=<var>loglevel</var></code></dt>
<dd><p>出力の饒舌さを <var>loglevel</var> にセットします。取り得る値は <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>,
<code>PROGRESS</code> (デフォルト), それに <code>DEBUG</code> です。
</p>
</dd>
<dt> <code>--lxml</code></dt>
<dd><p>XML 解析に lxml.etree Python パッケージを使用します。これはより少ないメモリと CPU 時間で実行されます。
</p>
</dd>
<dt> <code>-m, --midi</code></dt>
<dd><p>MIDI ブロックを有効にします。
</p>
</dd>
<dt> <code>-nd --no-articulation-directions</code></dt>
<dd><p>アーティキュレーションや強弱等の指示 (<code>^</code>, <code>_</code> あるいは <code>-</code>)
を変換しません。
</p>
</dd>
<dt> <code>--no-beaming</code></dt>
<dd><p>連桁情報を変換せず、LilyPond の自動連桁機能を使用します。
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>出力ファイル名を <var>file</var> とします。<var>file</var> に &lsquo;<tt>-</tt>&rsquo; を指定すると、出力は stdout に表示されます。指定が無い場合、出力は <var>xml-file</var>&lsquo;<tt>.ly</tt>&rsquo; となります。
</p>
</dd>
<dt> <code>-r, --relative</code></dt>
<dd><p>ピッチを相対モードに変換します。(デフォルト)
</p>
</dd>
<dt> <code>-v, --verbose</code></dt>
<dd><p>Verbose モード (ログ等が詳細) で実行します。
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>バージョン情報を表示します。
</p>
</dd>
<dt> <code>-z, --compressed</code></dt>
<dd><p>入力ファイルが ZIP で圧縮された MusicXML ファイルであることを示します。
</p></dd>
</dl>


<hr size="6">
<a name="abc2ly-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-musicxml2ly" title="前のセクション" accesskey="p" rel="previous"> &lt; musicxml2ly を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#invoking-etf2ly" title="次のセクション" accesskey="n" rel="next">&nbsp;etf2ly を呼び出す &gt; </a>]</td></tr></table>
<a name="invoking-abc2ly"></a>
<h3 class="subsection">4.3.3 <code>abc2ly</code> を呼び出す</h3>

<div class="warning"><p><strong>Note:</strong> このプログラムはサポートされていません。LilyPond 将来のバージョンからは削除される可能性があります。
</p>
</div>
<a name="index-ABC"></a>

<p>ABC は ASCII ベースの非常にシンプルなフォーマットです。このファイル形式について ABC のサイトで説明されています:
</p>
<blockquote><p><a href="http://www.walshaw.plus.com/abc/learn.html">http://www.walshaw.plus.com/abc/learn.html</a>.
</p></blockquote>

<p><code>abc2ly</code> は ABC から LilyPond に変換を行います。以下のように呼び出します:
</p>
<blockquote><pre class="example">abc2ly [<var>option</var>]&hellip; <var>abc-file</var>
</pre></blockquote>

<p><code>abc2ly</code> には以下のオプションがあります。
</p>
<dl compact="compact">
<dt> <code>-b, --beams=None</code></dt>
<dd><p>ABC の連桁情報を保持します。
</p>
</dd>
<dt> <code>-h, --help</code></dt>
<dd><p>このオプション一覧を表示します。
</p>
</dd>
<dt> <code>-o, --output=<var>file</var></code></dt>
<dd><p>出力ファイル名を <var>file</var> とします。
</p>
</dd>
<dt> <code>-s, --strict</code></dt>
<dd><p>be strict about success
</p>
</dd>
<dt> <code>--version</code></dt>
<dd><p>バージョン情報を表示します。
</p></dd>
</dl>

<p>LilyPond コードを ABC ソース ファイルに付け加えるための簡単な機能があります。以下のように記述した場合:
</p>
<blockquote><pre class="example">%%LY voices \set autoBeaming = ##f
</pre></blockquote>

<p>キーワード &lsquo;voices&rsquo; の後に続くテキストが
LilyPond 出力ファイルのカレントのボイスに挿入されます。
</p>
<p>同様に、
</p>
<blockquote><pre class="example">%%LY slyrics more words
</pre></blockquote>

<p>これは、キーワード &lsquo;slyrics&rsquo; の後に続くテキストを歌詞のカレント行に挿入します。
</p>

<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-2"></a>
<h4 class="subsubheading">既知の問題と警告</h4>

<p>ABC の標準はあくまでも &lsquo;標準&rsquo; でしかありません。機能拡張 (例えば、多声音楽) のために、異なる書式があります。
</p>
<p>1 つのファイルに複数の旋律を持つものは変換できません。
</p>
<p>ABC は行の先頭で単語と音符との同期をとりますが、<code>abc2ly</code> は同期をとりません。
</p>
<p><code>abc2ly</code> は ABC の連桁を無視します。
</p>

<hr size="6">
<a name="etf2ly-_3092_547c_3073_51fa_3059"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-abc2ly" title="前のセクション" accesskey="p" rel="previous"> &lt; abc2ly を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#other-formats" title="次のセクション" accesskey="n" rel="next">&nbsp;その他のフォーマット &gt; </a>]</td></tr></table>
<a name="invoking-etf2ly"></a>
<h3 class="subsection">4.3.4 <code>etf2ly</code> を呼び出す</h3>

<div class="warning"><p><strong>Note:</strong> このプログラムはサポートされていません。LilyPond 将来のバージョンからは削除される可能性があります。
</p>
</div>
<a name="index-ETF"></a>
<a name="index-enigma"></a>
<a name="index-Finale"></a>
<a name="index-Coda-Technology"></a>

<p>ETF (Enigma Transport Format) is a format used by Coda Music
Technology&rsquo;s Finale product.  <code>etf2ly</code> will convert part of an ETF
file to a ready-to-use LilyPond file.
</p>
<p>It is invoked from the command-line as follows.
</p>
<blockquote><pre class="example">etf2ly [<var>option</var>]&hellip; <var>etf-file</var>
</pre></blockquote>

<p>Note that by &lsquo;command-line&rsquo;, we mean the command line of the
operating system.  See <a href="#converting-from-other-formats">他のフォーマットから変換する</a>, for
more information about this.
</p>
<p>The following options are supported by <code>etf2ly</code>:
</p>
<dl compact="compact">
<dt> <code>-h, --help</code></dt>
<dd><p>this help
</p></dd>
<dt> <code>-o, --output=<var>FILE</var></code></dt>
<dd><p>set output filename to <var>FILE</var>
</p></dd>
<dt> <code>--version</code></dt>
<dd><p>version information
</p></dd>
</dl>


<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-3"></a>
<h4 class="subsubheading">既知の問題と警告</h4>

<p>The list of articulation scripts is incomplete.  Empty measures
confuse <code>etf2ly</code>.  Sequences of grace notes are ended improperly.
</p>

<hr size="6">
<a name="g_t_305d_306e_4ed6_306e_30d5_30a9_30fc_30de_30c3_30c8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#invoking-etf2ly" title="前のセクション" accesskey="p" rel="previous"> &lt; etf2ly を呼び出す&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#converting-from-other-formats" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;他のフォーマットから変換する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-output-in-other-programs" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond 出力を他のプログラムで使用する &gt; </a>]</td></tr></table>
<a name="other-formats"></a>
<h3 class="subsection">4.3.5 その他のフォーマット</h3>

<a name="index-External-programs_002c-generating-LilyPond-files-_0028LilyPond-_30d5_30a1_30a4_30eb_3092_751f_6210_3059_308b_5916_90e8_30d7_30ed_30b0_30e9_30e0_0029"></a>

<p>LilyPond 自体は他のフォーマットを一切サポートしませんが、外部ツールで LilyPond ファイルを生成することができます。それらのツールは <a name="index-_3088_308a_7c21_5358_306a_7de8_96c6_624b_6bb5-1"></a>
<a href="web-big-page.ja.html#easier-editing">より簡単な編集手段</a> でリストアップされています。
</p>

<hr size="6">
<a name="LilyPond-_51fa_529b_3092_4ed6_306e_30d7_30ed_30b0_30e9_30e0_3067_4f7f_7528_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#other-formats" title="前のセクション" accesskey="p" rel="previous"> &lt; その他のフォーマット&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;外部プログラム&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#many-quotes-from-a-large-score" title="次のセクション" accesskey="n" rel="next">&nbsp;大きな楽譜から多くの引用を行う &gt; </a>]</td></tr></table>
<a name="lilypond-output-in-other-programs"></a>
<h2 class="section">4.4 LilyPond 出力を他のプログラムで使用する</h2>

<p>このセクションでは、<code>lilypond-book</code> を用いた自動手法ではない、テキストと楽譜を統合する手法を示します。
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#many-quotes-from-a-large-score" accesskey="1">大きな楽譜から多くの引用を行う</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#inserting-lilypond-output-into-openoffice_002eorg" accesskey="2">LilyPond 出力を OpenOffice.org に挿入する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#inserting-lilypond-output-into-other-programs" accesskey="3">LilyPond 出力を他のプログラムに挿入する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t_5927_304d_306a_697d_8b5c_304b_3089_591a_304f_306e_5f15_7528_3092_884c_3046"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#lilypond-output-in-other-programs" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond 出力を他のプログラムで使用する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 出力を他のプログラムで使用する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#inserting-lilypond-output-into-openoffice_002eorg" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond 出力を OpenOffice.org に挿入する &gt; </a>]</td></tr></table>
<a name="many-quotes-from-a-large-score"></a>
<h3 class="unnumberedsubsec">大きな楽譜から多くの引用を行う</h3>

<p>大きな楽譜から多くの断片を引用する必要がある場合、システムをクリップする機能を使うことができます。<a name="index-Extracting-fragments-of-music-1"></a>
<a href="notation-big-page.ja.html#extracting-fragments-of-music">Extracting fragments of music</a> を参照してください。
</p>
<hr size="6">
<a name="LilyPond-_51fa_529b_3092-OpenOffice_002eorg-_306b_633f_5165_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#many-quotes-from-a-large-score" title="前のセクション" accesskey="p" rel="previous"> &lt; 大きな楽譜から多くの引用を行う&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 出力を他のプログラムで使用する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#inserting-lilypond-output-into-other-programs" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond 出力を他のプログラムに挿入する &gt; </a>]</td></tr></table>
<a name="inserting-lilypond-output-into-openoffice_002eorg"></a>
<h3 class="unnumberedsubsec">LilyPond 出力を OpenOffice.org に挿入する</h3>

<a name="index-OpenOffice_002eorg"></a>

<p><a href="http://ooolilypond.sourceforge.net">OOoLilyPond</a> を用いて
LilyPond 記譜を OpenOffice.org に付け加えることができます。
</p>

<hr size="6">
<a name="LilyPond-_51fa_529b_3092_4ed6_306e_30d7_30ed_30b0_30e9_30e0_306b_633f_5165_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#inserting-lilypond-output-into-openoffice_002eorg" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond 出力を OpenOffice.org に挿入する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#lilypond-output-in-other-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 出力を他のプログラムで使用する&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#independent-includes" title="次のセクション" accesskey="n" rel="next">&nbsp;独立した include &gt; </a>]</td></tr></table>
<a name="inserting-lilypond-output-into-other-programs"></a>
<h3 class="unnumberedsubsec">LilyPond 出力を他のプログラムに挿入する</h3>

<p>LilyPond 出力を他のプログラムに挿入するには、<code>lilypond-book</code> ではなく、<code>lilypond</code> を使用します。それぞれの例を個々に作成してドキュメントに付け加えます。大抵のプログラムに &lsquo;<tt>PNG</tt>&rsquo;, &lsquo;<tt>EPS</tt>&rsquo;, あるいは &lsquo;<tt>PDF</tt>&rsquo; フォーマットの
LilyPond 出力を挿入することができます。
</p>
<p>LilyPond 楽譜の周りの空白を減らすには、以下のオプションを使用します:
the following options
</p>
<blockquote><pre class="example">\paper{
  indent=0\mm
  line-width=120\mm
  oddFooterMarkup=##f
  oddHeaderMarkup=##f
  bookTitleMarkup = ##f
  scoreTitleMarkup = ##f
}

{ c1 }
</pre></blockquote>

<p>有用な画像ファイルを作り出すには、以下のようにします:
</p>
<blockquote><pre class="example">EPS

lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts myfile.ly

PNG

lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts --png myfile.ly

透過 PNG

lilypond -dbackend=eps -dno-gs-load-fonts -dinclude-eps-fonts \
  -dpixmap-format=pngalpha --png myfile.ly
</pre></blockquote>


<hr size="6">
<a name="g_t_72ec_7acb_3057_305f-include"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#inserting-lilypond-output-into-other-programs" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond 出力を他のプログラムに挿入する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#external-programs" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;外部プログラム&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#midi-articulation" title="次のセクション" accesskey="n" rel="next">&nbsp;MIDI アーティキュレーション &gt; </a>]</td></tr></table>
<a name="independent-includes"></a>
<h2 class="section">4.5 独立した <code>include</code></h2>

<p>共有可能な大きな (そして有用な！) コードを記述している人がいます。これらのコードは独自のやり方で LilyPond を include してい場合があります。include が行われない場合、include されるファイルをダウンロードして手動でそれらを include する必要があります。
</p>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#midi-articulation" accesskey="1">4.5.1 MIDI アーティキュレーション</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="MIDI-_30a2_30fc_30c6_30a3_30ad_30e5_30ec_30fc_30b7_30e7_30f3"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#suggestions-for-writing-files" title="次の章">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#independent-includes" title="前のセクション" accesskey="p" rel="previous"> &lt; 独立した include&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#independent-includes" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;独立した include&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#suggestions-for-writing-files" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond 入力ファイルの記述に対する提案 &gt; </a>]</td></tr></table>
<a name="midi-articulation"></a>
<h3 class="subsection">4.5.1 MIDI アーティキュレーション</h3>

<p>LilyPond は &ldquo;校閲&rdquo; のために MIDI 出力を作り出すことができます。しかしながら MIDI に出力されるのは、強弱記号、明示的なテンポ記号、音符と演奏時間だけです。
</p>
<p><em>アーティキュレーション</em> プロジェクトは、楽譜の情報をより多く MIDI に組み込もうとしている試みの 1 つです。音符に &lsquo;アーティキュレーション&rsquo; を加えるため、スラーの付いていない音符を縮めます。縮める長さは音符に付いているアーティキュレーション記号に基づいてが決まります:
例えば、スタッカートは音価を半分にし、テヌートは音符を演奏時間いっぱい鳴らします。さらに、このスクリプトはトリルとターンを理解し、モルデントなど他の装飾を理解するよう拡張することができます。
</p>
<blockquote><pre class="example"><a href="http://www.nicta.com.au/people/chubbp/articulate">http://www.nicta.com.au/people/chubbp/articulate</a>
</pre></blockquote>

<a name="g_t_65e2_77e5_306e_554f_984c_3068_8b66_544a-6"></a>
<h4 class="subsubheading">既知の問題と警告</h4>

<p>この機能は理解できるものにしか効果を持ちません:
(音符のプロパティの代わりの) テキスト マークアップは無視されます。
</p>




<hr size="6">
<a name="LilyPond-_5165_529b_30d5_30a1_30a4_30eb_306e_8a18_8ff0_306b_5bfe_3059_308b_63d0_6848"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#external-programs" title="この章あるいは前の章の先頭"> &lt;&lt; 外部プログラム&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#midi-articulation" title="前のセクション" accesskey="p" rel="previous"> &lt; MIDI アーティキュレーション&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#general-suggestions" title="次のセクション" accesskey="n" rel="next">&nbsp;一般的な提案 &gt; </a>]</td></tr></table>
<a name="suggestions-for-writing-files"></a>
<h1 class="chapter">5. LilyPond 入力ファイルの記述に対する提案</h1>

<p>今やあなたはもっと大きな LilyPond 入力ファイル &ndash; チュートリアルにあるような小さな例ではなく、楽曲全体 &ndash; を書き始める準備が整っています。しかしながら、どのように書き進めていくべきなのでしょうか？
</p>
<p>LilyPond があなたの入力ファイルを理解でき、望みの出力を作り出している限り、あなたの入力ファイルがどのようなものであるかは問題になりません。しかしながら、LilyPond 入力ファイルを書いているときに考慮すべきことが他にもいくつかあります。
</p>
<ul>
<li> あなたがミスをしたとしたらどうでしょうか？LilyPond ファイルの構造はエラーを見つけ出すことをより容易に (あるいはより困難に) します。

</li><li> あなたがあなたの入力ファイルを誰か他の人と共有したいとしたらどうでしょうか？実際には、あなたが数年前のあなた自身の入力ファイルを変更したいとしたらどうでしょうか？一読して理解可能な LilyPond 入力ファイルがある一方で、あなたを 1 時間も悩ます入力ファイルもあるかもしれません。

</li><li> あなたがあなたの LilyPond ファイルを最近のバージョンの LilyPond のためにアップグレードしたいとしたらどうでしょうか？入力構文は LilyPond の改良に合わせてしばしば変更されます。たいていの変更は <code>convert-ly</code> で自動的に変換できますが、いくつかの変更は手動での援助を必要とするかもしれません。LilyPond 入力ファイルはより容易に (あるいはより困難に)
更新できるように構成することができます。

</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#general-suggestions" accesskey="1">5.1 一般的な提案</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#typesetting-existing-music" accesskey="2">5.2 既存の音楽を譜刻する</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#large-projects" accesskey="3">5.3 大きなプロジェクト</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#troubleshooting" accesskey="4">5.4 トラブルシュート</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#make-and-makefiles" accesskey="5">5.5 Make と Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>


<hr size="6">
<a name="g_t_4e00_822c_7684_306a_63d0_6848"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#suggestions-for-writing-files" title="前のセクション" accesskey="p" rel="previous"> &lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#typesetting-existing-music" title="次のセクション" accesskey="n" rel="next">&nbsp;既存の音楽を譜刻する &gt; </a>]</td></tr></table>
<a name="general-suggestions"></a>
<h2 class="section">5.1 一般的な提案</h2>

<p>ここで、あなたが問題を回避したり修正する手助けになる可能性がある提案をいくつか挙げます:
</p>
<ul>
<li> <strong>すべてのファイルに <code>\version</code> 番号を含めます</strong>。テンプレートはすべて <code>\version</code> 情報を保持しているということに注意してください。常に <code>\version</code> を含めること &ndash; ファイルの大小にかかわらず &ndash;
を強く推奨します。個人的な経験から言って、数年前に使っていた LilyPond のバージョンを思い出そうとすることは大変なことです。<code>convert-ly</code> は使用した LilyPond のバージョンを宣言することを必要とします。

</li><li> <strong>チェックを含めます</strong>:
<a name="index-_5c0f_7bc0_3068_5c0f_7bc0_756a_53f7_306e_30c1_30a7_30c3_30af-1"></a>
<a href="notation-big-page.ja.html#bar-and-bar-number-checks">小節と小節番号のチェック</a>, <a name="index-_30aa_30af_30bf_30fc_30d6-_30c1_30a7_30c3_30af"></a>
<a href="notation-big-page.ja.html#octave-checks">オクターブ チェック</a>。時々チェックを入れておけば、ミスをしたときに素早くそれを見つけ出すことができます。&lsquo;時々&rsquo; とはどれくらいの頻度なのでしょうか？それはその音楽の複雑さ次第です。とても簡単な音楽であれば、たぶん 1 回か 2 回です。とても複雑な音楽であれば、おそらく各小節にチェックを入れます。

</li><li> <strong>テキスト 1 行につき 1 小節にします</strong>。音楽自体や望みの出力が複雑である場合、1 行に 1 小節だけを記述すると良い場合が多いです。画面スペースを節約するために 1 行に 8 小節も詰め込むことは、入力ファイルを &lsquo;デバッグ&rsquo; しなければならない場合に、そうするだけの価値はありません。

</li><li> <strong>入力ファイルにコメントをつけます</strong>。コメントとして小節番号 (時々) や音楽テーマへの参照
(&lsquo;second theme in violins&rsquo;, &lsquo;fourth variation&rsquo;
(&lsquo;ヴァイオリンの第 2 テーマ&rsquo;, &lsquo;第 4 ヴァイオリン&rsquo;)
など) を使用します。初めて楽曲を書いているときはコメントをつける必要は無いかもしれません。しかしながら、数年後に何か変更を加えたいと思った場合や、ソースを友人に渡す場合、あなたがファイルにコメントをつけていなければ、あなたの意図やファイルがどのように構成されているのかを特定することはずっと大変になります。

</li><li> <strong>波括弧にインデントを入れる</strong>。多くの問題は <code>{</code> と <code>}</code> の数が食い違うことによって生じます。

</li><li> セクションや変数の開始時に<strong>明示的に演奏時間を付け加える</strong>。フレーズの開始時に <code>c4 d e</code> (<code>c d e</code> ではなく) と記述しておけば、後になって音楽を再編成する場合に問題の発生を免れる可能性があります。

</li><li> 音楽定義から<strong>調整を分離します</strong>。<a name="index-_5909_6570_3068_95a2_6570_3092_7528_3044_3066_5165_529b_306e_624b_9593_3092_7701_304f"></a>
<a href="learning-big-page.ja.html#saving-typing-with-variables-and-functions">変数と関数を用いて入力の手間を省く</a> と
<a name="index-_30b9_30bf_30a4_30eb-_30b7_30fc_30c8"></a>
<a href="learning-big-page.ja.html#style-sheets">スタイル シート</a> を参照してください。

</li></ul>


<hr size="6">
<a name="g_t_65e2_5b58_306e_97f3_697d_3092_8b5c_523b_3059_308b"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#general-suggestions" title="前のセクション" accesskey="p" rel="previous"> &lt; 一般的な提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#large-projects" title="次のセクション" accesskey="n" rel="next">&nbsp;大きなプロジェクト &gt; </a>]</td></tr></table>
<a name="typesetting-existing-music"></a>
<h2 class="section">5.2 既存の音楽を譜刻する</h2>

<p>既存の楽譜からの音楽を入力している
(つまり、既存の楽譜の楽曲を譜刻している) のなら、
</p>
<ul>
<li> 1 回につき 1 つのシステム
(訳者: システムとは譜の集まりのこと。例えば、ピアノ譜での 1 システムとは、右手譜 1 小節とそれに対応する左手譜 1 小節)
を入力し (しかし、それでもテキスト 1 行につき 1 小節だけにします)、それを終えたときに各システムをチェックします。処理をスピード アップさせるために <code>showLastLength</code> プロパティや
<code>showFirstLength</code> プロパティを使うことになるかもしれません &ndash;
<a name="index-Skipping-corrected-music"></a>
<a href="notation-big-page.ja.html#skipping-corrected-music">Skipping corrected music</a> を参照してください。

</li><li> <code>mBreak = { \break }</code> を定義して、写している楽譜が改行するたびに <code>\mBreak</code> を入力ファイルに挿入します。これにより、LilyPond の音楽とオリジナルの音楽を比較することがずっと容易になります。入力した楽譜の校正が終わったときに、それらの改行すべてを削除するために
<code>mBreak = { }</code> を定義することになるかもしれません。これにより、LilyPond は LilyPond が最適と思う場所に改行を入れることができるようになります。

</li><li> 移調楽器のパートは変数に入力します。移調楽器の音符は以下で囲むことを推奨します:

<blockquote><pre class="example">\transpose c natural-pitch {...}
</pre></blockquote>

<p>(<code>natural-pitch</code> はその楽器のオープン ピッチです)
これにより、変数の中の音楽は C で効率的に記述することができます。変数を使用していれば、必要なときに移調しなおすこともできます
(例えば、楽譜をコンサート ピッチで譜刻したり、トロンボーン パートをト音記号からヘ音記号に変換したり、など)。音楽をすべて変数の中に首尾一貫したピッチで記述しておけば、移調のミスは起こりにくくなります。
</p>
<p>また、移調が C との間で行われるだけ
&ndash; つまり、他に使用する調が楽器のナチュラル ピッチだけ:
B-フラット トランペットなら bes、A-フラット クラリネットなら aes &ndash;
であるとしても、音楽を変数に格納しておくべきです。</p>
</li></ul>


<hr size="6">
<a name="g_t_5927_304d_306a_30d7_30ed_30b8_30a7_30af_30c8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#typesetting-existing-music" title="前のセクション" accesskey="p" rel="previous"> &lt; 既存の音楽を譜刻する&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#troubleshooting" title="次のセクション" accesskey="n" rel="next">&nbsp;トラブルシュート &gt; </a>]</td></tr></table>
<a name="large-projects"></a>
<h2 class="section">5.3 大きなプロジェクト</h2>

<p>大きなプロジェクトに取り組んでいるとき、LilyPond 入力ファイルの構造をすっきりさせておくことが不可欠です。
</p>
<ul>
<li> <strong>各ボイスに対して変数を使用して</strong>、定義の中の構造を最小限にします。<code>\score</code> セクションの構造が最も変更される可能性が高い箇所です。一方、<code>violin</code> 定義は LilyPond のバージョンが新しくなっても変更される可能性はまずありません。

<blockquote><pre class="example">violin = \relative {
g'4 c'8. e16
}
...
\score {
  \new GrandStaff {
    \new Staff {
      \violin
    }
  }
}
</pre></blockquote>

</li><li> <strong>調整を音楽定義から分離します</strong>。このことは前にも触れましたが、大きなプロジェクトでは絶対に不可欠なことです。<code>fthenp</code> の定義を変更する必要が生じた場合、変更は 1 回で済み、<code>violin</code> の内部にはまったく手を触れる必要がありません。

<blockquote><pre class="example">fthenp = _\markup{
  \dynamic f \italic \small { 2nd } \hspace #0.1 \dynamic p }
violin = \relative {
g'4\fthenp c'8. e16
}
</pre></blockquote>

</li></ul>


<hr size="6">
<a name="g_t_30c8_30e9_30d6_30eb_30b7_30e5_30fc_30c8"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#large-projects" title="前のセクション" accesskey="p" rel="previous"> &lt; 大きなプロジェクト&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#make-and-makefiles" title="次のセクション" accesskey="n" rel="next">&nbsp;Make と Makefile &gt; </a>]</td></tr></table>
<a name="troubleshooting"></a>
<h2 class="section">5.4 トラブルシュート</h2>

<p>遅かれ早かれ、あなたは LilyPond がコンパイルできないファイルを書くことになります。LilyPond が返すメッセージはエラーを見つけ出す手助けになるかもしれませんが、多くの場合、問題の原因を探し出すために調査を行う必要があります。
</p>
<p>この目的のための最も強力なツールは 1 行コメント (<code>%</code> で記述します) とブロック コメント (<code>%{ ... %}</code> で記述します) です。問題がどこにあるかわからない場合、入力ファイルの大きな一部分をコメント アウトすることから始めます。あるセクションをコメント アウトして、そのファイルを再びコンパイルしてみます。コンパイルが通ったのなら、問題は今コメント アウトした部分の中にあります。コンパイルが通らなかった場合は、コンパイルが通るようになるまでコメント アウトしたままにしておきます。
</p>
<p>極端な場合、最終的に以下のようになるかもしれません:
</p>
<blockquote><pre class="example">\score {
  &lt;&lt;
    % \melody
    % \harmony
    % \bass
  &gt;&gt;
  \layout{}
}
</pre></blockquote>

<p>(言い換えると、何の音楽も持たないファイルです)
</p>
<p>こうなったとしても、あきらめないでください。少しだけコメントを外して &ndash; 例えば、バス パートを &ndash;
コンパイルが通るかどうか試してみます。コンパイルが通らなかった場合は、バスの音楽をすべてコメント アウトします
(しかし、<code>\score</code> の中の <code>\bass</code> はコメントを外したままにしておきます)。
</p>
<blockquote><pre class="example">bass = \relative {
%{
  c'4 c c c
  d d d d
%}
}
</pre></blockquote>

<p>そして、問題を起こしている行を見つけ出すまで、<code>bass</code> パートから少しずつコメントを外していきます。
</p>
<p>もう 1 つの非常に有用なデバッグ テクニックは
<a name="index-Tiny-examples"></a>
<a href="web-big-page.ja.html#tiny-examples">Tiny examples</a> を構築することです。
</p>

<hr size="6">
<a name="Make-_3068-Makefile"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#gnu-free-documentation-license" title="次の章">&nbsp;GNU Free Documentation License &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#troubleshooting" title="前のセクション" accesskey="p" rel="previous"> &lt; トラブルシュート&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#suggestions-for-writing-files" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#gnu-free-documentation-license" title="次のセクション" accesskey="n" rel="next">&nbsp;GNU Free Documentation License &gt; </a>]</td></tr></table>
<a name="make-and-makefiles"></a>
<h2 class="section">5.5 Make と Makefile</h2>

<p>LilyPond を実行できるほとんどすべてのプラットフォームが
<code>make</code> というソフトウェアをサポートします。このソフトウェアは <code>Makefile</code> という名前の特殊なファイルを読み込みます。ファイル <code>Makefile</code> は、ファイルの依存関係と、あるファイルから別のファイルを作り出すためにオペレーティング システムに渡す必要があるコマンドを定義します。例えば、<code>Makefile</code> は LilyPond を実行して
<code>ballad.ly</code> から <code>ballad.pdf</code> と <code>ballad.midi</code> を作り出す方法を記述します。
</p>
<p>自身の便利さのためかソース ファイルにアクセスしてくれる他の人のために、自身のプロジェクト用に <code>Makefile</code> を作成することが良い場合があります。これが当てはまるのは、多くのインクルード ファイルと複数の出力オプション
(例えば、フル スコア、パート スコア、指揮譜、ピアノ譜など) を持つ
非常に大きなプロジェクト、あるいは、ビルドするために複雑なコマンドを必要とするプロジェクト
(<code>lilypond-book</code> プロジェクトなど)
です。<code>Makefile</code> の複雑さと自由度は、必要性と作者のスキルに応じて、さまざまです。プログラム GNU Make は
GNU/Linux ディストリビューションと MacOS X にインストールされていて、Windows でも利用可能です。
</p>
<p><code>make</code> の使い方についてのすべての詳細は
<strong>GNU Make マニュアル</strong> を参照してください。これから示すのは <code>make</code> でできることのほんの一例です。
</p>
<p><code>Makefile</code> の中に規則を定義するためのコマンドは、プラットフォームによって異なります。例えば、さまざまな種類がある GNU/Linux と MacOS は <code>bash</code> を使いますが、Windows は <code>cmd</code> を使います。MacOS X では、コマンド ライン インタプリタを使用するためにシステムをコンフィグレーションする必要があるということに注意してください。ここで、<code>Makefile</code> の例をいくつか
GNU/Linux/MacOS 用と Windows 用の両方のバージョンで示します。
</p>
<p>最初の例は、4 楽章のオーケストラのためのもので、以下のようなディレクトリ構造を持ちます:
</p>
<blockquote><pre class="example">Symphony/
|-- MIDI/
|-- Makefile
|-- Notes/
|   |-- cello.ily
|   |-- figures.ily
|   |-- horn.ily
|   |-- oboe.ily
|   |-- trioString.ily
|   |-- viola.ily
|   |-- violinOne.ily
|   `-- violinTwo.ily
|-- PDF/
|-- Parts/
|   |-- symphony-cello.ly
|   |-- symphony-horn.ly
|   |-- symphony-oboes.ly
|   |-- symphony-viola.ly
|   |-- symphony-violinOne.ly
|   `-- symphony-violinTwo.ly
|-- Scores/
|   |-- symphony.ly
|   |-- symphonyI.ly
|   |-- symphonyII.ly
|   |-- symphonyIII.ly
|   `-- symphonyIV.ly
`-- symphonyDefs.ily
</pre></blockquote>

<p><code>Scores</code> ディレクトリと <code>Parts</code> ディレクトリの中にある
<code>.ly</code> ファイルは音符を
<code>Notes</code> ディレクトリの中にある <code>.ily</code> ファイルから取得します:
</p>
<blockquote><pre class="example">%%% top of file &quot;symphony-cello.ly&quot;
\include ../symphonyDefs.ily
\include ../Notes/cello.ily
</pre></blockquote>

<p>この <code>Makefile</code> はターゲットとして
<code>score</code> (フル スコアの楽曲全体)、<code>movements</code> (フル スコアの個々の楽章)、それに <code>parts</code> (演奏者のための個々のパート) を持ちます。さらに、web や email で配布するのに適したソース ファイルの tarball
(訳者: 複数のファイルをコマンド <code>tar</code> で 1 つのファイルにまとめたもの)
を作成するターゲット <code>archive</code> もあります。ここでは GNU/Linux や MacOS X 用の <code>Makefile</code> を示します。これをプロジェクトのトップ ディレクトリに
<code>Makefile</code> という名前で保存する必要があります:
</p>
<div class="warning"><p><strong>Note:</strong> ターゲットやパターン ルールが定義されたとき、そのあとの行はスペースではなく Tab で始まる必要があります。
</p>
</div>
<blockquote><pre class="example"># 出力ファイル名
piece = symphony
# いくつプロセッサがあるかを決定します
CPU_CORES=`cat /proc/cpuinfo | grep -m1 &quot;cpu cores&quot; | sed s/&quot;.*: &quot;//`
# lilypond を実行するコマンド
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click -djob-count=$(CPU_CORES)

# この Makefile で使用される拡張子
.SUFFIXES: .ly .ily .pdf .midi

# 入力ファイルと出力ファイルのサーチは VPATH 変数でリストアップされている
# ディレクトリの中で行われます。それらのディレクトリはすべて (GNU make 変数
# `CURDIR' によって与えられる) カレント ディレクトリのサブディレクトリです。
VPATH = \
  $(CURDIR)/Scores \
  $(CURDIR)/PDF \
  $(CURDIR)/Parts \
  $(CURDIR)/Notes

# LY 入力ファイルから PDF ファイルと MIDI ファイルを作成するための
# パターン ルール。.pdf 出力ファイルは `PDF' サブディレクトリの中に
# 配置され、.midi ファイルは `MIDI' サブディレクトリの中に配置されます。
%.pdf %.midi: %.ly
        $(LILY_CMD) $&lt;; \           # this line begins with a tab
        if test -f &quot;$*.pdf&quot;; then \
            mv &quot;$*.pdf&quot; PDF/; \
        fi; \
        if test -f &quot;$*.midi&quot;; then \
            mv &quot;$*.midi&quot; MIDI/; \
        fi

notes = \
  cello.ily \
  horn.ily \
  oboe.ily \
  viola.ily \
  violinOne.ily \
  violinTwo.ily

# 楽章の依存関係
$(piece)I.pdf: $(piece)I.ly $(notes)
$(piece)II.pdf: $(piece)II.ly $(notes)
$(piece)III.pdf: $(piece)III.ly $(notes)
$(piece)IV.pdf: $(piece)IV.ly $(notes)

# 総譜の依存関係
$(piece).pdf: $(piece).ly $(notes)

# パート譜の依存関係
$(piece)-cello.pdf: $(piece)-cello.ly cello.ily
$(piece)-horn.pdf: $(piece)-horn.ly horn.ily
$(piece)-oboes.pdf: $(piece)-oboes.ly oboe.ily
$(piece)-viola.pdf: $(piece)-viola.ly viola.ily
$(piece)-violinOne.pdf: $(piece)-violinOne.ly violinOne.ily
$(piece)-violinTwo.pdf: $(piece)-violinTwo.ly violinTwo.ily

# 4 つすべての楽章のフル スコアを 1 つのファイルとして生成するには
# `make score' とタイプします。
.PHONY: score
score: $(piece).pdf

# すべてのパートを生成するには `make parts' とタイプします。
# 楽器 `foo' のためのパートを生成するには `make foo.pdf' とタイプします。
# 例: `make symphony-cello.pdf'
.PHONY: parts
parts: $(piece)-cello.pdf \
       $(piece)-violinOne.pdf \
       $(piece)-violinTwo.pdf \
       $(piece)-viola.pdf \
       $(piece)-oboes.pdf \
       $(piece)-horn.pdf

# 4 つの楽章を別個のファイルとして生成するには `make movements' とタイプします。
.PHONY: movements
movements: $(piece)I.pdf \
           $(piece)II.pdf \
           $(piece)III.pdf \
           $(piece)IV.pdf

all: score parts movements

archive:
        tar -cvvf stamitz.tar \       # this line begins with a tab
        --exclude=*pdf --exclude=*~ \
        --exclude=*midi --exclude=*.tar \
        ../Stamitz/*
</pre></blockquote>


<p>Windows プラットフォームには特別な面倒さがあります。Windows 用の GNU Make をダウンロードしてインストールした後、システム環境変数に正しいパスを設定して、DOS シェルが Make プログラムを見つけられるようにする必要があります。これを行うには、&quot;マイ コンピュータ&quot; を右クリックして、<code>プロパティ</code> を選択し、それから <code>詳細設定</code> を選択します。それから <code>環境変数</code> をクリックして、<code>システム環境変数</code> パネルの中にある <code>Path</code> をハイライトしてから
<code>編集</code> をクリックして、GNU Make の実行ファイルへのパスを追加します。そのパスは以下のようになります
(訳者: GNU Make のインストールのされ方によって異なります):
</p>
<blockquote><pre class="example">C:\Program Files\GnuWin32\bin
</pre></blockquote>

<p>Linux/MacOS X とは異なるシェル コマンドを扱い、いくつかのデフォルト システム ディレクトリの中に存在するファイル空間を扱うために、<code>Makefile</code> 自体を変更する必要があります。Windows は <code>tar</code> コマンドを持たないため、<code>archive</code> ターゲットは除去されます。また、Windows が持つ MIDI ファイルのデフォルト拡張子は異なります。
</p>
<blockquote><pre class="example">## WINDOWS VERSION
##
piece = symphony
LILY_CMD = lilypond -ddelete-intermediate-files \
                    -dno-point-and-click \
                    -djob-count=$(NUMBER_OF_PROCESSORS)

#get the 8.3 name of CURDIR (workaround for spaces in PATH)
workdir = $(shell for /f &quot;tokens=*&quot; %%b in (&quot;$(CURDIR)&quot;) \
          do @echo %%~sb)

.SUFFIXES: .ly .ily .pdf .mid

VPATH = \
  $(workdir)/Scores \
  $(workdir)/PDF \
  $(workdir)/Parts \
  $(workdir)/Notes

%.pdf %.mid: %.ly
        $(LILY_CMD) $&lt;      # this line begins with a tab
        if exist &quot;$*.pdf&quot;  move /Y &quot;$*.pdf&quot;  PDF/ # begin with tab
        if exist &quot;$*.mid&quot; move /Y &quot;$*.mid&quot; MIDI/  # begin with tab

notes = \
  cello.ily \
  figures.ily \
  horn.ily \
  oboe.ily \
  trioString.ily \
  viola.ily \
  violinOne.ily \
  violinTwo.ily

$(piece)I.pdf: $(piece)I.ly $(notes)
$(piece)II.pdf: $(piece)II.ly $(notes)
$(piece)III.pdf: $(piece)III.ly $(notes)
$(piece)IV.pdf: $(piece)IV.ly $(notes)

$(piece).pdf: $(piece).ly $(notes)

$(piece)-cello.pdf: $(piece)-cello.ly cello.ily
$(piece)-horn.pdf: $(piece)-horn.ly horn.ily
$(piece)-oboes.pdf: $(piece)-oboes.ly oboe.ily
$(piece)-viola.pdf: $(piece)-viola.ly viola.ily
$(piece)-violinOne.pdf: $(piece)-violinOne.ly violinOne.ily
$(piece)-violinTwo.pdf: $(piece)-violinTwo.ly violinTwo.ily

.PHONY: score
score: $(piece).pdf

.PHONY: parts
parts: $(piece)-cello.pdf \
       $(piece)-violinOne.pdf \
       $(piece)-violinTwo.pdf \
       $(piece)-viola.pdf \
       $(piece)-oboes.pdf \
       $(piece)-horn.pdf

.PHONY: movements
movements: $(piece)I.pdf \
           $(piece)II.pdf \
           $(piece)III.pdf \
           $(piece)IV.pdf

all: score parts movements
</pre></blockquote>


<p>次の <code>Makefile</code> は、LaTeX で処理する <code>lilypond-book</code> ドキュメント用です。このドキュメントは目次を持ちます。目次を作成するには、リンクを更新するために <code>latex</code> コマンドを 2 回実行する必要があります。.pdf 出力ファイルは <code>out</code> ディレクトリに保存され、HTML 出力ファイルは <code>htmlout</code> ディレクトリに保存されます。
</p>
<blockquote><pre class="example">SHELL=/bin/sh
FILE=myproject
OUTDIR=out
WEBDIR=htmlout
VIEWER=acroread
BROWSER=firefox
LILYBOOK_PDF=lilypond-book --output=$(OUTDIR) --pdf $(FILE).lytex
LILYBOOK_HTML=lilypond-book --output=$(WEBDIR) $(FILE).lytex
PDF=cd $(OUTDIR) &amp;&amp; pdflatex $(FILE)
HTML=cd $(WEBDIR) &amp;&amp; latex2html $(FILE)
INDEX=cd $(OUTDIR) &amp;&amp; makeindex $(FILE)
PREVIEW=$(VIEWER) $(OUTDIR)/$(FILE).pdf &amp;

all: pdf web keep

pdf:
        $(LILYBOOK_PDF)  # begin with tab
        $(PDF)           # begin with tab
        $(INDEX)         # begin with tab
        $(PDF)           # begin with tab
        $(PREVIEW)       # begin with tab

web:
        $(LILYBOOK_HTML) # begin with tab
        $(HTML)          # begin with tab
        cp -R $(WEBDIR)/$(FILE)/ ./  # begin with tab
        $(BROWSER) $(FILE)/$(FILE).html &amp;  # begin with tab

keep: pdf
        cp $(OUTDIR)/$(FILE).pdf $(FILE).pdf  # begin with tab

clean:
        rm -rf $(OUTDIR) # begin with tab

web-clean:
        rm -rf $(WEBDIR) # begin with tab

archive:
        tar -cvvf myproject.tar \ # begin this line with tab
        --exclude=out/* \
        --exclude=htmlout/* \
        --exclude=myproject/* \
        --exclude=*midi \
        --exclude=*pdf \
        --exclude=*~ \
        ../MyProject/*
</pre></blockquote>

<p>TODO: make this thing work on Windows
</p>
<p>この <code>Makefile</code> は Windows では機能しません。Windows ユーザの代替手段として、ビルド コマンドを保持する簡単なバッチ ファイルを作成する方法があります。これは <code>Makefile</code> のように依存関係を保持できませんが、少なくともビルド処理を単一のコマンドに縮小します。以下のコードを
<code>build.bat</code> あるいは <code>build.cmd</code> として保存してください。このバッチ ファイルは DOS プロンプトから実行することができ、単にそのアイコンをダブル クリックすることでも実行することができます。
</p>
<blockquote><pre class="example">lilypond-book --output=out --pdf myproject.lytex
cd out
pdflatex myproject
makeindex myproject
pdflatex myproject
cd ..
copy out\myproject.pdf MyProject.pdf
</pre></blockquote>


<a name="g_t_53c2_7167-2"></a>
<h4 class="subsubheading">参照</h4>
<p>アプリケーションの使用方法:
<a name="index-_30b3_30de_30f3_30c9-_30e9_30a4_30f3_306e_4f7f_7528_65b9_6cd5"></a>
<a href="usage-big-page.ja.html#command_002dline-usage">コマンド ラインの使用方法</a>,
<a name="index-lilypond_002dbook"></a>
<a href="usage-big-page.ja.html#lilypond_002dbook">lilypond-book</a>
</p>
<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#suggestions-for-writing-files" title="この章あるいは前の章の先頭"> &lt;&lt; LilyPond 入力ファイルの記述に対する提案&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[<a href="#lilypond-index" title="次の章">&nbsp;LilyPond インデックス &gt;&gt; </a>]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#make-and-makefiles" title="前のセクション" accesskey="p" rel="previous"> &lt; Make と Makefile&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[<a href="#lilypond-index" title="次のセクション" accesskey="n" rel="next">&nbsp;LilyPond インデックス &gt; </a>]</td></tr></table>
<a name="gnu-free-documentation-license"></a>
<h1 class="appendix">A. GNU Free Documentation License</h1>
<p align="center"> Version 1.3, 3 November 2008
</p>

<table><tr><td>&nbsp;</td><td><pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></td></tr></table>

<ol>
<li>
PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li>
APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input
format, <acronym>SGML</acronym> or <acronym>XML</acronym> using a publicly available
<acronym>DTD</acronym>, and standard-conforming simple <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> designed for human modification.  Examples
of transparent image formats include <acronym>PNG</acronym>, <acronym>XCF</acronym> and
<acronym>JPG</acronym>.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, <acronym>SGML</acronym> or
<acronym>XML</acronym> for which the <acronym>DTD</acronym> and/or processing tools are
not generally available, and the machine-generated <acronym>HTML</acronym>,
PostScript or <acronym>PDF</acronym> produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li>
VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li>
COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li>
MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol>
<li>
Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>
List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li>
State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>
Preserve all the copyright notices of the Document.

</li><li>
Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>
Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>
Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li>
Include an unaltered copy of this License.

</li><li>
Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>
Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>
For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li>
Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>
Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li>
Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li>
Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li>
COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li>
COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li>
AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li>
TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li>
TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li>
FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft">http://www.gnu.org/copyleft/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li>
RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>


<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h2 class="heading">ADDENDUM: How to use this License for your documents</h2>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></td></tr></table>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></td></tr></table>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>


<hr size="6">
<a name="LilyPond-_30a4_30f3_30c7_30c3_30af_30b9"></a>
<table class="nav_table">
<tr><td valign="middle" align="left" colspan="1">[<a href="#gnu-free-documentation-license" title="この章あるいは前の章の先頭"> &lt;&lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td><td valign="middle" align="right" colspan="1">[&nbsp; &gt;&gt; ]</td></tr><tr><td valign="middle" align="left" colspan="2">[<a href="#gnu-free-documentation-license" title="前のセクション" accesskey="p" rel="previous"> &lt; GNU Free Documentation License&nbsp;</a>]</td><td valign="middle" align="center" colspan="1">[<a href="#index" title="上のセクション" accesskey="u" rel="up">&nbsp; 上へ :&nbsp;Top&nbsp;</a>]</td><td valign="middle" align="right" colspan="2">[&nbsp; &gt; ]</td></tr></table>
<a name="lilypond-index"></a>
<h1 class="appendix">B. LilyPond インデックス</h1>

<table><tr><th valign="top">行き先: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-2" class="summary-letter"><b>そ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-3" class="summary-letter"><b>よ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-4" class="summary-letter"><b>オ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-5" class="summary-letter"><b>コ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-6" class="summary-letter"><b>シ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-7" class="summary-letter"><b>ス</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-8" class="summary-letter"><b>チ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-9" class="summary-letter"><b>ド</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-10" class="summary-letter"><b>マ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-11" class="summary-letter"><b>変</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-12" class="summary-letter"><b>小</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">インデックス エントリ</th><th align="left"> セクション</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-1">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005cheader-in-LaTeX-documents-_0028LaTeX-_30c9_30ad_30e5_30e1_30f3_30c8_306e_4e2d_306b_3042_308b-_005cheader_0029">\header in LaTeX documents (LaTeX ドキュメントの中にある \header)</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ABC">ABC</a></td><td valign="top"><a href="#invoking-abc2ly">4.3.3 <code>abc2ly</code> を呼び出す</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-bigpdfs">bigpdfs</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-call-trace-_0028_30c8_30ec_30fc_30b9_3092_547c_3073_51fa_3059_0029">call trace (トレースを呼び出す)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chroot-jail_002c-running-inside-_0028chroot-jail-_5185_90e8_3067_5b9f_884c_3059_308b_0029">chroot jail, running inside (chroot jail 内部で実行する)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Coda-Technology">Coda Technology</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 <code>etf2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Collision-resolution"><code>Collision resolution</code></a></td><td valign="top"><a href="#g_t_53c2_7167-1">参照</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-coloring_002c-syntax-_0028_30ab_30e9_30fc_30ea_30f3_30b0_69cb_6587_0029">coloring, syntax (カラーリング構文)</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line-options-for-lilypond-_0028lilypond-_306e_305f_3081_306e_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3_0029">command line options for <code>lilypond</code> (<code>lilypond</code> のためのコマンド ライン オプション)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly">convert-ly</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. <code>convert-ly</code> を使ってファイルを更新する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert_002dly-1">convert-ly</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 何故構文は変更されるのか？</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory_002c-redirect-output-_0028_51fa_529b_3092_30c7_30a3_30ec_30af_30c8_30ea_306b_30ea_30c0_30a4_30ec_30af_30c8_3059_308b_0029">directory, redirect output (出力をディレクトリにリダイレクトする)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-docbook">docbook</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DocBook_002c-adding-music-_0028DocBook-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029">DocBook, adding music (DocBook に楽譜を追加する)</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-documents_002c-adding-music-_0028_30c9_30ad_30e5_30e1_30f3_30c8_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029">documents, adding music (ドキュメントに楽譜を追加する)</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dvips">dvips</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-editors-_0028_30a8_30c7_30a3_30bf_0029">editors (エディタ)</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-emacs">emacs</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enigma">enigma</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 <code>etf2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-_0028_30a8_30e9_30fc_0029">error (エラー)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error-messages-_0028_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8_0029">error messages (エラー メッセージ)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors_002c-message-format-_0028_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8_306e_5f62_5f0f_0029">errors, message format (エラー メッセージの形式)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ETF">ETF</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 <code>etf2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Explicitly-instantiating-voices"><code>Explicitly instantiating voices</code></a></td><td valign="top"><a href="#g_t_53c2_7167-1">参照</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression-evaluation_002c-Scheme-_0028Scheme-_8868_8a18_306e_8a55_4fa1_0029">expression evaluation, Scheme (Scheme 表記の評価)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-External-programs_002c-generating-LilyPond-files-_0028LilyPond-_30d5_30a1_30a4_30eb_3092_751f_6210_3059_308b_5916_90e8_30d7_30ed_30b0_30e9_30e0_0029">External programs, generating LilyPond files (LilyPond ファイルを生成する外部プログラム)</a></td><td valign="top"><a href="#other-formats">4.3.5 その他のフォーマット</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extracting-fragments-of-music"><code>Extracting fragments of music</code></a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Extracting-fragments-of-music-1"><code>Extracting fragments of music</code></a></td><td valign="top"><a href="#many-quotes-from-a-large-score">大きな楽譜から多くの引用を行う</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-fatal-error-_0028_81f4_547d_7684_306a_30a8_30e9_30fc_0029">fatal error (致命的なエラー)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-searching-_0028_30d5_30a1_30a4_30eb-_30b5_30fc_30c1_0029">file searching (ファイル サーチ)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-size_002c-output-_0028_51fa_529b_306e_30d5_30a1_30a4_30eb-_30b5_30a4_30ba_0029">file size, output (出力のファイル サイズ)</a></td><td valign="top"><a href="#enabling-point-and-click">ポイント＆クリックを有効にする</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Finale">Finale</a></td><td valign="top"><a href="#invoking-etf2ly">4.3.4 <code>etf2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-format_002c-output-_0028_51fa_529b_306e_30d5_30a9_30fc_30de_30c3_30c8_0029">format, output (出力のフォーマット)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML">HTML</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HTML_002c-adding-music-_0028HTML-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029">HTML, adding music (HTML に楽譜を追加する)</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-dvips-_0028dvips-_3092_547c_3073_51fa_3059_0029">invoking dvips (dvips を呼び出す)</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Invoking-lilypond-_0028lilypond-_3092_547c_3073_51fa_3059_0029">Invoking <code>lilypond</code> (<code>lilypond</code> を呼び出す)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-LANG">LANG</a></td><td valign="top"><a href="#environment-variables">環境変数</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTex">LaTex</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LaTeX_002c-adding-music-_0028LaTeX-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029">LaTeX, adding music (LaTeX に楽譜を追加する)</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lilypond_002dbook"><code>lilypond-book</code></a></td><td valign="top"><a href="#g_t_53c2_7167-2">参照</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LILYPOND_005fDATADIR">LILYPOND_DATADIR</a></td><td valign="top"><a href="#environment-variables">環境変数</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loglevel-_0028_30ed_30b0_30ec_30d9_30eb_0029">loglevel (ログレベル)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X"><code>MacOS X</code></a></td><td valign="top"><a href="#command_002dline-usage">1.2 コマンド ラインの使用方法</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-1"><code>MacOS X</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MacOS-X-2"><code>MacOS X</code></a></td><td valign="top"><a href="#converting-from-other-formats">4.3 他のフォーマットから変換する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MIDI">MIDI</a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 <code>midi2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modes_002c-editor-_0028_30a8_30c7_30a3_30bf_306e_30e2_30fc_30c9_0029">modes, editor (エディタのモード)</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-musicology-_0028_97f3_697d_5b66_0029">musicology (音楽学)</a></td><td valign="top"><a href="#an-example-of-a-musicological-document">3.1 音楽学のドキュメントの例</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MusicXML">MusicXML</a></td><td valign="top"><a href="#invoking-musicxml2ly">4.3.2 <code>musicxml2ly</code> を呼び出す</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenOffice_002eorg">OpenOffice.org</a></td><td valign="top"><a href="#inserting-lilypond-output-into-openoffice_002eorg">LilyPond 出力を OpenOffice.org に挿入する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-command-line-_0028_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3_0029">options, command line (コマンド ライン オプション)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-outline-fonts-_0028_30a2_30a6_30c8_30e9_30a4_30f3-_30d5_30a9_30f3_30c8_0029">outline fonts (アウトライン フォント)</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-directory-_0028_51fa_529b_30c7_30a3_30ec_30af_30c8_30ea_0029">output, directory (出力ディレクトリ)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-format-_0028_51fa_529b_306e_30d5_30a9_30fc_30de_30c3_30c8_0029">output, format (出力のフォーマット)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-PDF-_0028Portable-Document-Format_0029-_0028PDF-_51fa_529b_0029">output, PDF (Portable Document Format) (PDF 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-PNG-_0028Portable-Network-Graphics_0029-_0028PNG-_51fa_529b_0029">output, PNG (Portable Network Graphics) (PNG 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-PS-_0028Postscript_0029-_0028PS-_0028PostScript_0029-_51fa_529b_0029">output, PS (Postscript) (PS (PostScript) 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-setting-filename-_0028_51fa_529b_306e_30d5_30a1_30a4_30eb_540d_3092_8a2d_5b9a_3059_308b_0029">output, setting filename (出力のファイル名を設定する)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002c-verbosity-_0028_51fa_529b_306e_9952_820c_3055_0029">output, verbosity (出力の饒舌さ)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-PDF-_0028Portable-Document-Format_0029_002c-output-_0028PDF-_51fa_529b_0029">PDF (Portable Document Format), output (PDF 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PNG-_0028Portable-Network-Graphics_0029_002c-output-_0028PNG-_51fa_529b_0029">PNG (Portable Network Graphics), output (PNG 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click-_0028_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_0029">point and click (ポイント＆クリック)</a></td><td valign="top"><a href="#enabling-point-and-click">ポイント＆クリックを有効にする</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-point-and-click_002c-command-line-_0028_30b3_30de_30f3_30c9-_30e9_30a4_30f3_3067_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_3092_6307_5b9a_3059_308b_0029">point and click, command line (コマンド ラインでポイント＆クリックを指定する)</a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Postscript-_0028PS_0029_002c-output-_0028PostScript-_0028PS_0029-_51fa_529b_0029">Postscript (PS), output (PostScript (PS) 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preview-image-_0028_30d7_30ec_30d3_30e5_30fc_753b_50cf_0029">preview image (プレビュー画像)</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Programming-error-_0028_30d7_30ed_30b0_30e9_30df_30f3_30b0-_30a8_30e9_30fc_0029">Programming error (プログラミング エラー)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PS-_0028Postscript_0029_002c-output-_0028PS-_0028PostScript_0029-_51fa_529b_0029">PS (Postscript), output (PS (PostScript) 出力)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Real-music-example"><code>Real music example</code></a></td><td valign="top"><a href="#g_t_53c2_7167-1">参照</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme-error-_0028Scheme-_30a8_30e9_30fc_0029">Scheme error (Scheme エラー)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme_002c-expression-evaluation-_0028Scheme-_8868_8a18_306e_8a55_4fa1_0029">Scheme, expression evaluation (Scheme 表記の評価)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-path-_0028_30b5_30fc_30c1-_30d1_30b9_0029">search path (サーチ パス)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Single_002dstaff-polyphony"><code>Single-staff polyphony</code></a></td><td valign="top"><a href="#g_t_53c2_7167-1">参照</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Skipping-corrected-music"><code>Skipping corrected music</code></a></td><td valign="top"><a href="#typesetting-existing-music">5.2 既存の音楽を譜刻する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Staff"><code>Staff</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 <code>midi2ly</code> を呼び出す</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-switches-_0028_5207_308a_63db_3048_0029">switches (切り換え)</a></td><td valign="top"><a href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-coloring-_0028_30ab_30e9_30fc_30ea_30f3_30b0_69cb_6587_0029">syntax coloring (カラーリング構文)</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi">texi</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texinfo-1">texinfo</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Texinfo_002c-adding-music-_0028Texinfo-_306b_697d_8b5c_3092_8ffd_52a0_3059_308b_0029">Texinfo, adding music (Texinfo に楽譜を追加する)</a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Text-encoding"><code>Text encoding</code></a></td><td valign="top"><a href="#error-message-ft_005fget_005fglyph_005fname">エラー メッセージ FT_Get_Glyph_Name</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thumbnail-_0028_30b5_30e0_30cd_30a4_30eb_0029">thumbnail (サムネイル)</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Tiny-examples"><code>Tiny examples</code></a></td><td valign="top"><a href="#troubleshooting">5.4 トラブルシュート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-and-lilypond_002dbook-_0028_30bf_30a4_30c8_30eb_3068-lilypond_002dbook_0029">titling and lilypond-book (タイトルと lilypond-book)</a></td><td valign="top"><a href="#latex">3.2.1 LaTeX</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-titling-in-HTML-_0028HTML-_306e_30bf_30a4_30c8_30eb_0029">titling in HTML (HTML のタイトル)</a></td><td valign="top"><a href="#html">3.2.3 HTML</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace_002c-Scheme-_0028Scheme-_30c8_30ec_30fc_30b9_0029">trace, Scheme (Scheme トレース)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type1-fonts-_0028type1-_30d5_30a9_30f3_30c8_0029">type1 fonts (type1 フォント)</a></td><td valign="top"><a href="#LaTeX-3">LaTeX</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Updating-a-LilyPond-file-_0028LilyPond-_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b_0029">Updating a LilyPond file (LilyPond ファイルを更新する)</a></td><td valign="top"><a href="#updating-files-with-convert_002dly">2. <code>convert-ly</code> を使ってファイルを更新する</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-updating-old-input-files-_0028_53e4_3044_5165_529b_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b_0029">updating old input files (古い入力ファイルを更新する)</a></td><td valign="top"><a href="#why-does-the-syntax-change_003f">2.1 何故構文は変更されるのか？</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-vim">vim</a></td><td valign="top"><a href="#text-editor-support">4.2 テキスト エディタ サポート</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Voice"><code>Voice</code></a></td><td valign="top"><a href="#invoking-midi2ly">4.3.1 <code>midi2ly</code> を呼び出す</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-warning-_0028_8b66_544a_0029">warning (警告)</a></td><td valign="top"><a href="#error-messages">1.3 エラー メッセージ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Windows"><code>Windows</code></a></td><td valign="top"><a href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-2">そ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_305d_306e_4ed6_306e_60c5_5831_6e90"><code>その他の情報源</code></a></td><td valign="top"><a href="#vim-mode">Vim モード</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-3">よ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_3088_308a_7c21_5358_306a_7de8_96c6_624b_6bb5"><code>より簡単な編集手段</code></a></td><td valign="top"><a href="#other-editors">その他のエディタ</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_3088_308a_7c21_5358_306a_7de8_96c6_624b_6bb5-1"><code>より簡単な編集手段</code></a></td><td valign="top"><a href="#other-formats">4.3.5 その他のフォーマット</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-4">オ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30aa_30af_30bf_30fc_30d6-_30c1_30a7_30c3_30af"><code>オクターブ チェック</code></a></td><td valign="top"><a href="#general-suggestions">5.1 一般的な提案</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-5">コ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30b3_30de_30f3_30c9-_30e9_30a4_30f3_306e_4f7f_7528_65b9_6cd5"><code>コマンド ラインの使用方法</code></a></td><td valign="top"><a href="#g_t_53c2_7167-2">参照</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-6">シ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30b7_30b9_30c6_30e0_5185_90e8_306e_53ef_5909_306a_5782_76f4_65b9_5411_306e_30b9_30da_30fc_30b9"><code>システム内部の可変な垂直方向のスペース</code></a></td><td valign="top"><a href="#warning-staff-affinities-should-only-decrease">警告 &ndash; Warning staff affinities should only decrease</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-7">ス</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30b9_30bf_30a4_30eb-_30b7_30fc_30c8"><code>スタイル シート</code></a></td><td valign="top"><a href="#general-suggestions">5.1 一般的な提案</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-8">チ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30c1_30e5_30fc_30c8_30ea_30a2_30eb"><code>チュートリアル</code></a></td><td valign="top"><a href="#normal-usage">1.1 通常の使用方法</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-9">ド</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30c9_30ad_30e5_30e1_30f3_30c8_5168_4f53_306e_30d5_30a9_30f3_30c8"><code>ドキュメント全体のフォント</code></a></td><td valign="top"><a href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-10">マ</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index"><code>マニュアル</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; 使用方法</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_30de_30cb_30e5_30a2_30eb"><code>マニュアル</code></a></td><td valign="top"><a href="#index">LilyPond &mdash; 使用方法</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-11">変</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_5909_6570_3068_95a2_6570_3092_7528_3044_3066_5165_529b_306e_624b_9593_3092_7701_304f"><code>変数と関数を用いて入力の手間を省く</code></a></td><td valign="top"><a href="#general-suggestions">5.1 一般的な提案</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="lilypond-index_cp_symbol-12">小</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_5c0f_7bc0_3068_5c0f_7bc0_756a_53f7_306e_30c1_30a7_30c3_30af"><code>小節と小節番号のチェック</code></a></td><td valign="top"><a href="#music-runs-off-the-page">楽譜がページからはみ出る</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_5c0f_7bc0_3068_5c0f_7bc0_756a_53f7_306e_30c1_30a7_30c3_30af-1"><code>小節と小節番号のチェック</code></a></td><td valign="top"><a href="#general-suggestions">5.1 一般的な提案</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_5c0f_7bc0_7dda"><code>小節線</code></a></td><td valign="top"><a href="#music-runs-off-the-page">楽譜がページからはみ出る</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">行き先: &nbsp; </th><td><a href="#lilypond-index_cp_symbol-1" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-2" class="summary-letter"><b>そ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-3" class="summary-letter"><b>よ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-4" class="summary-letter"><b>オ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-5" class="summary-letter"><b>コ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-6" class="summary-letter"><b>シ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-7" class="summary-letter"><b>ス</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-8" class="summary-letter"><b>チ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-9" class="summary-letter"><b>ド</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-10" class="summary-letter"><b>マ</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-11" class="summary-letter"><b>変</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_symbol-12" class="summary-letter"><b>小</b></a>
 &nbsp; 
<br>
<a href="#lilypond-index_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#lilypond-index_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td></tr></table>
<h1>脚注</h1>
<p class="footnote"><small>[<a name="FOOT1" href="#DOCF1">1</a>]</small> GUILE のステータスは <code>.ly</code> 処理後にリセットされません。そのため、Scheme 内部からいかなるシステム デフォルトも変更しないよう注意してください。
</p><p class="footnote"><small>[<a name="FOOT2" href="#DOCF2">2</a>]</small> At least, this is
possible in any LilyPond file which does not contain scheme.  If
there is scheme in the file, then the LilyPond file contains a
Turing-complete language, and we run into problems with the famous
&ldquo;Halting Problem&rdquo; in computer science.
</p><p class="footnote"><small>[<a name="FOOT3" href="#DOCF3">3</a>]</small> このチュートリアルは
Texinfo で処理されるため、上記の例とはレイアウトが少し異なります。
</p><p class="footnote"><small>[<a name="FOOT4" href="#DOCF4">4</a>]</small> PDFLaTeX と LaTeX のどちらもすべての LaTeX ドキュメントをコンパイルできるとは限らないことに注意してください。これが 2 つ目の方法を説明する理由です。
</p><p class="footnote"><small>[<a name="FOOT5" href="#DOCF5">5</a>]</small> UNIXでは、このファイルは &lsquo;<tt>/etc/xpdfrc</tt>&rsquo; かホーム ディレクトリの中の &lsquo;<tt>.xpdfrc</tt>&rsquo; としてのどちらかです。
</p><hr size="1">
<a name="SEC_Contents"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td></tr></table>
<h1>目次</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-lilypond-_3092_5b9f_884c_3059_308b-1" href="#running-lilypond">1. <code>lilypond</code> を実行する</a>
  <ul class="toc">
    <li><a name="toc-_901a_5e38_306e_4f7f_7528_65b9_6cd5-1" href="#normal-usage">1.1 通常の使用方法</a></li>
    <li><a name="toc-_30b3_30de_30f3_30c9-_30e9_30a4_30f3_306e_4f7f_7528_65b9_6cd5-1" href="#command_002dline-usage">1.2 コマンド ラインの使用方法</a>
    <ul class="toc">
      <li><a name="toc-lilypond-_3092_547c_3073_51fa_3059" href="#invoking-lilypond"><code>lilypond</code> を呼び出す</a>
      <ul class="toc">
        <li><a name="toc-_6a19_6e96_30b7_30a7_30eb_3067-LilyPond-_3092_4f7f_3046" href="#invoking-lilypond">標準シェルで LilyPond を使う</a></li>
      </ul></li>
      <li><a name="toc-LilyPond-_306e_57fa_672c_7684_306a_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3-1" href="#basic-command-line-options-for-lilypond">LilyPond の基本的なコマンド ライン オプション</a></li>
      <li><a name="toc-LilyPond-_306e_9ad8_5ea6_306a_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3-1" href="#advanced-command-line-options-for-lilypond">LilyPond の高度なコマンド ライン オプション</a></li>
      <li><a name="toc-_74b0_5883_5909_6570-1" href="#environment-variables">環境変数</a></li>
      <li><a name="toc-chroot-jail-_74b0_5883_3067-LilyPond-_3092_5b9f_884c_3059_308b-1" href="#lilypond-in-chroot-jail">chroot jail 環境で LilyPond を実行する</a></li>
    </ul></li>
    <li><a name="toc-_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-1" href="#error-messages">1.3 エラー メッセージ</a></li>
    <li><a name="toc-_4e00_822c_7684_306a_30a8_30e9_30fc-1" href="#common-errors">1.4 一般的なエラー</a>
    <ul class="toc">
      <li><a name="toc-_697d_8b5c_304c_30da_30fc_30b8_304b_3089_306f_307f_51fa_308b-1" href="#music-runs-off-the-page">楽譜がページからはみ出る</a></li>
      <li><a name="toc-_4f59_8a08_306a_8b5c_304c_8868_793a_3055_308c_308b-1" href="#an-extra-staff-appears">余計な譜が表示される</a></li>
      <li><a name="toc-_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-Unbound-variable-_0025-1" href="#error-message-unbound-variable-_0025">エラー メッセージ Unbound variable %</a></li>
      <li><a name="toc-_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-FT_005fGet_005fGlyph_005fName-1" href="#error-message-ft_005fget_005fglyph_005fname">エラー メッセージ FT_Get_Glyph_Name</a></li>
      <li><a name="toc-_8b66_544a-_002d_002d-Warning-staff-affinities-should-only-decrease-1" href="#warning-staff-affinities-should-only-decrease">警告 &ndash; Warning staff affinities should only decrease</a></li>
      <li><a name="toc-Error-message-unexpected-_005cnew" href="#error-message-unexpected-new">Error message unexpected <code>\new</code></a></li>
      <li><a name="toc-Warning-this-voice-needs-a-_005cvoiceXx" href="#warning-this-voice-needs-a-voicexx-or-shiftxx-setting">Warning this voice needs a <code>\voiceXx</code></a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-convert_002dly-_3092_4f7f_3063_3066_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b-1" href="#updating-files-with-convert_002dly">2. <code>convert-ly</code> を使ってファイルを更新する</a>
  <ul class="toc">
    <li><a name="toc-_4f55_6545_69cb_6587_306f_5909_66f4_3055_308c_308b_306e_304b_ff1f-1" href="#why-does-the-syntax-change_003f">2.1 何故構文は変更されるのか？</a></li>
    <li><a name="toc-convert_002dly-_3092_547c_3073_51fa_3059-1" href="#invoking-convert_002dly">2.2 <code>convert-ly</code> を呼び出す</a></li>
    <li><a name="toc-convert_002dly-_306e_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3-1" href="#command-line-options-for-convert_002dly">2.3 <code>convert-ly</code> のコマンド ライン オプション</a></li>
    <li><a name="toc-convert_002dly-_306e_554f_984c_70b9-1" href="#problems-running-convert_002dly">2.4 <code>convert-ly</code> の問題点</a></li>
    <li><a name="toc-_624b_52d5_5909_63db-1" href="#manual-conversions">2.5 手動変換</a></li>
  </ul></li>
  <li><a name="toc-lilypond_002dbook-_3092_5b9f_884c_3059_308b" href="#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a>
  <ul class="toc">
    <li><a name="toc-_97f3_697d_5b66_306e_30c9_30ad_30e5_30e1_30f3_30c8_306e_4f8b-1" href="#an-example-of-a-musicological-document">3.1 音楽学のドキュメントの例</a></li>
    <li><a name="toc-_697d_8b5c_3068_30c6_30ad_30b9_30c8_3092_7d71_5408_3059_308b-1" href="#integrating-music-and-text">3.2 楽譜とテキストを統合する</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-1" href="#latex">3.2.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-1" href="#texinfo">3.2.2 Texinfo</a></li>
      <li><a name="toc-HTML-1" href="#html">3.2.3 HTML</a></li>
      <li><a name="toc-DocBook-1" href="#docbook">3.2.4 DocBook</a></li>
    </ul></li>
    <li><a name="toc-_697d_8b5c_65ad_7247_30aa_30d7_30b7_30e7_30f3-1" href="#music-fragment-options">3.3 楽譜断片オプション</a></li>
    <li><a name="toc-lilypond_002dbook-_3092_547c_3073_51fa_3059-1" href="#invoking-lilypond_002dbook">3.4 <code>lilypond-book</code> を呼び出す</a></li>
    <li><a name="toc-_30d5_30a1_30a4_30eb_62e1_5f35_5b50-1" href="#filename-extensions">3.5 ファイル拡張子</a></li>
    <li><a name="toc-lilypond_002dbook-_30c6_30f3_30d7_30ec_30fc_30c8-1" href="#lilypond_002dbook-templates">3.6 lilypond-book テンプレート</a>
    <ul class="toc">
      <li><a name="toc-LaTeX-2" href="#lilypond_002dbook-templates">3.6.1 LaTeX</a></li>
      <li><a name="toc-Texinfo-2" href="#lilypond_002dbook-templates">3.6.2 Texinfo</a></li>
      <li><a name="toc-html" href="#lilypond_002dbook-templates">3.6.3 html</a></li>
      <li><a name="toc-xelatex" href="#lilypond_002dbook-templates">3.6.4 xelatex</a></li>
    </ul></li>
    <li><a name="toc-_76ee_6b21_3092_5171_6709_3059_308b-1" href="#sharing-the-table-of-contents">3.7 目次を共有する</a></li>
    <li><a name="toc-_30c6_30ad_30b9_30c8_3068_697d_8b5c_3092_7d44_307f_5408_308f_305b_308b_4ed6_306e_65b9_6cd5-1" href="#alternative-methods-of-mixing-text-and-music">3.8 テキストと楽譜を組み合わせる他の方法</a></li>
  </ul></li>
  <li><a name="toc-_5916_90e8_30d7_30ed_30b0_30e9_30e0-1" href="#external-programs">4. 外部プログラム</a>
  <ul class="toc">
    <li><a name="toc-_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af-1" href="#point-and-click">4.1 ポイント＆クリック</a>
    <ul class="toc">
      <li><a name="toc-_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af_3092_6709_52b9_306b_3059_308b-1" href="#enabling-point-and-click">ポイント＆クリックを有効にする</a></li>
      <li><a name="toc-_9078_629e_7684_306a_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af-1" href="#_00e9_0081_00b8_00e6_008a_009e_00e7_009a_0084_00e3_0081_00aa_00e3_0083_009d_00e3_0082_00a4_00e3_0083_00b3_00e3_0083_0088_00ef_00bc_0086_00e3_0082_00af_00e3_0083_00aa_00e3_0083_0083_00e3_0082_00af">選択的なポイント＆クリック</a></li>
    </ul></li>
    <li><a name="toc-_30c6_30ad_30b9_30c8-_30a8_30c7_30a3_30bf-_30b5_30dd_30fc_30c8-1" href="#text-editor-support">4.2 テキスト エディタ サポート</a>
    <ul class="toc">
      <li><a name="toc-Emacs-_30e2_30fc_30c9-1" href="#emacs-mode">Emacs モード</a></li>
      <li><a name="toc-Vim-_30e2_30fc_30c9-1" href="#vim-mode">Vim モード</a></li>
      <li><a name="toc-_305d_306e_4ed6_306e_30a8_30c7_30a3_30bf-1" href="#other-editors">その他のエディタ</a></li>
    </ul></li>
    <li><a name="toc-_4ed6_306e_30d5_30a9_30fc_30de_30c3_30c8_304b_3089_5909_63db_3059_308b-1" href="#converting-from-other-formats">4.3 他のフォーマットから変換する</a>
    <ul class="toc">
      <li><a name="toc-midi2ly-_3092_547c_3073_51fa_3059-1" href="#invoking-midi2ly">4.3.1 <code>midi2ly</code> を呼び出す</a></li>
      <li><a name="toc-musicxml2ly-_3092_547c_3073_51fa_3059-1" href="#invoking-musicxml2ly">4.3.2 <code>musicxml2ly</code> を呼び出す</a></li>
      <li><a name="toc-abc2ly-_3092_547c_3073_51fa_3059-1" href="#invoking-abc2ly">4.3.3 <code>abc2ly</code> を呼び出す</a></li>
      <li><a name="toc-etf2ly-_3092_547c_3073_51fa_3059-1" href="#invoking-etf2ly">4.3.4 <code>etf2ly</code> を呼び出す</a></li>
      <li><a name="toc-_305d_306e_4ed6_306e_30d5_30a9_30fc_30de_30c3_30c8-1" href="#other-formats">4.3.5 その他のフォーマット</a></li>
    </ul></li>
    <li><a name="toc-LilyPond-_51fa_529b_3092_4ed6_306e_30d7_30ed_30b0_30e9_30e0_3067_4f7f_7528_3059_308b-1" href="#lilypond-output-in-other-programs">4.4 LilyPond 出力を他のプログラムで使用する</a>
    <ul class="toc">
      <li><a name="toc-_5927_304d_306a_697d_8b5c_304b_3089_591a_304f_306e_5f15_7528_3092_884c_3046-1" href="#many-quotes-from-a-large-score">大きな楽譜から多くの引用を行う</a></li>
      <li><a name="toc-LilyPond-_51fa_529b_3092-OpenOffice_002eorg-_306b_633f_5165_3059_308b-1" href="#inserting-lilypond-output-into-openoffice_002eorg">LilyPond 出力を OpenOffice.org に挿入する</a></li>
      <li><a name="toc-LilyPond-_51fa_529b_3092_4ed6_306e_30d7_30ed_30b0_30e9_30e0_306b_633f_5165_3059_308b-1" href="#inserting-lilypond-output-into-other-programs">LilyPond 出力を他のプログラムに挿入する</a></li>
    </ul></li>
    <li><a name="toc-_72ec_7acb_3057_305f-include-1" href="#independent-includes">4.5 独立した <code>include</code></a>
    <ul class="toc">
      <li><a name="toc-MIDI-_30a2_30fc_30c6_30a3_30ad_30e5_30ec_30fc_30b7_30e7_30f3-1" href="#midi-articulation">4.5.1 MIDI アーティキュレーション</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-LilyPond-_5165_529b_30d5_30a1_30a4_30eb_306e_8a18_8ff0_306b_5bfe_3059_308b_63d0_6848-1" href="#suggestions-for-writing-files">5. LilyPond 入力ファイルの記述に対する提案</a>
  <ul class="toc">
    <li><a name="toc-_4e00_822c_7684_306a_63d0_6848-1" href="#general-suggestions">5.1 一般的な提案</a></li>
    <li><a name="toc-_65e2_5b58_306e_97f3_697d_3092_8b5c_523b_3059_308b-1" href="#typesetting-existing-music">5.2 既存の音楽を譜刻する</a></li>
    <li><a name="toc-_5927_304d_306a_30d7_30ed_30b8_30a7_30af_30c8-1" href="#large-projects">5.3 大きなプロジェクト</a></li>
    <li><a name="toc-_30c8_30e9_30d6_30eb_30b7_30e5_30fc_30c8-1" href="#troubleshooting">5.4 トラブルシュート</a></li>
    <li><a name="toc-Make-_3068-Makefile-1" href="#make-and-makefiles">5.5 Make と Makefile</a></li>
  </ul></li>
  <li><a name="toc-GNU-Free-Documentation-License-1" href="#gnu-free-documentation-license">A. GNU Free Documentation License</a></li>
  <li><a name="toc-LilyPond-_30a4_30f3_30c7_30c3_30af_30b9-1" href="#lilypond-index">B. LilyPond インデックス</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table class="nav_table">
<tr><td valign="middle" align="center" colspan="3">[<a href="#index" title="ドキュメントの表紙 (先頭)" rel="start">トップ</a>][<a href="#SEC_Contents" title="目次" rel="contents">目次</a>][<a href="#lilypond-index" title="インデックス" rel="index">インデックス</a>][<a href="#SEC_About" title="情報 (ヘルプ)" rel="help"> ? </a>]</td></tr></table>
<h1>このドキュメントについて</h1>
<p>
  This document was generated by <em>GUB</em> on <em>8 月 6, 2017</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  ナビゲーション パネルの中にあるボタンには以下のような意味があります:
</p>
<table border="1">
  <tr>
    <th> ボタン </th>
    <th> 名前 </th>
    <th> 行き先 </th>
    <th> 1.2.3 からの行き先</th>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">大きく戻る</td>
    <td>この章あるいは前の章の先頭</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [トップ] </td>
    <td align="center">トップ</td>
    <td>ドキュメントの表紙 (先頭)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [目次] </td>
    <td align="center">目次</td>
    <td>目次</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [インデックス] </td>
    <td align="center">インデックス</td>
    <td>インデックス</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">情報</td>
    <td>情報 (ヘルプ)</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">大きく進む</td>
    <td>次の章</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">戻る</td>
    <td>前のセクション</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ 上へ ] </td>
    <td align="center">上</td>
    <td>上のセクション</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [] </td>
    <td align="center"></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">進む</td>
    <td>次のセクション</td>
    <td>1.2.4</td>
  </tr>
</table>

<p>
  この表で、<strong> 行き先 </strong> は、現在の位置が以下のような構造を持つドキュメントの <strong> サブサブセクション 1-2-3 </strong> であると仮定しています:
</p>

<ul>
  <li> 1. セクション 1
    <ul>
      <li>1.1 サブセクション 1-1
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 サブセクション 1-2
        <ul>
          <li>1.2.1 サブサブセクション 1-2-1</li>
          <li>1.2.2 サブサブセクション 1-2-2</li>
          <li>1.2.3 サブサブセクション 1-2-3 &nbsp; &nbsp;
            <strong>&lt;== 現在の位置 </strong></li>
          <li>1.2.4 サブサブセクション 1-2-4</li>
        </ul>
      </li>
      <li>1.3 サブセクション 1-3
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 サブセクション 1-4</li>
    </ul>
  </li>
</ul>

<hr size="1">
<!-- footer_tag -->
<div class="footer">
<!-- This footer was autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
<p class="footer_version">
このページは LilyPond-2.19.65 (開発版) を対象としています。
</p>
<p class="footer_report">
We welcome your aid; please <a href="http://lilypond.org/help-us.html">help us</a> by reporting errors to our <a href="http://post.gmane.org/post.php?group=gmane.comp.gnu.lilypond.bugs">bug list</a>.
</p>
</div>


<p id="languages">
<!-- These links were autogenerated by /home/gub/NewGub/gub/target/linux-x86/build/lilypond-git.sv.gnu.org--lilypond.git-release-unstable/scripts/build/out/www_post -->
 他の言語: <a href="usage-big-page.html">English</a>, <a href="usage-big-page.ca.html">català</a>, <a href="usage-big-page.de.html">deutsch</a>, <a href="usage-big-page.es.html">español</a>, <a href="usage-big-page.fr.html">français</a>, <a href="usage-big-page.hu.html">magyar</a>, <a href="usage-big-page.it.html">italiano</a>
 <br>
 About <a href="http://www.lilypond.org/website/misc/browser-language">automatic language selection</a>.
</p>

<!-- FOOTER -->

<!-- end div#main here -->
</div>



<div id="tocframe">
<p class="toc_uplink"><a href="../Documentation/web/manuals.ja.html"
         title="Documentation Index">&lt;&lt; ドキュメント インデックスに戻る</a></p>
<h4 class="toc_header"> <a href="#index" title="Start of the manual">LilyPond &mdash; 使用方法  v2.19.65 (開発版). </a></h4>
<div class="contents">
<ul class="toc">
  <li class=""><a name="toc-lilypond-_3092_5b9f_884c_3059_308b-1" href="usage-big-page.ja.html#running-lilypond">1. <code>lilypond</code> を実行する</a>
  <ul class="toc">
    <li class=""><a name="toc-_901a_5e38_306e_4f7f_7528_65b9_6cd5-1" href="usage-big-page.ja.html#normal-usage">1.1 通常の使用方法</a>    </li>
    <li class=""><a name="toc-_30b3_30de_30f3_30c9-_30e9_30a4_30f3_306e_4f7f_7528_65b9_6cd5-1" href="usage-big-page.ja.html#command_002dline-usage">1.2 コマンド ラインの使用方法</a>    </li>
    <li class=""><a name="toc-_30a8_30e9_30fc-_30e1_30c3_30bb_30fc_30b8-1" href="usage-big-page.ja.html#error-messages">1.3 エラー メッセージ</a>    </li>
    <li class=""><a name="toc-_4e00_822c_7684_306a_30a8_30e9_30fc-1" href="usage-big-page.ja.html#common-errors">1.4 一般的なエラー</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-convert_002dly-_3092_4f7f_3063_3066_30d5_30a1_30a4_30eb_3092_66f4_65b0_3059_308b-1" href="usage-big-page.ja.html#updating-files-with-convert_002dly">2. <code>convert-ly</code> を使ってファイルを更新する</a>
  <ul class="toc">
    <li class=""><a name="toc-_4f55_6545_69cb_6587_306f_5909_66f4_3055_308c_308b_306e_304b_ff1f-1" href="usage-big-page.ja.html#why-does-the-syntax-change_003f">2.1 何故構文は変更されるのか？</a>    </li>
    <li class=""><a name="toc-convert_002dly-_3092_547c_3073_51fa_3059-1" href="usage-big-page.ja.html#invoking-convert_002dly">2.2 <code>convert-ly</code> を呼び出す</a>    </li>
    <li class=""><a name="toc-convert_002dly-_306e_30b3_30de_30f3_30c9-_30e9_30a4_30f3-_30aa_30d7_30b7_30e7_30f3-1" href="usage-big-page.ja.html#command-line-options-for-convert_002dly">2.3 <code>convert-ly</code> のコマンド ライン オプション</a>    </li>
    <li class=""><a name="toc-convert_002dly-_306e_554f_984c_70b9-1" href="usage-big-page.ja.html#problems-running-convert_002dly">2.4 <code>convert-ly</code> の問題点</a>    </li>
    <li class=""><a name="toc-_624b_52d5_5909_63db-1" href="usage-big-page.ja.html#manual-conversions">2.5 手動変換</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-lilypond_002dbook-_3092_5b9f_884c_3059_308b" href="usage-big-page.ja.html#lilypond_002dbook">3. <code>lilypond-book</code> を実行する</a>
  <ul class="toc">
    <li class=""><a name="toc-_97f3_697d_5b66_306e_30c9_30ad_30e5_30e1_30f3_30c8_306e_4f8b-1" href="usage-big-page.ja.html#an-example-of-a-musicological-document">3.1 音楽学のドキュメントの例</a>    </li>
    <li class=""><a name="toc-_697d_8b5c_3068_30c6_30ad_30b9_30c8_3092_7d71_5408_3059_308b-1" href="usage-big-page.ja.html#integrating-music-and-text">3.2 楽譜とテキストを統合する</a>    </li>
    <li class=""><a name="toc-_697d_8b5c_65ad_7247_30aa_30d7_30b7_30e7_30f3-1" href="usage-big-page.ja.html#music-fragment-options">3.3 楽譜断片オプション</a>    </li>
    <li class=""><a name="toc-lilypond_002dbook-_3092_547c_3073_51fa_3059-1" href="usage-big-page.ja.html#invoking-lilypond_002dbook">3.4 <code>lilypond-book</code> を呼び出す</a>    </li>
    <li class=""><a name="toc-_30d5_30a1_30a4_30eb_62e1_5f35_5b50-1" href="usage-big-page.ja.html#filename-extensions">3.5 ファイル拡張子</a>    </li>
    <li class=""><a name="toc-lilypond_002dbook-_30c6_30f3_30d7_30ec_30fc_30c8-1" href="usage-big-page.ja.html#lilypond_002dbook-templates">3.6 lilypond-book テンプレート</a>    </li>
    <li class=""><a name="toc-_76ee_6b21_3092_5171_6709_3059_308b-1" href="usage-big-page.ja.html#sharing-the-table-of-contents">3.7 目次を共有する</a>    </li>
    <li class=""><a name="toc-_30c6_30ad_30b9_30c8_3068_697d_8b5c_3092_7d44_307f_5408_308f_305b_308b_4ed6_306e_65b9_6cd5-1" href="usage-big-page.ja.html#alternative-methods-of-mixing-text-and-music">3.8 テキストと楽譜を組み合わせる他の方法</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-_5916_90e8_30d7_30ed_30b0_30e9_30e0-1" href="usage-big-page.ja.html#external-programs">4. 外部プログラム</a>
  <ul class="toc">
    <li class=""><a name="toc-_30dd_30a4_30f3_30c8_ff06_30af_30ea_30c3_30af-1" href="usage-big-page.ja.html#point-and-click">4.1 ポイント＆クリック</a>    </li>
    <li class=""><a name="toc-_30c6_30ad_30b9_30c8-_30a8_30c7_30a3_30bf-_30b5_30dd_30fc_30c8-1" href="usage-big-page.ja.html#text-editor-support">4.2 テキスト エディタ サポート</a>    </li>
    <li class=""><a name="toc-_4ed6_306e_30d5_30a9_30fc_30de_30c3_30c8_304b_3089_5909_63db_3059_308b-1" href="usage-big-page.ja.html#converting-from-other-formats">4.3 他のフォーマットから変換する</a>    </li>
    <li class=""><a name="toc-LilyPond-_51fa_529b_3092_4ed6_306e_30d7_30ed_30b0_30e9_30e0_3067_4f7f_7528_3059_308b-1" href="usage-big-page.ja.html#lilypond-output-in-other-programs">4.4 LilyPond 出力を他のプログラムで使用する</a>    </li>
    <li class=""><a name="toc-_72ec_7acb_3057_305f-include-1" href="usage-big-page.ja.html#independent-includes">4.5 独立した <code>include</code></a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-LilyPond-_5165_529b_30d5_30a1_30a4_30eb_306e_8a18_8ff0_306b_5bfe_3059_308b_63d0_6848-1" href="usage-big-page.ja.html#suggestions-for-writing-files">5. LilyPond 入力ファイルの記述に対する提案</a>
  <ul class="toc">
    <li class=""><a name="toc-_4e00_822c_7684_306a_63d0_6848-1" href="usage-big-page.ja.html#general-suggestions">5.1 一般的な提案</a>    </li>
    <li class=""><a name="toc-_65e2_5b58_306e_97f3_697d_3092_8b5c_523b_3059_308b-1" href="usage-big-page.ja.html#typesetting-existing-music">5.2 既存の音楽を譜刻する</a>    </li>
    <li class=""><a name="toc-_5927_304d_306a_30d7_30ed_30b8_30a7_30af_30c8-1" href="usage-big-page.ja.html#large-projects">5.3 大きなプロジェクト</a>    </li>
    <li class=""><a name="toc-_30c8_30e9_30d6_30eb_30b7_30e5_30fc_30c8-1" href="usage-big-page.ja.html#troubleshooting">5.4 トラブルシュート</a>    </li>
    <li class=""><a name="toc-Make-_3068-Makefile-1" href="usage-big-page.ja.html#make-and-makefiles">5.5 Make と Makefile</a>    </li>
  </ul>
  </li>
  <li class=""><a name="toc-GNU-Free-Documentation-License-1" href="usage-big-page.ja.html#gnu-free-documentation-license">A. GNU Free Documentation License</a>  </li>
  <li class=""><a name="toc-LilyPond-_30a4_30f3_30c7_30c3_30af_30b9-1" href="usage-big-page.ja.html#lilypond-index">B. LilyPond インデックス</a>  </li>
<li>
<!--
    Translation of GIT committish: 9bb7fa99aa8bc7c14a45a42224545c726bb6c592

    When revising a translation, copy the HEAD committish of the
    version that you are working on.  See TRANSLATION for details.
-->

<!--
we depend on an external entity here, which we cannot control.  Suppose
we go from 2.15.x to 2.17.x and put the documentation under "v2.17".
For some time, Google won't have the new location in its index, so the
search would get nothing.  It would be better to keep "v2.15" in the
search for a while and have a redirection from "v2.15" to "v2.17".
-->

<form action="http://google.com/search"
      method="get"
      name="search"
      onSubmit="search.q.value='site:lilypond.org/doc/v2.19 '
		+ search.brute_query.value"
      onMouseMove="search.q.value='site:lilypond.org/doc/v2.19 '
		   + search.brute_query.value"
      onKeyUp="search.q.value='site:lilypond.org/doc/v2.19 '
	       + search.brute_query.value">
  <input type="hidden" name="btnG" value="Google 検索">
  <input type="text" name="brute_query" onfocus="this.value=''" value="検索">
  <input type="hidden" name="q" value="">
</form>
</li>
</ul>
</div>
</div>

</body>
</html>
